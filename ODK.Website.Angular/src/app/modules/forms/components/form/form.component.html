<form *ngIf="form" (ngSubmit)="onSubmit()" [class.was-validated]="state.validated" novalidate>
  <fieldset [attr.disabled]="submitting ? 'disabled' : null" class="overlay-container">
    <app-form-controls [form]="form" [state]="state" [validated]="state.validated" [validateForm]="validateForm">
    </app-form-controls>
    <ng-container *ngIf="form.buttonText">
        <div class="d-flex align-items-center">
            <button type="submit" class="btn btn-primary">{{form.buttonText}}</button>
            <ng-content select="[app-button-row]"></ng-content>
        </div>
        <app-error-messages [messages]="messages"></app-error-messages>
    </ng-container>
  </fieldset>
</form>