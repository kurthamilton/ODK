{"version":3,"file":"unexpected.js","sources":["build/lib/AssertionString.js","build/lib/createStandardErrorMessage.js","node_modules/rollup-plugin-node-globals/src/global.js","node_modules/process-es6/browser.js","node_modules/greedy-interval-packer/lib/intersection.js","node_modules/greedy-interval-packer/lib/byDescStartAndLength.js","node_modules/greedy-interval-packer/lib/greedyIntervalPacker.js","build/lib/utils.js","node_modules/magicpen/lib/duplicateText.js","node_modules/rollup-plugin-node-globals/src/browser.js","node_modules/magicpen/lib/utils.js","node_modules/magicpen/lib/rgbRegexp.js","node_modules/magicpen/lib/cssStyles.js","node_modules/magicpen/lib/supportsColor.js","node_modules/magicpen/lib/platform.js","node_modules/magicpen/lib/flattenBlocksInLines.js","node_modules/magicpen/lib/TextSerializer.js","node_modules/magicpen/lib/themeMapper.js","node_modules/magicpen/lib/HtmlSerializer.js","node_modules/color-diff/lib/diff.js","node_modules/color-diff/lib/convert.js","node_modules/color-diff/lib/palette.js","node_modules/color-diff/lib/index.js","node_modules/magicpen/node_modules/ansi-styles/index.js","node_modules/magicpen/lib/AnsiSerializer.js","node_modules/magicpen/lib/ColoredConsoleSerializer.js","node_modules/magicpen/lib/MagicPen.js","node_modules/ukkonen/index.js","node_modules/unexpected-bluebird/js/main/es5.js","node_modules/unexpected-bluebird/js/main/util.js","node_modules/unexpected-bluebird/js/main/schedule.js","node_modules/unexpected-bluebird/js/main/queue.js","node_modules/unexpected-bluebird/js/main/async.js","node_modules/unexpected-bluebird/js/main/errors.js","node_modules/unexpected-bluebird/js/main/thenables.js","node_modules/unexpected-bluebird/js/main/captured_trace.js","node_modules/unexpected-bluebird/js/main/promise_resolver.js","node_modules/unexpected-bluebird/js/main/direct_resolve.js","node_modules/unexpected-bluebird/js/main/synchronous_inspection.js","node_modules/unexpected-bluebird/js/main/using.js","node_modules/unexpected-bluebird/js/main/generators.js","node_modules/unexpected-bluebird/js/main/call_get.js","node_modules/unexpected-bluebird/js/main/bluebird.js","node_modules/unexpected-bluebird/js/main/race.js","node_modules/unexpected-bluebird/js/main/promisify.js","node_modules/unexpected-bluebird/js/main/timers.js","node_modules/unexpected-bluebird/js/main/promise.js","node_modules/unexpected-bluebird/js/main/promise_array.js","node_modules/unexpected-bluebird/js/main/debuggability.js","node_modules/unexpected-bluebird/js/main/context.js","node_modules/unexpected-bluebird/js/main/catch_filter.js","node_modules/unexpected-bluebird/js/main/progress.js","node_modules/unexpected-bluebird/js/main/method.js","node_modules/unexpected-bluebird/js/main/bind.js","node_modules/unexpected-bluebird/js/main/finally.js","node_modules/unexpected-bluebird/js/main/join.js","node_modules/unexpected-bluebird/js/main/map.js","node_modules/unexpected-bluebird/js/main/cancel.js","node_modules/unexpected-bluebird/js/main/nodeify.js","node_modules/unexpected-bluebird/js/main/props.js","node_modules/unexpected-bluebird/js/main/reduce.js","node_modules/unexpected-bluebird/js/main/settle.js","node_modules/unexpected-bluebird/js/main/some.js","node_modules/unexpected-bluebird/js/main/any.js","node_modules/unexpected-bluebird/js/main/each.js","node_modules/unexpected-bluebird/js/main/filter.js","build/lib/workQueue.js","build/lib/useFullStackTrace.js","build/lib/oathbreaker.js","build/lib/throwIfNonUnexpectedError.js","build/lib/makePromise.js","build/lib/addAdditionalPromiseMethods.js","build/lib/wrapPromiseIfNecessary.js","build/lib/defaultDepth.js","build/lib/UnexpectedError.js","build/lib/notifyPendingPromise.js","build/lib/Context.js","build/lib/ensureValidUseOfParenthesesOrBrackets.js","build/lib/expandAssertion.js","build/lib/nodeJsCustomInspect.js","build/lib/createTopLevelExpect.js","node_modules/diff/lib/index.es6.js","build/lib/specialCharRegExp.js","node_modules/buffer-es6/base64.js","node_modules/buffer-es6/ieee754.js","node_modules/buffer-es6/isArray.js","node_modules/buffer-es6/index.js","node_modules/arraydiff-papandreou/index.js","node_modules/array-changes/lib/arrayChanges.js","node_modules/is-finite/index.js","node_modules/repeating/index.js","node_modules/detect-indent/index.js","build/lib/types.js","node_modules/arraydiff-async/index.js","node_modules/array-changes-async/lib/arrayChanges.js","build/lib/assertions.js","build/lib/index.js","build/lib/styles.js"],"sourcesContent":["module.exports = function AssertionString(text) {\n  this.text = text;\n};\n","var AssertionString = require('./AssertionString');\n\nmodule.exports = function createStandardErrorMessage(\n  output,\n  subject,\n  testDescription,\n  args,\n  options\n) {\n  if ( options === void 0 ) options = {};\n\n  var preamble = 'expected';\n\n  var subjectOutput = output.clone();\n  if (subject) {\n    subject.call(subjectOutput, subjectOutput);\n  }\n\n  var argsOutput = output.clone();\n  if (typeof args === 'function') {\n    args.call(argsOutput, argsOutput);\n  } else {\n    if (args.length > 0) {\n      var previousWasAssertion = false;\n      args.forEach(function (arg, index) {\n        var isAssertion =\n          arg && typeof arg === 'object' && arg instanceof AssertionString;\n        if (index > 0) {\n          if (!isAssertion && !previousWasAssertion) {\n            argsOutput.text(',');\n          }\n          argsOutput.sp();\n        }\n        if (isAssertion) {\n          argsOutput.error(arg.text);\n        } else {\n          arg.call(argsOutput, argsOutput);\n        }\n        previousWasAssertion = isAssertion;\n      });\n    }\n  }\n\n  var subjectSize = subjectOutput.size();\n  var argsSize = argsOutput.size();\n  var width =\n    preamble.length +\n    subjectSize.width +\n    argsSize.width +\n    testDescription.length;\n  var height = Math.max(subjectSize.height, argsSize.height);\n\n  if ('omitSubject' in output && output.omitSubject === options.subject) {\n    var matchTestDescription = /^(not )?to (.*)/.exec(testDescription);\n    if (matchTestDescription) {\n      output.error('should ');\n      if (matchTestDescription[1]) {\n        output.error('not ');\n      }\n      testDescription = matchTestDescription[2];\n    } else {\n      testDescription = \"expected: \" + testDescription;\n    }\n  } else if (\n    options.compact &&\n    options.compactSubject &&\n    (subjectSize.height > 1 || subjectSize.width > (options.compactWidth || 35))\n  ) {\n    output.error('expected').sp();\n    options.compactSubject.call(output, output);\n    output.sp();\n  } else {\n    output.error(preamble);\n    if (subjectSize.height > 1) {\n      output.nl();\n    } else {\n      output.sp();\n    }\n    output.append(subjectOutput);\n    if (\n      subjectSize.height > 1 ||\n      (height === 1 && width > output.preferredWidth)\n    ) {\n      output.nl();\n    } else {\n      output.sp();\n    }\n  }\n\n  output.error(testDescription);\n\n  if (argsSize.height > 1) {\n    output.nl();\n  } else if (argsSize.width > 0) {\n    output.sp();\n  }\n\n  output.append(argsOutput);\n\n  return output;\n};\n","export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","var intersection = {\n    intersects: function intersects(x, y) {\n        return (x.start < y.end && y.start < x.end) || x.start === y.start;\n    },\n\n    intersectsWithSome: function intersectsWithSome(intervals, interval) {\n        function intersectWithInterval(other) {\n            return intersection.intersects(interval, other);\n        }\n        return intervals.some(intersectWithInterval);\n    }\n};\n\nmodule.exports = intersection;\n","module.exports = function (a, b) {\n    var c = b.start - a.start;\n    if (c !== 0) { return c; }\n    return (a.end - a.start) - (b.end - b.start);\n};\n","var intersectsWithSome = require('./intersection').intersectsWithSome;\nvar byDescStartAndLength = require('./byDescStartAndLength');\n\nmodule.exports = function greedyIntervalPacker(intervals, options) {\n    options = options || {};\n\n    if (!Array.isArray(intervals)) {\n        throw new Error('The interval packer requires an array of objects with start and end properties.');\n    }\n\n    if (intervals.length === 0) {\n        return [];\n    }\n\n    intervals.forEach(function (interval) {\n        if (\n            typeof interval !== 'object' ||\n            typeof interval.start !== 'number' ||\n            typeof interval.end !== 'number' ||\n            interval.end <= interval.start\n        ) {\n            throw new Error('Intervals must be objects with integer properties start and end where start < end.');\n        }\n    });\n\n    intervals = [].concat(intervals).sort(byDescStartAndLength);\n\n    var currentPartition;\n    var partitions = [];\n    var currentPartitionEnd = -Infinity;\n\n    while (intervals.length > 0) {\n        var interval = intervals.pop();\n\n        if (currentPartitionEnd <= interval.start) {\n            currentPartition = [[]];\n            partitions.push(currentPartition);\n        }\n\n        var i = 0;\n\n        while (\n            i < currentPartition.length &&\n            intersectsWithSome(currentPartition[i], interval)\n        ) {\n            i += 1;\n        }\n        (currentPartition[i] = currentPartition[i] || []).push(interval);\n        currentPartitionEnd = Math.max(currentPartitionEnd, interval.end);\n    }\n\n    if (!options.groupPartitions) {\n        return partitions.reduce(function (result, partition) {\n            partition.forEach(function (partitionGroup, i) {\n                result[i] = result[i] || [];\n                Array.prototype.push.apply(result[i], partitionGroup);\n                return result;\n            });\n            return result;\n        }, []);\n    } else {\n        return partitions;\n    }\n};\n","/* eslint-disable no-proto */\n/* global Deno */\n\nvar canSetPrototype =\n  Object.setPrototypeOf || { __proto__: [] } instanceof Array;\nvar greedyIntervalPacker = require('greedy-interval-packer');\n\nvar setPrototypeOf =\n  Object.setPrototypeOf ||\n  function setPrototypeOf(obj, proto) {\n    obj.__proto__ = proto;\n    return obj;\n  };\n/* eslint-enable no-proto */\n\nvar utils = (module.exports = {\n  objectIs:\n    Object.is ||\n    (function (a, b) {\n      // Polyfill from https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n      if (a === 0 && b === 0) {\n        return 1 / a === 1 / b;\n      }\n      // eslint-disable-next-line no-self-compare\n      if (a !== a) {\n        // eslint-disable-next-line no-self-compare\n        return b !== b;\n      }\n      return a === b;\n    }),\n\n  checkObjectEqualityUsingType: function checkObjectEqualityUsingType(a, b, type, isEqual) {\n    if (a === b) {\n      return true;\n    }\n\n    if (b.constructor !== a.constructor) {\n      return false;\n    }\n\n    var actualKeys = type\n      .getKeys(a)\n      .filter(function (key) { return typeof type.valueForKey(a, key) !== 'undefined'; });\n    var expectedKeys = type\n      .getKeys(b)\n      .filter(function (key) { return typeof type.valueForKey(b, key) !== 'undefined'; });\n\n    // having the same number of owned properties (keys incorporates hasOwnProperty)\n    if (actualKeys.length !== expectedKeys.length) {\n      return false;\n    }\n\n    // the same set of keys (although not necessarily the same order),\n    actualKeys.sort(type.keyComparator);\n    expectedKeys.sort(type.keyComparator);\n    // cheap key test\n    for (var i = 0; i < actualKeys.length; i += 1) {\n      if (actualKeys[i] !== expectedKeys[i]) {\n        return false;\n      }\n    }\n\n    // equivalent values for every corresponding key, and\n    // possibly expensive deep test\n    for (var j = 0; j < actualKeys.length; j += 1) {\n      var key = actualKeys[j];\n      if (!isEqual(type.valueForKey(a, key), type.valueForKey(b, key))) {\n        return false;\n      }\n    }\n    return true;\n  },\n\n  duplicateArrayLikeUsingType: function duplicateArrayLikeUsingType(obj, type) {\n    var keys = type.getKeys(obj);\n\n    var numericalKeyLength = keys.length;\n    if (!type.numericalPropertiesOnly) {\n      var nonNumericalKeyLength = 0;\n      // find non-numerical keys in reverse order to keep iteration minimal\n      for (var i = keys.length - 1; i > -1; i -= 1) {\n        var key = keys[i];\n        if (typeof key === 'symbol' || !utils.numericalRegExp.test(key)) {\n          nonNumericalKeyLength += 1;\n        } else {\n          break;\n        }\n      }\n      // remove non-numerical keys to ensure the copy is sized correctly\n      numericalKeyLength -= nonNumericalKeyLength;\n    }\n\n    var arr = new Array(numericalKeyLength);\n\n    keys.forEach(function (key, index) {\n      var isNonNumericKey = index >= numericalKeyLength;\n      if (isNonNumericKey && !type.hasKey(obj, key)) {\n        // do not add non-numerical keys that are not actually attached\n        // to the array-like to ensure they will be treated as \"missing\"\n        return;\n      }\n      arr[key] = type.hasKey(obj, key) ? type.valueForKey(obj, key) : undefined;\n    });\n\n    return arr;\n  },\n\n  isArray:\n    Array.isArray ||\n    function (obj) {\n      return Object.prototype.toString.call(obj) === '[object Array]';\n    },\n\n  isPromise: function isPromise(obj) {\n    return obj && typeof obj.then === 'function';\n  },\n\n  isRegExp: function isRegExp(re) {\n    return Object.prototype.toString.call(re) === '[object RegExp]';\n  },\n\n  isError: function isError(err) {\n    return (\n      typeof err === 'object' &&\n      (Object.prototype.toString.call(err) === '[object Error]' ||\n        err instanceof Error)\n    );\n  },\n\n  extend: function extend(target) {\n    var arguments$1 = arguments;\n\n    var loop = function ( i ) {\n      var source = arguments$1[i];\n      if (source) {\n        Object.keys(source).forEach(function (key) {\n          target[key] = source[key];\n        });\n      }\n    };\n\n    for (var i = 1; i < arguments.length; i += 1) loop( i );\n    return target;\n  },\n\n  findFirst: function findFirst(arr, predicate) {\n    for (var i = 0; i < arr.length; i += 1) {\n      if (predicate(arr[i])) {\n        return arr[i];\n      }\n    }\n    return null;\n  },\n\n  leftPad: function leftPad(str, width, ch) {\n    if ( ch === void 0 ) ch = ' ';\n\n    while (str.length < width) {\n      str = ch + str;\n    }\n    return str;\n  },\n\n  escapeRegExpMetaChars: function escapeRegExpMetaChars(str) {\n    return str.replace(/[[\\]{}()*+?.\\\\^$|]/g, '\\\\$&');\n  },\n\n  escapeChar: function escapeChar(ch) {\n    if (ch === '\\t') {\n      return '\\\\t';\n    } else if (ch === '\\r') {\n      return '\\\\r';\n    } else {\n      var charCode = ch.charCodeAt(0);\n      var hexChars = charCode.toString(16).toUpperCase();\n      if (charCode < 256) {\n        return (\"\\\\x\" + (utils.leftPad(hexChars, 2, '0')));\n      } else {\n        return (\"\\\\u\" + (utils.leftPad(hexChars, 4, '0')));\n      }\n    }\n  },\n\n  getFunctionName: function getFunctionName(f) {\n    if (typeof f.name === 'string') {\n      return f.name;\n    }\n    var matchFunctionName = Function.prototype.toString\n      .call(f)\n      .match(/function ([^(]+)/);\n    if (matchFunctionName) {\n      return matchFunctionName[1];\n    }\n\n    if (f === Object) {\n      return 'Object';\n    }\n    if (f === Function) {\n      return 'Function';\n    }\n    return '';\n  },\n\n  wrapConstructorNameAroundOutput: function wrapConstructorNameAroundOutput(output, obj) {\n    var constructor = obj.constructor;\n    var constructorName =\n      constructor &&\n      constructor !== Object &&\n      utils.getFunctionName(constructor);\n    if (constructorName && constructorName !== 'Object') {\n      return output\n        .clone()\n        .text((constructorName + \"(\"))\n        .append(output)\n        .text(')');\n    } else {\n      return output;\n    }\n  },\n\n  setPrototypeOfOrExtend: canSetPrototype\n    ? setPrototypeOf\n    : function extend(target, source) {\n        for (var prop in source) {\n          if (Object.prototype.hasOwnProperty.call(source, prop)) {\n            target[prop] = source[prop];\n          }\n        }\n        return target;\n      },\n\n  uniqueStringsAndSymbols: function uniqueStringsAndSymbols() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    // [filterFn], item1, item2...\n    var filterFn;\n    if (typeof args[0] === 'function') {\n      filterFn = args[0];\n    }\n    var index = {};\n    var uniqueStringsAndSymbols = [];\n\n    function visit(item) {\n      if (Array.isArray(item)) {\n        item.forEach(visit);\n      } else if (\n        !Object.prototype.hasOwnProperty.call(index, item) &&\n        (!filterFn || filterFn(item))\n      ) {\n        index[item] = true;\n        uniqueStringsAndSymbols.push(item);\n      }\n    }\n\n    for (var i = filterFn ? 1 : 0; i < args.length; i += 1) {\n      visit(args[i]);\n    }\n    return uniqueStringsAndSymbols;\n  },\n\n  uniqueNonNumericalStringsAndSymbols: function uniqueNonNumericalStringsAndSymbols() {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    // ...\n    return utils.uniqueStringsAndSymbols(\n      function (stringOrSymbol) { return typeof stringOrSymbol === 'symbol' ||\n        !utils.numericalRegExp.test(stringOrSymbol); },\n      Array.prototype.slice.call(args)\n    );\n  },\n\n  forwardFlags: function forwardFlags(testDescriptionString, flags) {\n    return testDescriptionString\n      .replace(/\\[(!?)([^\\]]+)\\] ?/g, function (match, negate, flag) { return Boolean(flags[flag]) !== Boolean(negate) ? (flag + \" \") : ''; }\n      )\n      .trim();\n  },\n\n  numericalRegExp: /^(?:0|[1-9][0-9]*)$/,\n\n  packArrows: function packArrows(changes) {\n    var moveSourceAndTargetByActualIndex = {};\n    changes.forEach(function (diffItem, index) {\n      if (diffItem.type === 'moveSource') {\n        diffItem.changeIndex = index;\n        (moveSourceAndTargetByActualIndex[diffItem.actualIndex] =\n          moveSourceAndTargetByActualIndex[diffItem.actualIndex] || {}).source =\n          diffItem;\n      } else if (diffItem.type === 'moveTarget') {\n        diffItem.changeIndex = index;\n        (moveSourceAndTargetByActualIndex[diffItem.actualIndex] =\n          moveSourceAndTargetByActualIndex[diffItem.actualIndex] || {}).target =\n          diffItem;\n      }\n    });\n    var moveIndices = Object.keys(moveSourceAndTargetByActualIndex);\n    if (moveIndices.length > 0) {\n      var arrowSpecs = [];\n      moveIndices\n        .sort(\n          function (\n            a,\n            b // Order by distance between change indices descending\n          ) { return Math.abs(\n              moveSourceAndTargetByActualIndex[b].source.changeIndex -\n                moveSourceAndTargetByActualIndex[b].target.changeIndex\n            ) -\n            Math.abs(\n              moveSourceAndTargetByActualIndex[a].source.changeIndex -\n                moveSourceAndTargetByActualIndex[a].target.changeIndex\n            ); }\n        )\n        .forEach(function (actualIndex, i, keys) {\n          var moveSourceAndMoveTarget =\n            moveSourceAndTargetByActualIndex[actualIndex];\n          var firstChangeIndex = Math.min(\n            moveSourceAndMoveTarget.source.changeIndex,\n            moveSourceAndMoveTarget.target.changeIndex\n          );\n          var lastChangeIndex = Math.max(\n            moveSourceAndMoveTarget.source.changeIndex,\n            moveSourceAndMoveTarget.target.changeIndex\n          );\n\n          arrowSpecs.push({\n            start: firstChangeIndex,\n            end: lastChangeIndex,\n            direction:\n              moveSourceAndMoveTarget.source.changeIndex <\n              moveSourceAndMoveTarget.target.changeIndex\n                ? 'down'\n                : 'up',\n          });\n        });\n\n      var packing = greedyIntervalPacker(arrowSpecs);\n      while (packing.length > 3) {\n        // The arrow packing takes up too many lanes. Turn the moveSource/moveTarget items into inserts and removes\n        packing.shift().forEach(function (ref) {\n          var direction = ref.direction;\n          var start = ref.start;\n          var end = ref.end;\n\n          changes[direction === 'up' ? start : end].type = 'insert';\n          changes[direction === 'up' ? end : start].type = 'remove';\n        });\n      }\n      return packing;\n    }\n  },\n\n  truncateSubjectStringForBegin: function truncateSubjectStringForBegin(subject, value) {\n    var contextLength = value.length + 25;\n    if (subject.length <= contextLength) {\n      return null;\n    }\n    var truncationIndex = subject.indexOf(' ', value.length + 1);\n    if (truncationIndex > -1 && truncationIndex < contextLength) {\n      return subject.substring(0, truncationIndex);\n    } else {\n      return subject.substring(0, contextLength);\n    }\n  },\n\n  truncateSubjectStringForEnd: function truncateSubjectStringForEnd(subject, value) {\n    var contextLength = subject.length - value.length - 25;\n    if (contextLength <= 0) {\n      return null;\n    }\n    var truncationIndex = subject.lastIndexOf(' ', value.length + 1);\n    if (truncationIndex > -1 && truncationIndex >= contextLength) {\n      return subject.substring(truncationIndex + 1, subject.length);\n    } else {\n      return subject.substring(contextLength, subject.length);\n    }\n  },\n\n  getEnv: function getEnv(varName) {\n    if (typeof Deno === 'object') {\n      try {\n        return Deno.env()[varName];\n      } catch (err) {\n        // Probably a permissions error because we don't have permission to read the environment variables\n        // Unfortunately the whole permissions API is async now:\n        // https://github.com/denoland/deno/pull/3200/files\n        // ... so we can't detect whether we do have access\n      }\n    } else if (typeof process === 'object' && process.env) {\n      return process.env[varName];\n    }\n  },\n});\n","var whitespaceCacheLength = 256;\nvar whitespaceCache = [''];\nfor (var i = 1; i <= whitespaceCacheLength; i += 1) {\n    whitespaceCache[i] = whitespaceCache[i - 1] + ' ';\n}\n\nfunction duplicateText(content, times) {\n    if (times < 0) {\n        return '';\n    }\n\n    var result = '';\n\n    if (content === ' ') {\n        if (times <= whitespaceCacheLength) {\n            return whitespaceCache[times];\n        }\n\n        var segment = whitespaceCache[whitespaceCacheLength];\n        var numberOfSegments = Math.floor(times / whitespaceCacheLength);\n        for (var i = 0; i < numberOfSegments; i += 1) {\n            result += segment;\n        }\n        result += whitespaceCache[times % whitespaceCacheLength];\n    } else {\n        for (var j = 0; j < times; j += 1) {\n            result += content;\n        }\n    }\n\n    return result;\n}\n\nmodule.exports = duplicateText;\n","export var browser = true;\n","var utils = {\n    extend: function (target) {\n        for (var i = 1; i < arguments.length; i += 1) {\n            var source = arguments[i];\n            Object.keys(source).forEach(function (key) {\n                target[key] = source[key];\n            });\n        }\n        return target;\n    },\n\n    calculateOutputEntrySize: function (outputEntry) {\n        if (outputEntry.size) {\n            return outputEntry.size;\n        }\n\n        var size;\n        switch (outputEntry.style) {\n        case 'text':\n            size = { width: String(outputEntry.args.content).length, height: 1 };\n            break;\n        case 'block':\n            size = utils.calculateSize(outputEntry.args);\n            break;\n        case 'raw':\n            var arg = outputEntry.args;\n            size = { width: arg.width, height: arg.height };\n            break;\n        default: size = { width: 0, height: 0 };\n        }\n\n        outputEntry.size = size;\n        return size;\n    },\n\n    calculateLineSize: function (line) {\n        var size = { height: 1, width: 0 };\n        line.forEach(function (outputEntry) {\n            var outputEntrySize = utils.calculateOutputEntrySize(outputEntry);\n            size.width += outputEntrySize.width;\n            size.height = Math.max(outputEntrySize.height, size.height);\n        });\n        return size;\n    },\n\n    calculateSize: function (lines) {\n        var size = { height: 0, width: 0 };\n        lines.forEach(function (line) {\n            var lineSize = utils.calculateLineSize(line);\n            size.height += lineSize.height;\n            size.width = Math.max(size.width, lineSize.width);\n        });\n        return size;\n    },\n\n    arrayEquals: function (a, b) {\n        if (a === b) {\n            return true;\n        }\n\n        if (!a || a.length !== b.length) {\n            return false;\n        }\n\n        for (var i = 0; i < a.length; i += 1) {\n            if (a[i] !== b[i]) {\n                return false;\n            }\n        }\n\n        return true;\n\n    },\n\n    escapeRegExp: function (text){\n        return text.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, \"\\\\$1\");\n    },\n\n    findFirst: function (arr, predicate, thisObj) {\n        var scope = thisObj || null;\n        for (var i = 0 ; i < arr.length ; i += 1) {\n            if (predicate.call(scope, arr[i], i, arr)) {\n                return arr[i];\n            }\n        }\n        return null;\n    },\n\n    getFunctionName: function (f) {\n        if (typeof f.name === 'string') {\n            return f.name;\n        }\n        var matchFunctionName = Function.prototype.toString.call(f).match(/function ([^\\(]+)/);\n        if (matchFunctionName) {\n            return matchFunctionName[1];\n        }\n\n        if (f === Object) {\n            return 'Object';\n        }\n        if (f === Function) {\n            return 'Function';\n        }\n    }\n};\n\nmodule.exports = utils;\n","module.exports =  /^(?:bg)?#(?:[0-9a-f]{3}|[0-9a-f]{6})$/i;\n","var cssStyles = {\n    bold: 'font-weight: bold',\n    dim: 'opacity: 0.7',\n    italic: 'font-style: italic',\n    underline: 'text-decoration: underline',\n    inverse: '-webkit-filter: invert(%100); filter: invert(100%)',\n    hidden: 'visibility: hidden',\n    strikeThrough: 'text-decoration: line-through',\n\n    black: 'color: black',\n    red: 'color: red',\n    green: 'color: green',\n    yellow: 'color: yellow',\n    blue: 'color: blue',\n    magenta: 'color: magenta',\n    cyan: 'color: cyan',\n    white: 'color: white',\n    gray: 'color: gray',\n\n    bgBlack: 'background-color: black',\n    bgRed: 'background-color: red',\n    bgGreen: 'background-color: green',\n    bgYellow: 'background-color: yellow',\n    bgBlue: 'background-color: blue',\n    bgMagenta: 'background-color: magenta',\n    bgCyan: 'background-color: cyan',\n    bgWhite: 'background-color: white'\n};\n\nObject.keys(cssStyles).forEach(function (styleName) {\n    cssStyles[styleName.toLowerCase()] = cssStyles[styleName];\n});\n\nmodule.exports = cssStyles;\n","var platform = require('./platform');\n\n// Fork from https://github.com/sindresorhus/has-flag\nvar hasFlag = function hasFlag(flag, argv) {\n  argv = argv || platform.argv;\n  var prefix = flag.indexOf('-') === 0 ? '' : flag.length === 1 ? '-' : '--';\n  var pos = argv.indexOf(prefix + flag);\n  var terminatorPos = argv.indexOf('--');\n  return pos !== -1 && (terminatorPos === -1 || pos < terminatorPos);\n};\n\n// Fork from https://github.com/chalk/supports-color\nvar env = platform.env;\n\nvar forceColor;\nif (hasFlag('no-color') || hasFlag('no-colors') || hasFlag('color=false') || hasFlag('color=never')) {\n  forceColor = 0;\n} else if (hasFlag('color') || hasFlag('colors') || hasFlag('color=true') || hasFlag('color=always')) {\n  forceColor = 1;\n} else if (platform.runtime === 'deno') {\n  forceColor = platform.color;\n}\n\nif ('FORCE_COLOR' in env) {\n  if (env.FORCE_COLOR === 'true') {\n    forceColor = 1;\n  } else if (env.FORCE_COLOR === 'false') {\n    forceColor = 0;\n  } else {\n    forceColor = env.FORCE_COLOR.length === 0 ? 1 : Math.min(parseInt(env.FORCE_COLOR, 10), 3);\n  }\n}\n\nfunction translateLevel(level) {\n  if (level === 0) {\n    return false;\n  }\n\n  return {\n    level: level,\n    hasBasic: true,\n    has256: level >= 2,\n    has16m: level >= 3\n  };\n}\n\nfunction supportsColor(stream) {\n  if (forceColor === 0) {\n    return 0;\n  }\n\n  if (hasFlag('color=16m') || hasFlag('color=full') || hasFlag('color=truecolor')) {\n    return 3;\n  }\n\n  if (hasFlag('color=256')) {\n    return 2;\n  }\n\n  if (stream && !stream.isTTY && forceColor === undefined) {\n    return 0;\n  }\n\n  var min = forceColor || 0;\n\n  if (env.TERM === 'dumb') {\n    return min;\n  }\n\n  if (platform.runtime === 'node' && process.platform === 'win32') {\n    // Node.js 7.5.0 is the first version of Node.js to include a patch to\n    // libuv that enables 256 color output on Windows. Anything earlier and it\n    // won't work. However, here we target Node.js 8 at minimum as it is an LTS\n    // release, and Node.js 7 is not. Windows 10 build 10586 is the first Windows\n    // release that supports 256 colors. Windows 10 build 14931 is the first release\n    // that supports 16m/TrueColor.\n    var osRelease = platform.getNodeRelease().split('.');\n    if (Number(process.versions.node.split('.')[0]) >= 8 && Number(osRelease[0]) >= 10 && Number(osRelease[2]) >= 10586) {\n      return Number(osRelease[2]) >= 14931 ? 3 : 2;\n    }\n\n    return 1;\n  }\n\n  if ('CI' in env) {\n    if (['TRAVIS', 'CIRCLECI', 'APPVEYOR', 'GITLAB_CI'].some(function (sign) {\n      return sign in env;\n    }) || env.CI_NAME === 'codeship') {\n      return 1;\n    }\n\n    return min;\n  }\n\n  if ('TEAMCITY_VERSION' in env) {\n    return (/^(9\\.(0*[1-9]\\d*)\\.|\\d{2,}\\.)/.test(env.TEAMCITY_VERSION) ? 1 : 0\n    );\n  }\n\n  if (env.COLORTERM === 'truecolor') {\n    return 3;\n  }\n\n  if ('TERM_PROGRAM' in env) {\n    var version = parseInt((env.TERM_PROGRAM_VERSION || '').split('.')[0], 10);\n\n    switch (env.TERM_PROGRAM) {\n      case 'iTerm.app':\n        return version >= 3 ? 3 : 2;\n      case 'Apple_Terminal':\n        return 2;\n      // No default\n    }\n  }\n\n  if (/-256(color)?$/i.test(env.TERM)) {\n    return 2;\n  }\n\n  if (/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)) {\n    return 1;\n  }\n\n  if ('COLORTERM' in env) {\n    return 1;\n  }\n\n  return min;\n}\n\nfunction getSupportLevel(stream) {\n  var level = supportsColor(stream);\n  return translateLevel(level);\n}\n\nmodule.exports = {\n  supportsColor: getSupportLevel,\n  stdout: typeof process === 'undefined' ? 0 : getSupportLevel(process.stdout),\n  stderr: typeof process === 'undefined' ? 0 : getSupportLevel(process.stderr),\n};\n\n","/*globals Deno*/\nvar isNode = !!(typeof process !== 'undefined' && process.versions && process.versions.node);\n\nmodule.exports = (function () {\n    if (typeof Deno !== 'undefined') {\n        var env = {};\n        try {\n            env = Deno.env();\n        } catch (err) {\n          // Probably a permissions error because we don't have permission to read the environment variables\n          // Unfortunately the whole permissions API is async now:\n          // https://github.com/denoland/deno/pull/3200/files\n          // ... so we can't detect whether we do have access\n        }\n\n        return {\n            argv: Deno.args,\n            color: !Deno.noColor ? 1 : 0,\n            env: env,\n            runtime: 'deno'\n        };\n    } else if (isNode) {\n        var os;\n        try {\n            os = require(\"os\");\n        } catch (err) {\n            // The environment is masquerading as node.js, but doesn't provide an os module.\n            // Assume that we're actually in a browser\n            // https://github.com/unexpectedjs/unexpected/issues/804#issue-870530110\n            return {\n                argv: [],\n                env: {},\n                runtime: \"browser\"\n            };\n        }\n\n        return {\n            argv: process.argv,\n            env: process.env,\n            runtime: 'node',\n            getNodeRelease: os.release\n        };\n    } else {\n        return {\n            argv: [],\n            env: {},\n            runtime: 'browser'\n        };\n    }\n})();\n","var utils = require('./utils');\nvar duplicateText = require('./duplicateText');\n\nfunction createPadding(length, themes) {\n    return {\n        style: 'text',\n        args: {\n            content: duplicateText(' ', length),\n            styles: []\n        },\n        themes: themes\n    };\n}\n\nfunction lineContainsBlocks(line) {\n    return line.some(function (outputEntry) {\n        return outputEntry.style === 'block' ||\n            (outputEntry.style === 'text' && String(outputEntry.args.content).indexOf('\\n') !== -1);\n    });\n}\n\nfunction flattenBlocksInOutputEntry(outputEntry) {\n    switch (outputEntry.style) {\n    case 'text': return String(outputEntry.args.content).split('\\n').map(function (line) {\n        if (line === '') {\n            return [];\n        }\n\n        var args = { content: line, styles: outputEntry.args.styles };\n        return [{ style: 'text', args: args, themes: outputEntry.themes }];\n    });\n    case 'block': return flattenBlocksInLines(outputEntry.args);\n    default: return [];\n    }\n}\n\nfunction flattenBlocksInLine(line) {\n    if (line.length === 0) {\n       return [[]];\n    }\n\n    if (!lineContainsBlocks(line)) {\n        return [line];\n    }\n\n    var result = [];\n    var linesLengths = [];\n\n    var startIndex = 0;\n    line.forEach(function (outputEntry, blockIndex) {\n        var blockLines = flattenBlocksInOutputEntry(outputEntry);\n\n        var blockLinesLengths = blockLines.map(function (line) {\n            return utils.calculateLineSize(line).width;\n        });\n\n        var longestLineLength = Math.max.apply(null, blockLinesLengths);\n\n        blockLines.forEach(function (blockLine, index) {\n            var resultLine = result[index];\n\n            if (!resultLine) {\n                result[index] = resultLine = [];\n                linesLengths[index] = 0;\n            }\n\n            if (blockLine.length) {\n                var paddingLength = startIndex - linesLengths[index];\n                resultLine.push(createPadding(paddingLength, outputEntry.themes));\n                Array.prototype.push.apply(resultLine, blockLine);\n                linesLengths[index] = startIndex + blockLinesLengths[index];\n            }\n        });\n\n        startIndex += longestLineLength;\n    }, this);\n    return result;\n}\n\nfunction flattenBlocksInLines(lines) {\n    var result = [];\n    lines.forEach(function (line) {\n        flattenBlocksInLine(line).forEach(function (line) {\n            result.push(line);\n        });\n    });\n    return result;\n}\n\nmodule.exports = flattenBlocksInLines;\n","var flattenBlocksInLines = require('./flattenBlocksInLines');\n\nfunction TextSerializer() {}\n\nTextSerializer.prototype.format = 'text';\n\nTextSerializer.prototype.serialize = function (lines) {\n    lines = flattenBlocksInLines(lines);\n    return lines.map(this.serializeLine, this).join('\\n');\n};\n\nTextSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            String(this[outputEntry.style](outputEntry.args, outputEntry.themes)) :\n            '';\n    }, this).join('');\n};\n\nTextSerializer.prototype.text = function (options) {\n    return String(options.content);\n};\n\nTextSerializer.prototype.block = function (content) {\n    return this.serialize(content);\n};\n\nTextSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\n\nmodule.exports = TextSerializer;\n","module.exports = function (theme, styles) {\n    if (styles.length === 1) {\n        var count = 0;\n        var stack = [];\n        var themeMapping = styles[0];\n        var themeStyles = theme.styles || {};\n        while(typeof themeMapping === 'string' && themeStyles[themeMapping]) {\n            themeMapping = themeStyles[themeMapping];\n            count += 1;\n            if (count > 100) {\n                var index = stack.indexOf(themeMapping);\n                stack.push(themeMapping);\n                if (index !== -1) {\n                    throw new Error('Your theme contains a loop: ' + stack.slice(index).join(' -> '));\n                }\n            }\n        }\n\n        return Array.isArray(themeMapping) ? themeMapping : [themeMapping];\n    }\n\n    return styles;\n};\n","var cssStyles = require('./cssStyles');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction HtmlSerializer() {}\n\nHtmlSerializer.prototype.format = 'html';\n\nHtmlSerializer.prototype.serialize = function (lines) {\n    return '<div style=\"font-family: monospace; white-space: nowrap\">' + this.serializeLines(lines) + '</div>';\n};\n\nHtmlSerializer.prototype.serializeLines = function (lines) {\n    return lines.map(function (line) {\n        return '<div>' + (this.serializeLine(line).join('') || '&nbsp;') + '</div>';\n    }, this).join('');\n};\n\nHtmlSerializer.prototype.serializeLine = function (line) {\n    return line.map(function (outputEntry) {\n        return this[outputEntry.style] ?\n            this[outputEntry.style](outputEntry.args, outputEntry.themes) :\n            '';\n    }, this);\n};\n\nHtmlSerializer.prototype.block = function (content) {\n    return '<div style=\"display: inline-block; vertical-align: top\">' +\n        this.serializeLines(content) +\n        '</div>';\n};\n\nHtmlSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n\n    if (content === '') {\n        return '';\n    }\n\n    content = content\n        .replace(/&/g, '&amp;')\n        .replace(/ /g, '&nbsp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;');\n\n    var styles = themeMapper(themes.html || {}, options.styles);\n\n    if (styles.length > 0) {\n        var styleProperties = [];\n        for (var j = 0; j < styles.length; j += 1) {\n            var styleName = styles[j];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n\n        }\n\n        if (styleProperties.length > 0) {\n            content = '<span style=\"' + styleProperties.join('; ') + '\">' + content + '</span>';\n        }\n    }\n    return content;\n};\n\nHtmlSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = HtmlSerializer;\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.ciede2000 = ciede2000;\n\n/**\n* IMPORTS\n*/\nvar sqrt = Math.sqrt;\nvar pow = Math.pow;\nvar cos = Math.cos;\nvar atan2 = Math.atan2;\nvar sin = Math.sin;\nvar abs = Math.abs;\nvar exp = Math.exp;\nvar PI = Math.PI;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns diff between c1 and c2 using the CIEDE2000 algorithm\n* @param {labcolor} c1    Should have fields L,a,b\n* @param {labcolor} c2    Should have fields L,a,b\n* @return {float}   Difference between c1 and c2\n*/\nfunction ciede2000(c1,c2)\n{\n  /**\n   * Implemented as in \"The CIEDE2000 Color-Difference Formula:\n   * Implementation Notes, Supplementary Test Data, and Mathematical Observations\"\n   * by Gaurav Sharma, Wencheng Wu and Edul N. Dalal.\n   */\n\n  // Get L,a,b values for color 1\n  var L1 = c1.L;\n  var a1 = c1.a;\n  var b1 = c1.b;\n\n  // Get L,a,b values for color 2\n  var L2 = c2.L;\n  var a2 = c2.a;\n  var b2 = c2.b;\n\n  // Weight factors\n  var kL = 1;\n  var kC = 1;\n  var kH = 1;\n\n  /**\n   * Step 1: Calculate C1p, C2p, h1p, h2p\n   */\n  var C1 = sqrt(pow(a1, 2) + pow(b1, 2)) //(2)\n  var C2 = sqrt(pow(a2, 2) + pow(b2, 2)) //(2)\n\n  var a_C1_C2 = (C1+C2)/2.0;             //(3)\n\n  var G = 0.5 * (1 - sqrt(pow(a_C1_C2 , 7.0) /\n                          (pow(a_C1_C2, 7.0) + pow(25.0, 7.0)))); //(4)\n\n  var a1p = (1.0 + G) * a1; //(5)\n  var a2p = (1.0 + G) * a2; //(5)\n\n  var C1p = sqrt(pow(a1p, 2) + pow(b1, 2)); //(6)\n  var C2p = sqrt(pow(a2p, 2) + pow(b2, 2)); //(6)\n\n  var hp_f = function(x,y) //(7)\n  {\n    if(x== 0 && y == 0) return 0;\n    else{\n      var tmphp = degrees(atan2(x,y));\n      if(tmphp >= 0) return tmphp\n      else           return tmphp + 360;\n    }\n  }\n\n  var h1p = hp_f(b1, a1p); //(7)\n  var h2p = hp_f(b2, a2p); //(7)\n\n  /**\n   * Step 2: Calculate dLp, dCp, dHp\n   */\n  var dLp = L2 - L1; //(8)\n  var dCp = C2p - C1p; //(9)\n\n  var dhp_f = function(C1, C2, h1p, h2p) //(10)\n  {\n    if(C1*C2 == 0)               return 0;\n    else if(abs(h2p-h1p) <= 180) return h2p-h1p;\n    else if((h2p-h1p) > 180)     return (h2p-h1p)-360;\n    else if((h2p-h1p) < -180)    return (h2p-h1p)+360;\n    else                         throw(new Error());\n  }\n  var dhp = dhp_f(C1,C2, h1p, h2p); //(10)\n  var dHp = 2*sqrt(C1p*C2p)*sin(radians(dhp)/2.0); //(11)\n\n  /**\n   * Step 3: Calculate CIEDE2000 Color-Difference\n   */\n  var a_L = (L1 + L2) / 2.0; //(12)\n  var a_Cp = (C1p + C2p) / 2.0; //(13)\n\n  var a_hp_f = function(C1, C2, h1p, h2p) { //(14)\n    if(C1*C2 == 0)                                      return h1p+h2p\n    else if(abs(h1p-h2p)<= 180)                         return (h1p+h2p)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) < 360))  return (h1p+h2p+360)/2.0;\n    else if((abs(h1p-h2p) > 180) && ((h1p+h2p) >= 360)) return (h1p+h2p-360)/2.0;\n    else                                                throw(new Error());\n  }\n  var a_hp = a_hp_f(C1,C2,h1p,h2p); //(14)\n  var T = 1-0.17*cos(radians(a_hp-30))+0.24*cos(radians(2*a_hp))+\n    0.32*cos(radians(3*a_hp+6))-0.20*cos(radians(4*a_hp-63)); //(15)\n  var d_ro = 30 * exp(-(pow((a_hp-275)/25,2))); //(16)\n  var RC = sqrt((pow(a_Cp, 7.0)) / (pow(a_Cp, 7.0) + pow(25.0, 7.0)));//(17)\n  var SL = 1 + ((0.015 * pow(a_L - 50, 2)) /\n                sqrt(20 + pow(a_L - 50, 2.0)));//(18)\n  var SC = 1 + 0.045 * a_Cp;//(19)\n  var SH = 1 + 0.015 * a_Cp * T;//(20)\n  var RT = -2 * RC * sin(radians(2 * d_ro));//(21)\n  var dE = sqrt(pow(dLp /(SL * kL), 2) + pow(dCp /(SC * kC), 2) +\n                pow(dHp /(SH * kH), 2) + RT * (dCp /(SC * kC)) *\n                (dHp / (SH * kH))); //(22)\n  return dE;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\nfunction degrees(n) { return n*(180/PI); }\nfunction radians(n) { return n*(PI/180); }\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.rgb_to_lab = rgb_to_lab;\n\n/**\n* IMPORTS\n*/\nvar pow  = Math.pow;\nvar sqrt = Math.sqrt;\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns c converted to labcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {labcolor} c converted to labcolor\n*/\nfunction rgb_to_lab(c)\n{\n  return xyz_to_lab(rgb_to_xyz(c))\n}\n\n/**\n* Returns c converted to xyzcolor.\n* @param {rgbcolor} c should have fields R,G,B\n* @return {xyzcolor} c converted to xyzcolor\n*/\nfunction rgb_to_xyz(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=02\n  var R = ( c.R / 255 );\n  var G = ( c.G / 255 );\n  var B = ( c.B / 255 );\n\n  if ( R > 0.04045 ) R = pow(( ( R + 0.055 ) / 1.055 ),2.4);\n  else               R = R / 12.92;\n  if ( G > 0.04045 ) G = pow(( ( G + 0.055 ) / 1.055 ),2.4);\n  else               G = G / 12.92;\n  if ( B > 0.04045 ) B = pow(( ( B + 0.055 ) / 1.055 ), 2.4);\n  else               B = B / 12.92;\n\n  R *= 100;\n  G *= 100;\n  B *= 100;\n\n  // Observer. = 2°, Illuminant = D65\n  var X = R * 0.4124 + G * 0.3576 + B * 0.1805;\n  var Y = R * 0.2126 + G * 0.7152 + B * 0.0722;\n  var Z = R * 0.0193 + G * 0.1192 + B * 0.9505;\n  return {'X' : X, 'Y' : Y, 'Z' : Z};\n}\n\n/**\n* Returns c converted to labcolor.\n* @param {xyzcolor} c should have fields X,Y,Z\n* @return {labcolor} c converted to labcolor\n*/\nfunction xyz_to_lab(c)\n{\n  // Based on http://www.easyrgb.com/index.php?X=MATH&H=07\n  var ref_Y = 100.000;\n  var ref_Z = 108.883;\n  var ref_X = 95.047; // Observer= 2°, Illuminant= D65\n  var Y = c.Y / ref_Y;\n  var Z = c.Z / ref_Z;\n  var X = c.X / ref_X;\n  if ( X > 0.008856 ) X = pow(X, 1/3);\n  else                X = ( 7.787 * X ) + ( 16 / 116 );\n  if ( Y > 0.008856 ) Y = pow(Y, 1/3);\n  else                Y = ( 7.787 * Y ) + ( 16 / 116 );\n  if ( Z > 0.008856 ) Z = pow(Z, 1/3);\n  else                Z = ( 7.787 * Z ) + ( 16 / 116 );\n  var L = ( 116 * Y ) - 16;\n  var a = 500 * ( X - Y );\n  var b = 200 * ( Y - Z );\n  return {'L' : L , 'a' : a, 'b' : b};\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","/**\n * @author Markus Ekholm\n * @copyright 2012-2015 (c) Markus Ekholm <markus at botten dot org >\n * @license Copyright (c) 2012-2015, Markus Ekholm\n * All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *    * Redistributions of source code must retain the above copyright\n *      notice, this list of conditions and the following disclaimer.\n *    * Redistributions in binary form must reproduce the above copyright\n *      notice, this list of conditions and the following disclaimer in the\n *      documentation and/or other materials provided with the distribution.\n *    * Neither the name of the <organization> nor the\n *      names of its contributors may be used to endorse or promote products\n *      derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL MARKUS EKHOLM BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/**\n* EXPORTS\n*/\nexports.map_palette     = map_palette;\nexports.palette_map_key = palette_map_key;\n\n/**\n* IMPORTS\n*/\nvar color_diff    = require('./diff');\nvar color_convert = require('./convert');\n\n/**\n * API FUNCTIONS\n */\n\n/**\n* Returns the hash key used for a {rgbcolor} in a {palettemap}\n* @param {rgbcolor} c should have fields R,G,B\n* @return {string}\n*/\nfunction palette_map_key(c)\n{\n  return \"R\" + c.R + \"B\" + c.B + \"G\" + c.G;\n}\n\n/**\n* Returns a mapping from each color in a to the closest color in b\n* @param [{rgbcolor}] a each element should have fields R,G,B\n* @param [{rgbcolor}] b each element should have fields R,G,B\n* @param 'type' should be the string 'closest' or 'furthest'\n* @return {palettemap}\n*/\nfunction map_palette(a, b, type)\n{\n  var c = {};\n  type = type || 'closest';\n  for (var idx1 = 0; idx1 < a.length; idx1 += 1){\n    var color1 = a[idx1];\n    var best_color      = undefined;\n    var best_color_diff = undefined;\n    for (var idx2 = 0; idx2 < b.length; idx2 += 1)\n    {\n      var color2 = b[idx2];\n      var current_color_diff = diff(color1,color2);\n\n      if((best_color == undefined) || ((type === 'closest') && (current_color_diff < best_color_diff)))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n      if((type === 'furthest') && (current_color_diff > best_color_diff))\n      {\n        best_color      = color2;\n        best_color_diff = current_color_diff;\n        continue;\n      }\n    }\n    c[palette_map_key(color1)] = best_color;\n  }\n  return c;\n}\n\n/**\n * INTERNAL FUNCTIONS\n */\n\nfunction diff(c1,c2)\n{\n  c1 = color_convert.rgb_to_lab(c1);\n  c2 = color_convert.rgb_to_lab(c2);\n  return color_diff.ciede2000(c1,c2);\n}\n\n// Local Variables:\n// allout-layout: t\n// js-indent-level: 2\n// End:\n","'use strict';\n\nvar diff = require('./diff');\nvar convert = require('./convert');\nvar palette = require('./palette');\n\nvar color = module.exports = {};\n\ncolor.diff             = diff.ciede2000;\ncolor.rgb_to_lab       = convert.rgb_to_lab;\ncolor.map_palette      = palette.map_palette;\ncolor.palette_map_key  = palette.palette_map_key;\n\ncolor.closest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'closest');\n\n    return result[key];\n};\n\ncolor.furthest = function(target, relative) {\n    var key = color.palette_map_key(target);\n\n    var result = color.map_palette([target], relative, 'furthest');\n\n    return result[key];\n};\n","'use strict';\n\nvar styles = module.exports = {\n\tmodifiers: {\n\t\treset: [0, 0],\n\t\tbold: [1, 22], // 21 isn't widely supported and 22 does the same thing\n\t\tdim: [2, 22],\n\t\titalic: [3, 23],\n\t\tunderline: [4, 24],\n\t\tinverse: [7, 27],\n\t\thidden: [8, 28],\n\t\tstrikethrough: [9, 29]\n\t},\n\tcolors: {\n\t\tblack: [30, 39],\n\t\tred: [31, 39],\n\t\tgreen: [32, 39],\n\t\tyellow: [33, 39],\n\t\tblue: [34, 39],\n\t\tmagenta: [35, 39],\n\t\tcyan: [36, 39],\n\t\twhite: [37, 39],\n\t\tgray: [90, 39]\n\t},\n\tbgColors: {\n\t\tbgBlack: [40, 49],\n\t\tbgRed: [41, 49],\n\t\tbgGreen: [42, 49],\n\t\tbgYellow: [43, 49],\n\t\tbgBlue: [44, 49],\n\t\tbgMagenta: [45, 49],\n\t\tbgCyan: [46, 49],\n\t\tbgWhite: [47, 49]\n\t}\n};\n\n// fix humans\nstyles.colors.grey = styles.colors.gray;\n\nObject.keys(styles).forEach(function (groupName) {\n\tvar group = styles[groupName];\n\n\tObject.keys(group).forEach(function (styleName) {\n\t\tvar style = group[styleName];\n\n\t\tstyles[styleName] = group[styleName] = {\n\t\t\topen: '\\u001b[' + style[0] + 'm',\n\t\t\tclose: '\\u001b[' + style[1] + 'm'\n\t\t};\n\t});\n\n\tObject.defineProperty(styles, groupName, {\n\t\tvalue: group,\n\t\tenumerable: false\n\t});\n});\n","var utils = require('./utils');\nvar TextSerializer = require('./TextSerializer');\nvar colorDiff = require('color-diff');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nvar cacheSize = 0;\nvar maxColorCacheSize = 1024;\n\nvar ansiStyles = utils.extend({}, require('ansi-styles'));\nObject.keys(ansiStyles).forEach(function (styleName) {\n    ansiStyles[styleName.toLowerCase()] = ansiStyles[styleName];\n});\n\nfunction AnsiSerializer() {}\n\nAnsiSerializer.prototype = new TextSerializer();\n\nAnsiSerializer.prototype.format = 'ansi';\n\nvar colorPalettes = {\n    16: {\n        '#000000': 'black',\n        '#ff0000': 'red',\n        '#00ff00': 'green',\n        '#ffff00': 'yellow',\n        '#0000ff': 'blue',\n        '#ff00ff': 'magenta',\n        '#00ffff': 'cyan',\n        '#ffffff': 'white',\n        '#808080': 'gray'\n    },\n    256: {}\n};\n\nvar diffPalettes = {};\n\nfunction convertColorToObject(color) {\n    if (color.length < 6) {\n        // Allow CSS shorthand\n        color = color.replace(/^#?([0-9a-f])([0-9a-f])([0-9a-f])$/i, '$1$1$2$2$3$3');\n    }\n    // Split color into red, green, and blue components\n    var hexMatch = color.match(/^#?([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])$/i);\n    if (hexMatch) {\n        return {\n            R: parseInt(hexMatch[1], 16),\n            G: parseInt(hexMatch[2], 16),\n            B: parseInt(hexMatch[3], 16)\n        };\n    }\n}\n\nfunction toHexColor(colorObject) {\n    var hexString = (Math.round(colorObject.R) * 0x10000 + Math.round(colorObject.G) * 0x100 + Math.round(colorObject.B)).toString(16);\n    return '#' + ('00000'.substr(0, 6 - hexString.length)) + hexString;\n}\n\nfunction firstUp(text) {\n    return text.substring(0, 1).toUpperCase() + text.substring(1);\n}\n\ndiffPalettes[16] = Object.keys(colorPalettes[16]).map(convertColorToObject);\ndiffPalettes['bg16'] = Object.keys(colorPalettes[16]).filter(function (color) {\n    return color !== \"#808080\";\n}).map(convertColorToObject);\ndiffPalettes[256] = [].concat(diffPalettes[16]);\nvar nextAnsiColorNumber = 16;\nfunction registerNext256PaletteEntry(obj) {\n    diffPalettes[256].push(obj);\n    colorPalettes[256][toHexColor(obj)] = nextAnsiColorNumber;\n    nextAnsiColorNumber += 1;\n}\n\nfor (var r = 0 ; r < 6 ; r += 1) {\n    for (var g = 0 ; g < 6 ; g += 1) {\n        for (var b = 0 ; b < 6 ; b += 1) {\n            registerNext256PaletteEntry({\n                R: Math.round(r * 256 / 6),\n                G: Math.round(g * 256 / 6),\n                B: Math.round(b * 256 / 6)\n            });\n        }\n    }\n}\n\n[\n    0x08, 0x12, 0x1c, 0x26, 0x30, 0x3a, 0x44, 0x4e, 0x58, 0x60, 0x66, 0x76,\n    0x80, 0x8a, 0x94, 0x9e, 0xa8, 0xb2, 0xbc, 0xc6, 0xd0, 0xda, 0xe4, 0xee\n].forEach(function (value) {\n    registerNext256PaletteEntry({R: value, G: value, B: value});\n});\n\nAnsiSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(themes.ansi || {}, options.styles);\n\n    if (styles.length > 0) {\n        for (var i = styles.length -1; i >= 0; i -= 1) {\n            var styleName = styles[i];\n\n            if (ansiStyles[styleName]) {\n                content = ansiStyles[styleName].open + content + ansiStyles[styleName].close;\n            } else if (rgbRegexp.test(styleName)) {\n                var originalStyleName = styleName;\n                var isBackgroundColor = styleName.substring(0, 2) === 'bg';\n                var colorName = isBackgroundColor ? styleName.substring(2) : styleName;\n\n                var color16Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName),\n                                                              diffPalettes[isBackgroundColor ? 'bg16' : 16]));\n                var closestColor16 = colorPalettes[16][color16Hex];\n\n                var color256Hex = toHexColor(colorDiff.closest(convertColorToObject(colorName), diffPalettes[256]));\n                var closest256ColorIndex = colorPalettes[256][color256Hex];\n\n                if (isBackgroundColor) {\n                    styleName = 'bg' + firstUp(closestColor16);\n                } else {\n                    styleName = closestColor16;\n                }\n\n                var open = ansiStyles[styleName].open;\n                var close = ansiStyles[styleName].close;\n                if (color16Hex !== color256Hex) {\n                    open += '\\x1b[' + (isBackgroundColor ? 48 : 38) + ';5;' + closest256ColorIndex + 'm';\n                }\n                if (cacheSize < maxColorCacheSize) {\n                    ansiStyles[originalStyleName] = {open: open, close: close};\n                    cacheSize += 1;\n                }\n\n                content = open + content + close;\n            }\n        }\n    }\n\n    return content;\n};\n\nmodule.exports = AnsiSerializer;\n","var cssStyles = require('./cssStyles');\nvar flattenBlocksInLines = require('./flattenBlocksInLines');\nvar rgbRegexp = require('./rgbRegexp');\nvar themeMapper = require('./themeMapper');\n\nfunction ColoredConsoleSerializer() {}\n\nColoredConsoleSerializer.prototype.format = 'coloredConsole';\n\nColoredConsoleSerializer.prototype.serialize = function (lines) {\n    var formatString = '';\n    var styleStrings = [];\n    this.serializeLines(flattenBlocksInLines(lines)).forEach(function (entry) {\n        if (entry) {\n            formatString += entry[0];\n            if (entry.length > 1) {\n                styleStrings.push(entry[1]);\n            }\n        }\n    });\n    return [formatString].concat(styleStrings);\n};\n\nColoredConsoleSerializer.prototype.serializeLines = function (lines) {\n    var result = [];\n    lines.forEach(function (line, i) {\n        if (i > 0) {\n            result.push(['%c\\n ', '']);\n        }\n        Array.prototype.push.apply(result, this.serializeLine(line));\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.serializeLine = function (line) {\n    var result = [];\n    line.forEach(function (outputEntry) {\n        if (this[outputEntry.style]) {\n            result.push(this[outputEntry.style](outputEntry.args, outputEntry.themes));\n        }\n    }, this);\n    return result;\n};\n\nColoredConsoleSerializer.prototype.block = function (content) {\n    return this.serializeLines(content);\n};\n\nColoredConsoleSerializer.prototype.text = function (options, themes) {\n    var content = String(options.content);\n    if (content === '') {\n        return '';\n    }\n\n    var styles = themeMapper(themes.coloredConsole || {}, options.styles);\n\n    var result = ['%c' + content.replace(/%/g, '%%')];\n    var styleProperties = [];\n\n    if (styles.length > 0) {\n        for (var i = 0; i < styles.length; i += 1) {\n            var styleName = styles[i];\n            if (rgbRegexp.test(styleName)) {\n                if (styleName.substring(0, 2) === 'bg') {\n                    styleProperties.push('background-color: ' + styleName.substring(2));\n                } else {\n                    styleProperties.push('color: ' + styleName);\n                }\n            } else if (cssStyles[styleName]) {\n                styleProperties.push(cssStyles[styleName]);\n            }\n        }\n    }\n    result.push(styleProperties.join('; '));\n    return result;\n};\n\nColoredConsoleSerializer.prototype.raw = function (options) {\n    return String(options.content(this));\n};\n\nmodule.exports = ColoredConsoleSerializer;\n","/*global window*/\nvar utils = require('./utils');\nvar extend = utils.extend;\nvar duplicateText = require('./duplicateText');\nvar rgbRegexp = require('./rgbRegexp');\nvar cssStyles = require('./cssStyles');\n\nvar builtInStyleNames = [\n    'bold', 'dim', 'italic', 'underline', 'inverse', 'hidden',\n    'strikeThrough', 'black', 'red', 'green', 'yellow', 'blue',\n    'magenta', 'cyan', 'white', 'gray', 'bgBlack', 'bgRed',\n    'bgGreen', 'bgYellow', 'bgBlue', 'bgMagenta', 'bgCyan',\n    'bgWhite'\n];\n\nfunction MagicPen(options) {\n    if (!(this instanceof MagicPen)) {\n        return new MagicPen(options);\n    }\n\n    options = options || {};\n\n    if (typeof options === \"string\") {\n        options = {format: options };\n    }\n\n    var indentationWidth = 'indentationWidth' in options ?\n        options.indentationWidth : 2;\n    this.indentationWidth = Math.max(indentationWidth, 0);\n\n    this.indentationLevel = 0;\n    this.output = [[]];\n    this.styles = Object.create(null);\n    this.installedPlugins = [];\n    // Ready to be cloned individually:\n    this._themes = {};\n    Object.keys(MagicPen.serializers).forEach(function (serializerName) {\n        this._themes[serializerName] = { styles: {} };\n    }, this);\n    this.preferredWidth = (typeof process !== 'undefined' && !process.browser && process.stdout.columns) || 80;\n    if (options.format) {\n        this.format = options.format;\n    }\n}\n\nif (typeof exports === 'object' && typeof exports.nodeName !== 'string' && require('./supportsColor').stdout) {\n    MagicPen.defaultFormat = 'ansi';\n} else if (typeof window !== 'undefined' && typeof window.navigator !== 'undefined') {\n    if (window._phantom || window.mochaPhantomJS || (window.__karma__ && window.__karma__.config.captureConsole)) {\n        MagicPen.defaultFormat = 'ansi'; // colored console\n    } else {\n        MagicPen.defaultFormat = 'html'; // Browser\n    }\n} else {\n    MagicPen.defaultFormat = 'text'; // Plain text\n}\n\nMagicPen.prototype.newline = MagicPen.prototype.nl = function (count) {\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    if (count === 0) {\n        return this;\n    }\n\n    for (var i = 0; i < count; i += 1) {\n        this.output.push([]);\n    }\n    return this;\n};\n\nMagicPen.serializers = {};\n[\n    require('./TextSerializer'),\n    require('./HtmlSerializer'),\n    require('./AnsiSerializer'),\n    require('./ColoredConsoleSerializer')\n].forEach(function (serializer) {\n    MagicPen.serializers[serializer.prototype.format] = serializer;\n});\n\nfunction hasSameTextStyling(a, b) {\n    if (!a || !b || a.style !== 'text' || b.style !== 'text') {\n        return false;\n    }\n\n    return utils.arrayEquals(a.args.styles, b.args.styles) && a.themes === b.themes;\n}\n\nfunction normalizeLine(line) {\n    if (line.length === 0) {\n        return line;\n    }\n\n    var result = [line[0]];\n    for (var i = 1; i < line.length; i += 1) {\n        var lastEntry = result[result.length - 1];\n        var entry = line[i];\n        if (entry.style === 'text' && entry.args.content === '') {\n            continue;\n        }\n        if (hasSameTextStyling(lastEntry, entry)) {\n            result[result.length - 1] = {\n                style: lastEntry.style,\n                args: {\n                    content: lastEntry.args.content + entry.args.content,\n                    styles: lastEntry.args.styles\n                },\n                themes: lastEntry.themes\n            };\n        } else {\n            result.push(entry);\n        }\n    }\n\n    return result;\n}\n\nMagicPen.prototype.write = function (options) {\n    if (this.styles[options.style]) {\n        this.styles[options.style].apply(this, options.args);\n        return this;\n    }\n    var lastLine = this.output[this.output.length - 1];\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (hasSameTextStyling(lastEntry, options)) {\n        lastLine[lastLine.length - 1] = {\n            style: lastEntry.style,\n            args: {\n                content: lastEntry.args.content + options.args.content,\n                styles: lastEntry.args.styles\n            },\n            themes: this._themes\n        };\n    } else {\n        lastLine.push(options);\n    }\n\n    return this;\n};\n\nMagicPen.prototype.indentLines = function () {\n    this.indentationLevel += 1;\n    return this;\n};\n\nMagicPen.prototype.indent = MagicPen.prototype.i = function () {\n    for (var i = 0; i < this.indentationLevel; i += 1) {\n        this.space(this.indentationWidth);\n    }\n    return this;\n};\n\nMagicPen.prototype.outdentLines = function () {\n    this.indentationLevel = Math.max(0, this.indentationLevel - 1);\n    return this;\n};\n\nMagicPen.prototype.addStyle = function (style, handler, allowRedefinition) {\n    if (this[style] === false || ((this.hasOwnProperty(style) || MagicPen.prototype[style]) && !Object.prototype.hasOwnProperty.call(this.styles, style) && builtInStyleNames.indexOf(style) === -1)) {\n        throw new Error('\"' + style + '\" style cannot be defined, it clashes with a built-in attribute');\n    }\n\n    // Refuse to redefine a built-in style or a style already defined directly on this pen unless allowRedefinition is true:\n    if (this.hasOwnProperty(style) || builtInStyleNames.indexOf(style) !== -1) {\n        var existingType = typeof this[style];\n        if (existingType === 'function') {\n            if (!allowRedefinition) {\n                throw new Error('\"' + style + '\" style is already defined, set 3rd arg (allowRedefinition) to true to define it anyway');\n            }\n        }\n    }\n    if (this._stylesHaveNotBeenClonedYet) {\n        this.styles = Object.create(this.styles);\n        this._stylesHaveNotBeenClonedYet = false;\n    }\n\n    this.styles[style] = handler;\n    this[style] = function () {\n        handler.apply(this, arguments);\n        return this;\n    };\n    return this;\n};\n\nMagicPen.prototype.toString = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('A pen with format: ' + this.format + ' cannot be serialized to: ' + format);\n    }\n\n    format = this.format || format || 'text';\n    if (format === 'auto') {\n        format = MagicPen.defaultFormat;\n    }\n    var theme = this._themes[format] || {};\n    var serializer = new MagicPen.serializers[format]();\n    return serializer.serialize(this.output);\n};\n\nMagicPen.prototype.text = function () {\n    var content = arguments[0];\n    if (content === '') {\n        return this;\n    }\n\n    var styles = new Array(arguments.length - 1);\n    for (var i = 1; i < arguments.length; i += 1) {\n        styles[i - 1] = arguments[i];\n    }\n\n    content = String(content);\n    if (content.indexOf('\\n') !== -1) {\n        var lines = content.split(/\\n/);\n        lines.forEach(function (lineContent, index) {\n            if (lineContent.length) {\n                this.write({\n                    style: 'text',\n                    args: { content: lineContent, styles: styles },\n                    themes: this._themes\n                });\n            }\n            if (index < lines.length - 1) {\n                this.nl();\n            }\n        }, this);\n        return this;\n    } else {\n        return this.write({\n            style: 'text',\n            args: { content: content, styles: styles },\n            themes: this._themes\n        });\n    }\n};\n\nMagicPen.prototype.removeFormatting = function () {\n    var result = this.clone();\n    this.output.forEach(function (line, index) {\n        result.output[index] = normalizeLine(line.map(function (outputEntry) {\n            return outputEntry.style === 'text' ?\n                { style: 'text', args: { content: outputEntry.args.content, styles: [] }, themes: outputEntry.themes } :\n                outputEntry;\n        }));\n    });\n    result.indentationLevel = this.indentationLevel;\n    return result;\n};\n\nMagicPen.prototype.getContentFromArguments = function (args) {\n    var clone;\n    if (args[0].isMagicPen) {\n        this.ensureCompatibleFormat(args[0].format);\n        return args[0];\n    } else if (typeof args[0] === 'function') {\n        clone = this.clone();\n        args[0].call(clone, clone);\n        return clone;\n    } else if (typeof args[0] === 'string' && args.length === 1) {\n        clone = this.clone();\n        clone.text(args[0]);\n        return clone;\n    } else if (typeof args[0] === 'string') {\n        clone = this.clone();\n        clone[args[0]].apply(clone, Array.prototype.slice.call(args, 1));\n        return clone;\n    } else {\n        throw new Error('Requires the arguments to be:\\n' +\n                        'a pen or\\n' +\n                        'a callback appending content to a pen or\\n' +\n                        'a style and arguments for that style or\\n' +\n                        'just a string.');\n    }\n};\n\nMagicPen.prototype.isMultiline = function () {\n    return this.output.length > 1 || this.size().height > 1;\n};\n\nMagicPen.prototype.isAtStartOfLine = function () {\n    return this.output.length === 0 || this.output[this.output.length - 1].length === 0;\n};\n\nMagicPen.prototype.isBlock = function () {\n    return this.output.length === 1 &&\n        this.output[0].length === 1 &&\n        this.output[0][0].style === 'block';\n};\n\nMagicPen.prototype.ensureCompatibleFormat = function (format) {\n    if (format && this.format && format !== this.format) {\n        throw new Error('This pen is only compatible with the format: ' + this.format);\n    }\n};\n\nMagicPen.prototype.block = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    var blockOutput = pen.output.map(function (line) {\n        return [].concat(line);\n    });\n    return this.write({ style: 'block', args: blockOutput, themes: this._themes });\n};\n\nfunction isRawOutput(options) {\n    return options &&\n        typeof options === 'object' &&\n        typeof options.width === 'number' &&\n        typeof options.height === 'number' && (\n            typeof options.content === 'function' ||\n                typeof options.content === 'string'\n        );\n}\n\nMagicPen.prototype.alt = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The alt method is only supported on a pen where the format has already been set');\n    }\n\n    var outputProperty = options[format];\n\n    if (typeof outputProperty === 'undefined') {\n        if (options.fallback) {\n            return this.append(options.fallback);\n        } else {\n            // Nothing to do for this format, just NOOP:\n            return this;\n        }\n    }\n\n    if (typeof outputProperty === 'string' || isRawOutput(outputProperty)) {\n        return this.raw(outputProperty);\n    } else {\n        return this.append(outputProperty);\n    }\n};\n\nMagicPen.prototype.raw = function (options) {\n    var format = this.format;\n    if (!format) {\n        throw new Error('The raw method is only supported on a pen where the format has already been set');\n    }\n\n    if (typeof options === 'string') {\n        return this.write({\n            style: 'raw',\n            args: {\n                height: 0,\n                width: 0,\n                content: function () {\n                    return options;\n                }\n            },\n            themes: this._themes\n        });\n    }\n\n    if (isRawOutput(options)) {\n        if (typeof options.content === 'string') {\n            options = extend({}, options);\n            var content = options.content;\n            options.content = function () {\n                return content;\n            };\n        }\n\n        return this.write({ style: 'raw', args: options, themes: this._themes });\n    }\n\n    throw new Error('Raw ' + this.format + ' content needs to adhere to one of the following forms:\\n' +\n                    'a string of raw content\\n' +\n                    'a function returning a string of raw content or\\n' +\n                    'an object with the following form { width: <number>, height: <number>, content: <string function() {}|string> }');\n};\n\nfunction amend(output, pen) {\n    var lastLine = output[output.length - 1].slice();\n    var newOutput = output.slice(0, -1);\n    var lastEntry = lastLine[lastLine.length - 1];\n    if (lastEntry && lastEntry.style === 'block') {\n        lastLine[lastLine.length - 1] = {\n            style: 'block',\n            args: amend(lastEntry.args, pen),\n            themes: pen._themes\n        };\n        newOutput[output.length - 1] = lastLine;\n    } else {\n        Array.prototype.push.apply(lastLine, pen.output[0]);\n        newOutput[output.length - 1] = normalizeLine(lastLine);\n        newOutput.push.apply(newOutput, pen.output.slice(1));\n    }\n\n    return newOutput;\n}\n\nMagicPen.prototype.amend = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    this.output = amend(this.output, pen);\n\n    return this;\n};\n\nMagicPen.prototype.append = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    var lastLine = this.output[this.output.length - 1];\n    Array.prototype.push.apply(lastLine, pen.output[0]);\n    this.output[this.output.length - 1] = normalizeLine(lastLine);\n\n    this.output.push.apply(this.output, pen.output.slice(1));\n\n    return this;\n};\n\nMagicPen.prototype.prependLinesWith = function () {\n    var pen = this.getContentFromArguments(arguments);\n\n    if (pen.isEmpty()) {\n        return this;\n    }\n\n    if (pen.output.length > 1) {\n        throw new Error('PrependLinesWith only supports a pen with single line content');\n    }\n\n    var height = this.size().height;\n    var output = this.clone();\n    output.block(function () {\n        for (var i = 0; i < height; i += 1) {\n            if (i > 0) {\n                this.nl();\n            }\n            this.append(pen);\n        }\n    });\n    output.block(this);\n\n    this.output = output.output;\n    return this;\n};\n\nMagicPen.prototype.space = MagicPen.prototype.sp = function (count) {\n    if (count === 0) {\n        return this;\n    }\n\n    if (typeof count === 'undefined') {\n        count = 1;\n    }\n\n    return this.text(duplicateText(' ', count));\n};\n\nbuiltInStyleNames.forEach(function (textStyle) {\n    MagicPen.prototype[textStyle] = MagicPen.prototype[textStyle.toLowerCase()] = function (content) {\n        return this.text(content, textStyle);\n    };\n});\n\nMagicPen.prototype.clone = function (format) {\n    if (!this.isEmpty()) {\n        this.ensureCompatibleFormat(format);\n    }\n\n    function MagicPenClone() {}\n    MagicPenClone.prototype = this;\n    var clonedPen = new MagicPenClone();\n    clonedPen.styles = this.styles;\n    clonedPen._stylesHaveNotBeenClonedYet = true;\n    clonedPen.indentationLevel = 0;\n    clonedPen.output = [[]];\n    clonedPen.installedPlugins = [];\n    clonedPen._themes = this._themes;\n    clonedPen._themesHaveNotBeenClonedYet = true;\n    clonedPen.format = format || this.format;\n    clonedPen.parent = this;\n    return clonedPen;\n};\n\nMagicPen.prototype.isMagicPen = true;\n\nMagicPen.prototype.size = function () {\n    return utils.calculateSize(this.output);\n};\n\nMagicPen.prototype.use = function (plugin) {\n    var existingPlugin = utils.findFirst(this.installedPlugins, function (installedPlugin) {\n        if (installedPlugin === plugin) {\n            return true;\n        } else if (typeof plugin === 'function' && typeof installedPlugin === 'function') {\n            var pluginName = utils.getFunctionName(plugin);\n            return pluginName !== '' && pluginName === utils.getFunctionName(installedPlugin);\n        } else {\n            return installedPlugin.name === plugin.name;\n        }\n    });\n\n    if (existingPlugin) {\n        if (existingPlugin === plugin || (typeof plugin.version !== 'undefined' && plugin.version === existingPlugin.version)) {\n            // No-op\n            return this;\n        } else {\n            throw new Error(\"Another instance of the plugin '\" + plugin.name + \"' \" +\n                            \"is already installed\" +\n                            (typeof existingPlugin.version !== 'undefined' ?\n                                ' (version ' + existingPlugin.version +\n                                (typeof plugin.version !== 'undefined' ?\n                                    ', trying to install ' + plugin.version : '') +\n                                ')' : '') +\n                            \". Please check your node_modules folder for unmet peerDependencies.\");\n        }\n    }\n\n    if ((typeof plugin !== 'function' && (typeof plugin !== 'object' || typeof plugin.installInto !== 'function')) ||\n        (typeof plugin.name !== 'undefined' && typeof plugin.name !== 'string') ||\n        (typeof plugin.dependencies !== 'undefined' && !Array.isArray(plugin.dependencies))) {\n        throw new Error('Plugins must be functions or adhere to the following interface\\n' +\n                        '{\\n' +\n                        '  name: <an optional plugin name>,\\n' +\n                        '  version: <an optional semver version string>,\\n' +\n                        '  dependencies: <an optional list of dependencies>,\\n' +\n                        '  installInto: <a function that will update the given magicpen instance>\\n' +\n                        '}');\n    }\n\n    if (plugin.dependencies) {\n        var instance = this;\n        var thisAndParents = [];\n        do {\n            thisAndParents.push(instance);\n            instance = instance.parent;\n        } while (instance);\n        var unfulfilledDependencies = plugin.dependencies.filter(function (dependency) {\n            return !thisAndParents.some(function (instance) {\n                return instance.installedPlugins.some(function (plugin) {\n                    return plugin.name === dependency;\n                });\n            });\n        });\n\n        if (unfulfilledDependencies.length === 1) {\n            throw new Error(plugin.name + ' requires plugin ' + unfulfilledDependencies[0]);\n        } else if (unfulfilledDependencies.length > 1) {\n            throw new Error(plugin.name + ' requires plugins ' +\n                            unfulfilledDependencies.slice(0, -1).join(', ') +\n                            ' and ' + unfulfilledDependencies[unfulfilledDependencies.length - 1]);\n        }\n    }\n\n    this.installedPlugins.push(plugin);\n    if (typeof plugin === 'function') {\n        plugin(this);\n    } else {\n        plugin.installInto(this);\n    }\n\n    return this; // for chaining\n};\n\nMagicPen.prototype.installPlugin = MagicPen.prototype.use; // Legacy alias\n\nfunction replaceText(output, outputArray, regexp, cb) {\n    var replacedOutput = output;\n    outputArray.forEach(function (line, i) {\n        if (i > 0) {\n            replacedOutput.nl();\n        }\n\n        line.forEach(function (outputEntry, j) {\n            if (outputEntry.style === 'block') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push({\n                    style: 'block',\n                    args: replaceText(output.clone(), outputEntry.args, regexp, cb),\n                    themes: outputEntry.themes\n                });\n            } else if (outputEntry.style !== 'text') {\n                return replacedOutput.output[replacedOutput.output.length - 1].push(outputEntry);\n            }\n\n            if (regexp.global) {\n                regexp.lastIndex = 0;\n            }\n            var m;\n            var first = true;\n            var lastIndex = 0;\n            var text = outputEntry.args.content;\n            var styles = outputEntry.args.styles;\n            while ((m = regexp.exec(text)) !== null && (regexp.global || first)) {\n                if (lastIndex < m.index) {\n                    replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, m.index)].concat(styles));\n                }\n\n                cb.apply(replacedOutput, [styles].concat(m));\n                first = false;\n                lastIndex = m.index + m[0].length;\n            }\n\n            if (lastIndex === 0) {\n                var lastLine;\n                if (replacedOutput.output.length === 0) {\n                    lastLine = replacedOutput.output[0] = [];\n                } else {\n                    lastLine = replacedOutput.output[replacedOutput.output.length - 1];\n                }\n\n                lastLine.push(outputEntry);\n            } else if (lastIndex < text.length) {\n                replacedOutput.text.apply(replacedOutput, [text.substring(lastIndex, text.length)].concat(styles));\n            }\n        }, this);\n    }, this);\n\n    return replacedOutput.output.map(normalizeLine);\n}\n\nMagicPen.prototype.isEmpty = function () {\n    return this.output.length === 1 && this.output[0].length === 0;\n};\n\nMagicPen.prototype.replaceText = function (regexp, cb) {\n    if (this.isEmpty()) {\n        return this;\n    }\n\n    if (typeof regexp === 'string') {\n        regexp = new RegExp(utils.escapeRegExp(regexp), 'g');\n    }\n\n    if (typeof cb === 'string') {\n        var text = cb;\n        cb = function (styles, _) {\n            var args = [text].concat(styles);\n            this.text.apply(this, args);\n        };\n    }\n\n\n    if (arguments.length === 1) {\n        cb = regexp;\n        regexp = /.*/;\n    }\n\n    this.output = replaceText(this.clone(), this.output, regexp, cb);\n\n    return this;\n};\n\nMagicPen.prototype.theme = function (format) {\n    format = format || this.format;\n    if (!format) {\n        throw new Error(\"Could not detect which format you want to retrieve \" +\n                        \"theme information for. Set the format of the pen or \" +\n                        \"provide it as an argument to the theme method.\");\n    }\n\n    return this._themes[format];\n};\n\nMagicPen.prototype.installTheme = function (formats, theme) {\n    var that = this;\n    if (arguments.length === 1) {\n        theme = formats;\n        formats = Object.keys(MagicPen.serializers);\n    }\n\n    if (typeof formats === 'string') {\n        formats = [formats];\n    }\n\n    if (\n        typeof theme !== 'object' ||\n        !Array.isArray(formats) ||\n        formats.some(function (format) {\n            return typeof format !== 'string';\n        })\n    ) {\n        throw new Error(\"Themes must be installed the following way:\\n\" +\n                        \"Install theme for all formats: pen.installTheme({ comment: 'gray' })\\n\" +\n                        \"Install theme for a specific format: pen.installTheme('ansi', { comment: 'gray' }) or\\n\" +\n                        \"Install theme for a list of formats: pen.installTheme(['ansi', 'html'], { comment: 'gray' })\");\n    }\n\n    if (!theme.styles || typeof theme.styles !== 'object') {\n        theme = {\n            styles: theme\n        };\n    }\n\n    if (that._themesHaveNotBeenClonedYet) {\n        var clonedThemes = {};\n        Object.keys(that._themes).forEach(function (format) {\n            clonedThemes[format] = Object.create(that._themes[format]);\n        });\n        that._themes = clonedThemes;\n        that._themesHaveNotBeenClonedYet = false;\n    }\n\n    Object.keys(theme.styles).forEach(function (themeKey) {\n        if (rgbRegexp.test(themeKey) || cssStyles[themeKey]) {\n            throw new Error(\"Invalid theme key: '\" + themeKey + \"' you can't map build styles.\");\n        }\n\n        if (!that[themeKey]) {\n            that.addStyle(themeKey, function (content) {\n                this.text(content, themeKey);\n            });\n        }\n    });\n\n    formats.forEach(function (format) {\n        var baseTheme = that._themes[format] || { styles: {} };\n        var extendedTheme = extend({}, baseTheme, theme);\n        extendedTheme.styles = extend({}, baseTheme.styles, theme.styles);\n        that._themes[format] = extendedTheme;\n    });\n\n\n    return this;\n};\n\nmodule.exports = MagicPen;\n","function ukkonen(a, b, threshold) {\n  if (a === b) {\n    return 0;\n  }\n\n  threshold = typeof threshold === \"number\" ? threshold : Infinity;\n\n  if (a.length > b.length) {\n    // Swap a and b so b longer or same length as a\n    const tmp = a;\n    a = b;\n    b = tmp;\n  }\n\n  let aLen = a.length;\n  let bLen = b.length;\n\n  // Performing suffix trimming:\n  // We can linearly drop suffix common to both strings since they\n  // don't increase distance at all\n  // Note: `~-` is the bitwise way to perform a `- 1` operation\n  while (aLen > 0 && a.charCodeAt(~-aLen) === b.charCodeAt(~-bLen)) {\n    aLen--;\n    bLen--;\n  }\n\n  if (aLen === 0) {\n    return bLen < threshold ? bLen : threshold;\n  }\n\n  // Performing prefix trimming\n  // We can linearly drop prefix common to both strings since they\n  // don't increase distance at all\n  let tStart = 0;\n  while (tStart < aLen && a.charCodeAt(tStart) === b.charCodeAt(tStart)) {\n    tStart++;\n  }\n\n  aLen -= tStart;\n  bLen -= tStart;\n\n  if (aLen === 0) {\n    return bLen < threshold ? bLen : threshold;\n  }\n\n  threshold = bLen < threshold ? bLen : threshold;\n\n  let dLen = bLen - aLen;\n\n  if (threshold < dLen) {\n    return threshold;\n  }\n\n  // floor(min(threshold, aLen) / 2)) + 2\n  const ZERO_K = ((aLen < threshold ? aLen : threshold) >> 1) + 2;\n\n  const arrayLength = dLen + ZERO_K * 2 + 2;\n  let currentRow = new Array(arrayLength);\n  let nextRow = new Array(arrayLength);\n  for (let i = 0; i < arrayLength; i++) {\n    currentRow[i] = -1;\n    nextRow[i] = -1;\n  }\n\n  const aCharCodes = new Array(aLen);\n  const bCharCodes = new Array(bLen);\n\n  let i = 0;\n  let t = tStart;\n  while (i < aLen) {\n    aCharCodes[i] = a.charCodeAt(t);\n    bCharCodes[i] = b.charCodeAt(t);\n    i++;\n    t++;\n  }\n\n  while (i < bLen) {\n    bCharCodes[i++] = b.charCodeAt(t++);\n  }\n\n  let j = 0;\n  let conditionRow = dLen + ZERO_K;\n  let endMax = conditionRow << 1;\n  do {\n    j++;\n\n    const tmp = currentRow;\n    currentRow = nextRow;\n    nextRow = tmp;\n\n    let start;\n    let previousCell;\n    let currentCell = -1;\n    let nextCell;\n\n    if (j <= ZERO_K) {\n      start = -j + 1;\n      nextCell = j - 2;\n    } else {\n      start = j - (ZERO_K << 1) + 1;\n      nextCell = currentRow[ZERO_K + start];\n    }\n\n    let end;\n    if (j <= conditionRow) {\n      end = j;\n      nextRow[ZERO_K + j] = -1;\n    } else {\n      end = endMax - j;\n    }\n\n    for (let k = start, rowIndex = start + ZERO_K; k < end; k++, rowIndex++) {\n      previousCell = currentCell;\n      currentCell = nextCell;\n      nextCell = currentRow[rowIndex + 1];\n\n      // max(t, previousCell, nextCell + 1)\n      let t = currentCell + 1;\n      t = t < previousCell ? previousCell : t;\n      t = t < nextCell + 1 ? nextCell + 1 : t;\n\n      while (t < aLen && t + k < bLen && aCharCodes[t] === bCharCodes[t + k]) {\n        t++;\n      }\n\n      nextRow[rowIndex] = t;\n    }\n  } while (nextRow[conditionRow] < aLen && j <= threshold);\n\n  return j - 1;\n}\n\nmodule.exports = ukkonen;\n","var isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n","\"use strict\";\nvar es5 = require(\"./es5.js\");\nvar canEvaluate = typeof navigator == \"undefined\";\nvar haveGetters = (function(){\n    try {\n        var o = {};\n        es5.defineProperty(o, \"f\", {\n            get: function () {\n                return 3;\n            }\n        });\n        return o.f === 3;\n    }\n    catch (e) {\n        return false;\n    }\n\n})();\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return !isPrimitive(value);\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function f() {}\n    f.prototype = obj;\n    var l = 8;\n    while (l--) new f();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return obj instanceof Error && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    haveGetters: haveGetters,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\"\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n","\"use strict\";\nvar schedule;\nvar util = require(\"./util\");\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/m3OTXk\\u000a\");\n};\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            window.navigator.standalone)) {\n    schedule = function(fn) {\n        var div = document.createElement(\"div\");\n        var observer = new MutationObserver(fn);\n        observer.observe(div, {attributes: true});\n        return function() { div.classList.toggle(\"foo\"); };\n    };\n    schedule.isStatic = true;\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n","\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype._unshiftOne = function(value) {\n    var capacity = this._capacity;\n    this._checkCapacity(this.length() + 1);\n    var front = this._front;\n    var i = (((( front - 1 ) &\n                    ( capacity - 1) ) ^ capacity ) - capacity );\n    this[i] = value;\n    this._front = i;\n    this._length = this.length() + 1;\n};\n\nQueue.prototype.unshift = function(fn, receiver, arg) {\n    this._unshiftOne(arg);\n    this._unshiftOne(receiver);\n    this._unshiftOne(fn);\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n","\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = require(\"./schedule.js\");\nvar Queue = require(\"./queue.js\");\nvar util = require(\"./util.js\");\n\nfunction Async() {\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule =\n        schedule.isStatic ? schedule(this.drainQueues) : schedule;\n}\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.enableTrampoline = function() {\n    if (!this._trampolineEnabled) {\n        this._trampolineEnabled = true;\n        this._schedule = function(fn) {\n            setTimeout(fn, 0);\n        };\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._normalQueue.length() > 0;\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/m3OTXk\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    if (schedule.isStatic) {\n        schedule = function(fn) { setTimeout(fn, 0); };\n    }\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nAsync.prototype.invokeFirst = function (fn, receiver, arg) {\n    this._normalQueue.unshift(fn, receiver, arg);\n    this._queueTick();\n};\n\nAsync.prototype._drainQueue = function(queue) {\n    while (queue.length() > 0) {\n        var fn = queue.shift();\n        if (typeof fn !== \"function\") {\n            fn._settlePromises();\n            continue;\n        }\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n};\n\nAsync.prototype._drainQueues = function () {\n    this._drainQueue(this._normalQueue);\n    this._reset();\n    this._drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = new Async();\nmodule.exports.firstLineError = firstLineError;\n","\"use strict\";\nvar es5 = require(\"./es5.js\");\nvar Objectfreeze = es5.freeze;\nvar util = require(\"./util.js\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    notEnumerableProp(Error, \"__BluebirdErrorTypes__\", errorTypes);\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) {\n            return obj;\n        }\n        else if (isAnyBluebirdPromise(obj)) {\n            var ret = new Promise(INTERNAL);\n            obj._then(\n                ret._fulfillUnchecked,\n                ret._rejectUncheckedCheckError,\n                ret._progressUnchecked,\n                ret,\n                null\n            );\n            return ret;\n        }\n        var then = util.tryCatch(getThen)(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction getThen(obj) {\n    return obj.then;\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    return hasProp.call(obj, \"_promise0\");\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x,\n                                        resolveFromThenable,\n                                        rejectFromThenable,\n                                        progressFromThenable);\n    synchronous = false;\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolveFromThenable(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function rejectFromThenable(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n\n    function progressFromThenable(value) {\n        if (!promise) return;\n        if (typeof promise._progress === \"function\") {\n            promise._progress(value);\n        }\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n","\"use strict\";\nmodule.exports = function() {\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](main|debug|zalgo|instrumented)/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar warn;\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.parent = function() {\n    return this._parent;\n};\n\nCapturedTrace.prototype.hasParent = function() {\n    return this._parent !== undefined;\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = CapturedTrace.parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = stackFramePattern.test(line) ||\n            \"    (No stack trace)\" === line;\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0) {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nCapturedTrace.parseStackAndMessage = function(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: cleanStack(stack)\n    };\n};\n\nCapturedTrace.formatAndLogError = function(error, title) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (typeof error === \"object\" || typeof error === \"function\") {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof warn === \"function\") {\n            warn(message);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n};\n\nCapturedTrace.unhandledRejection = function (reason) {\n    CapturedTrace.formatAndLogError(reason, \"^--- With additional stack trace: \");\n};\n\nCapturedTrace.isSupported = function () {\n    return typeof captureStackTrace === \"function\";\n};\n\nCapturedTrace.fireRejectionEvent =\nfunction(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent(name, reason, promise);\n    } catch (e) {\n        globalEventFired = true;\n        async.throwLater(e);\n    }\n\n    var domEventFired = false;\n    if (fireDomEvent) {\n        try {\n            domEventFired = fireDomEvent(name.toLowerCase(), {\n                reason: reason,\n                promise: promise\n            });\n        } catch (e) {\n            domEventFired = true;\n            async.throwLater(e);\n        }\n    }\n\n    if (!globalEventFired && !localEventFired && !domEventFired &&\n        name === \"unhandledRejection\") {\n        CapturedTrace.formatAndLogError(reason, \"Unhandled rejection \");\n    }\n};\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj.toString();\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\nCapturedTrace.setBounds = function(firstLineError, lastLineError) {\n    if (!CapturedTrace.isSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit = Error.stackTraceLimit + 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit = Error.stackTraceLimit + 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit = Error.stackTraceLimit - 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit = Error.stackTraceLimit + 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit = Error.stackTraceLimit - 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nvar fireDomEvent;\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function(name, reason, promise) {\n            if (name === \"rejectionHandled\") {\n                return process.emit(name, promise);\n            } else {\n                return process.emit(name, reason, promise);\n            }\n        };\n    } else {\n        var customEventWorks = false;\n        var anyEventWorks = true;\n        try {\n            var ev = new self.CustomEvent(\"test\");\n            customEventWorks = ev instanceof CustomEvent;\n        } catch (e) {}\n        if (!customEventWorks) {\n            try {\n                var event = document.createEvent(\"CustomEvent\");\n                event.initCustomEvent(\"testingtheevent\", false, true, {});\n                self.dispatchEvent(event);\n            } catch (e) {\n                anyEventWorks = false;\n            }\n        }\n        if (anyEventWorks) {\n            fireDomEvent = function(type, detail) {\n                var event;\n                if (customEventWorks) {\n                    event = new self.CustomEvent(type, {\n                        detail: detail,\n                        bubbles: false,\n                        cancelable: true\n                    });\n                } else if (self.dispatchEvent) {\n                    event = document.createEvent(\"CustomEvent\");\n                    event.initCustomEvent(type, false, true, detail);\n                }\n\n                return event ? !self.dispatchEvent(event) : false;\n            };\n        }\n\n        var toWindowMethodNameMap = {};\n        toWindowMethodNameMap[\"unhandledRejection\"] = (\"on\" +\n            \"unhandledRejection\").toLowerCase();\n        toWindowMethodNameMap[\"rejectionHandled\"] = (\"on\" +\n            \"rejectionHandled\").toLowerCase();\n\n        return function(name, reason, promise) {\n            var methodName = toWindowMethodNameMap[name];\n            var method = self[methodName];\n            if (!method) return false;\n            if (name === \"rejectionHandled\") {\n                method.call(self, promise);\n            } else {\n                method.call(self, reason, promise);\n            }\n            return true;\n        };\n    }\n})();\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    warn = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        warn = function(message) {\n            process.stderr.write(\"\\u001b[31m\" + message + \"\\u001b[39m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        warn = function(message) {\n            console.warn(\"%c\" + message, \"color: red\");\n        };\n    }\n}\n\nreturn CapturedTrace;\n};\n","\"use strict\";\nvar util = require(\"./util.js\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = require(\"./errors.js\");\nvar TimeoutError = errors.TimeoutError;\nvar OperationalError = errors.OperationalError;\nvar haveGetters = util.haveGetters;\nvar es5 = require(\"./es5.js\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise) {\n    return function(err, value) {\n        if (promise === null) return;\n\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (arguments.length > 2) {\n            var $_len = arguments.length;var args = new Array($_len - 1); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}\n            promise._fulfill(args);\n        } else {\n            promise._fulfill(value);\n        }\n\n        promise = null;\n    };\n}\n\n\nvar PromiseResolver;\nif (!haveGetters) {\n    PromiseResolver = function (promise) {\n        this.promise = promise;\n        this.asCallback = nodebackForPromise(promise);\n        this.callback = this.asCallback;\n    };\n}\nelse {\n    PromiseResolver = function (promise) {\n        this.promise = promise;\n    };\n}\nif (haveGetters) {\n    var prop = {\n        get: function() {\n            return nodebackForPromise(this.promise);\n        }\n    };\n    es5.defineProperty(PromiseResolver.prototype, \"asCallback\", prop);\n    es5.defineProperty(PromiseResolver.prototype, \"callback\", prop);\n}\n\nPromiseResolver._nodebackForPromise = nodebackForPromise;\n\nPromiseResolver.prototype.toString = function () {\n    return \"[object PromiseResolver]\";\n};\n\nPromiseResolver.prototype.resolve =\nPromiseResolver.prototype.fulfill = function (value) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._resolveCallback(value);\n};\n\nPromiseResolver.prototype.reject = function (reason) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._rejectCallback(reason);\n};\n\nPromiseResolver.prototype.progress = function (value) {\n    if (!(this instanceof PromiseResolver)) {\n        throw new TypeError(\"Illegal invocation, resolver resolve/reject must be called within a resolver context. Consider using the promise constructor instead.\\u000a\\u000a    See http://goo.gl/sdkXL9\\u000a\");\n    }\n    this.promise._progress(value);\n};\n\nPromiseResolver.prototype.cancel = function (err) {\n    this.promise.cancel(err);\n};\n\nPromiseResolver.prototype.timeout = function () {\n    this.reject(new TimeoutError(\"timeout\"));\n};\n\nPromiseResolver.prototype.isResolved = function () {\n    return this.promise.isResolved();\n};\n\nPromiseResolver.prototype.toJSON = function () {\n    return this.promise.toJSON();\n};\n\nmodule.exports = PromiseResolver;\n","\"use strict\";\nvar util = require(\"./util.js\");\nvar isPrimitive = util.isPrimitive;\n\nmodule.exports = function(Promise) {\nvar returner = function () {\n    return this;\n};\nvar thrower = function () {\n    throw this;\n};\nvar returnUndefined = function() {};\nvar throwUndefined = function() {\n    throw undefined;\n};\n\nvar wrapper = function (value, action) {\n    if (action === 1) {\n        return function () {\n            throw value;\n        };\n    } else if (action === 2) {\n        return function () {\n            return value;\n        };\n    }\n};\n\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value === undefined) return this.then(returnUndefined);\n\n    if (isPrimitive(value)) {\n        return this._then(\n            wrapper(value, 2),\n            undefined,\n            undefined,\n            undefined,\n            undefined\n       );\n    }\n    return this._then(returner, undefined, undefined, value, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    if (reason === undefined) return this.then(throwUndefined);\n\n    if (isPrimitive(reason)) {\n        return this._then(\n            wrapper(reason, 1),\n            undefined,\n            undefined,\n            undefined,\n            undefined\n       );\n    }\n    return this._then(thrower, undefined, undefined, reason, undefined);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValue = promise._settledValue;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValue = undefined;\n    }\n}\n\nPromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/hc1DLj\\u000a\");\n    }\n    return this._settledValue;\n};\n\nPromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/hPuiwB\\u000a\");\n    }\n    return this._settledValue;\n};\n\nPromiseInspection.prototype.isFulfilled =\nPromise.prototype._isFulfilled = function () {\n    return (this._bitField & 268435456) > 0;\n};\n\nPromiseInspection.prototype.isRejected =\nPromise.prototype._isRejected = function () {\n    return (this._bitField & 134217728) > 0;\n};\n\nPromiseInspection.prototype.isPending =\nPromise.prototype._isPending = function () {\n    return (this._bitField & 402653184) === 0;\n};\n\nPromiseInspection.prototype.isResolved =\nPromise.prototype._isResolved = function () {\n    return (this._bitField & 402653184) > 0;\n};\n\nPromise.prototype.isPending = function() {\n    return this._target()._isPending();\n};\n\nPromise.prototype.isRejected = function() {\n    return this._target()._isRejected();\n};\n\nPromise.prototype.isFulfilled = function() {\n    return this._target()._isFulfilled();\n};\n\nPromise.prototype.isResolved = function() {\n    return this._target()._isResolved();\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue;\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue;\n};\n\nPromise.prototype.value = function() {\n    var target = this._target();\n    if (!target.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/hc1DLj\\u000a\");\n    }\n    return target._settledValue;\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    if (!target.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/hPuiwB\\u000a\");\n    }\n    target._unsetRejectionIsUnhandled();\n    return target._settledValue;\n};\n\n\nPromise.PromiseInspection = PromiseInspection;\n};\n","\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext) {\n    var TypeError = require(\"./errors.js\").TypeError;\n    var inherits = require(\"./util.js\").inherits;\n    var PromiseInspection = Promise.PromiseInspection;\n\n    function inspectionMapper(inspections) {\n        var len = inspections.length;\n        for (var i = 0; i < len; ++i) {\n            var inspection = inspections[i];\n            if (inspection.isRejected()) {\n                return Promise.reject(inspection.error());\n            }\n            inspections[i] = inspection._settledValue;\n        }\n        return inspections;\n    }\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = Promise.defer();\n        function iterator() {\n            if (i >= len) return ret.resolve();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret.promise;\n    }\n\n    function disposerSuccess(value) {\n        var inspection = new PromiseInspection();\n        inspection._settledValue = value;\n        inspection._bitField = 268435456;\n        return dispose(this, inspection).thenReturn(value);\n    }\n\n    function disposerFail(reason) {\n        var inspection = new PromiseInspection();\n        inspection._settledValue = reason;\n        inspection._bitField = 134217728;\n        return dispose(this, inspection).thenThrow(reason);\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return null;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== null\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n        len--;\n        var resources = new Array(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = arguments[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var promise = Promise.settle(resources)\n            .then(inspectionMapper)\n            .then(function(vals) {\n                promise._pushContext();\n                var ret;\n                try {\n                    ret = fn.apply(undefined, vals);\n                } finally {\n                    promise._popContext();\n                }\n                return ret;\n            })\n            ._then(\n                disposerSuccess, disposerFail, undefined, resources, undefined);\n        resources.promise = promise;\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 262144;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 262144) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~262144);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise) {\nvar errors = require(\"./errors.js\");\nvar TypeError = errors.TypeError;\nvar util = require(\"./util.js\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    var promise = this._promise = new Promise(INTERNAL);\n    promise._captureStackTrace();\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n}\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._next(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    if (result === errorObj) {\n        return this._promise._rejectCallback(result.e, false, true);\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._promise._resolveCallback(value);\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._throw(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/4Y4pDk\\u000a\\u000a\".replace(\"%s\", value) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise._then(\n            this._next,\n            this._throw,\n            undefined,\n            this,\n            null\n       );\n    }\n};\n\nPromiseSpawn.prototype._throw = function (reason) {\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._next = function (value) {\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        spawn._generator = generator;\n        spawn._next(undefined);\n        return spawn.promise();\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/6Vqhm0\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n","\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = require(\"./util.js\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!false) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var $_len = arguments.length;var args = new Array($_len - 1); for(var $_i = 1; $_i < $_len; ++$_i) {args[$_i - 1] = arguments[$_i];}\n    if (!false) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n","\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = require(\"./promise.js\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n","\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar isArray = require(\"./util.js\").isArray;\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else if (!isArray(promises)) {\n        return apiRejection(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\");\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 4 | 1);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = require(\"./util.js\");\nvar nodebackForPromise = require(\"./promise_resolver.js\")\n    ._nodebackForPromise;\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = require(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/iWrZbw\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!false) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\"'use strict';                            \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise);                      \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n        \"\n        .replace(\"Parameters\", parameterDeclaration(newParameterCount))\n        .replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode))(\n            Promise,\n            fn,\n            receiver,\n            withAppended,\n            maybeWrapAsError,\n            nodebackForPromise,\n            util.tryCatch,\n            util.errorObj,\n            util.notEnumerableProp,\n            INTERNAL\n        );\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        obj[promisifiedKey] = promisifier === makeNodePromisified\n                ? makeNodePromisified(key, THIS, key, fn, suffix)\n                : promisifier(fn, function() {\n                    return makeNodePromisified(key, THIS, key, fn, suffix);\n                });\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver) {\n    return makeNodePromisified(callback, receiver, undefined, callback);\n}\n\nPromise.promisify = function (fn, receiver) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    var ret = promisify(fn, arguments.length < 2 ? THIS : receiver);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/9ITlV0\\u000a\");\n    }\n    options = Object(options);\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/8FZo5V\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier);\n            promisifyAll(value, suffix, filter, promisifier);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier);\n};\n};\n\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar TimeoutError = Promise.TimeoutError;\n\nvar afterTimeout = function (promise, message) {\n    if (!promise.isPending()) return;\n    if (typeof message !== \"string\") {\n        message = \"operation timed out\";\n    }\n    var err = new TimeoutError(message);\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._cancel(err);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (value, ms) {\n    if (ms === undefined) {\n        ms = value;\n        value = undefined;\n        var ret = new Promise(INTERNAL);\n        setTimeout(function() { ret._fulfill(); }, ms);\n        return ret;\n    }\n    ms = +ms;\n    return Promise.resolve(value)._then(afterValue, null, null, ms, undefined);\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(this, ms);\n};\n\nfunction successClear(value) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    var handle = this;\n    if (handle instanceof Number) handle = +handle;\n    clearTimeout(handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret = this.then().cancellable();\n    ret._cancellationParent = this;\n    var handle = setTimeout(function timeoutTimeout() {\n        afterTimeout(ret, message);\n    }, ms);\n    return ret._then(successClear, failureClear, undefined, handle, undefined);\n};\n\n};\n","\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/LhFpo0\\u000a\");\n};\nvar reflect = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\n\nvar util = require(\"./util.js\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar async = require(\"./async.js\");\nvar errors = require(\"./errors.js\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nPromise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {e: null};\nvar tryConvertToPromise = require(\"./thenables.js\")(Promise, INTERNAL);\nvar PromiseArray =\n    require(\"./promise_array.js\")(Promise, INTERNAL,\n                                    tryConvertToPromise, apiRejection);\nvar CapturedTrace = require(\"./captured_trace.js\")();\nvar isDebugging = require(\"./debuggability.js\")(Promise, CapturedTrace);\n /*jshint unused:false*/\nvar createContext =\n    require(\"./context.js\")(Promise, CapturedTrace, isDebugging);\nvar CatchFilter = require(\"./catch_filter.js\")(NEXT_FILTER);\nvar PromiseResolver = require(\"./promise_resolver.js\");\nvar nodebackForPromise = PromiseResolver._nodebackForPromise;\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction Promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"the promise constructor requires a resolver function\\u000a\\u000a    See http://goo.gl/EC22Yn\\u000a\");\n    }\n    if (this.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/KsIlge\\u000a\");\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._progressHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settledValue = undefined;\n    if (resolver !== INTERNAL) this._resolveFromResolver(resolver);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (typeof item === \"function\") {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(\n                    new TypeError(\"Catch filter must inherit from Error or be a simple predicate function\\u000a\\u000a    See http://goo.gl/o84o68\\u000a\"));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        var catchFilter = new CatchFilter(catchInstances, fn, this);\n        return this._then(undefined, catchFilter.doFilter, undefined,\n            catchFilter, undefined);\n    }\n    return this._then(undefined, fn, undefined, undefined, undefined);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflect, reflect, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject, didProgress) {\n    if (isDebugging() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject, didProgress) {\n    var promise = this._then(didFulfill, didReject, didProgress,\n        undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (didFulfill, didReject) {\n    return this.all()._then(didFulfill, didReject, undefined, APPLY, undefined);\n};\n\nPromise.prototype.isCancellable = function () {\n    return !this.isResolved() &&\n        this._cancellable();\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = function(fn) {\n    var ret = new Promise(INTERNAL);\n    var result = tryCatch(fn)(nodebackForPromise(ret));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true, true);\n    }\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.defer = Promise.pending = function () {\n    var promise = new Promise(INTERNAL);\n    return new PromiseResolver(promise);\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        var val = ret;\n        ret = new Promise(INTERNAL);\n        ret._fulfillUnchecked(val);\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") throw new TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    var prev = async._schedule;\n    async._schedule = fn;\n    return prev;\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    didProgress,\n    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var ret = haveInternalData ? internalData : new Promise(INTERNAL);\n\n    if (!haveInternalData) {\n        ret._propagateFrom(this, 4 | 1);\n        ret._captureStackTrace();\n    }\n\n    var target = this._target();\n    if (target !== this) {\n        if (receiver === undefined) receiver = this._boundTo;\n        if (!haveInternalData) ret._setIsMigrated();\n    }\n\n    var callbackIndex = target._addCallbacks(didFulfill,\n                                             didReject,\n                                             didProgress,\n                                             ret,\n                                             receiver,\n                                             getDomain());\n\n    if (target._isResolved() && !target._isSettlePromisesQueued()) {\n        async.invoke(\n            target._settlePromiseAtPostResolution, target, callbackIndex);\n    }\n\n    return ret;\n};\n\nPromise.prototype._settlePromiseAtPostResolution = function (index) {\n    if (this._isRejectionUnhandled()) this._unsetRejectionIsUnhandled();\n    this._settlePromiseAt(index);\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 131071;\n};\n\nPromise.prototype._isFollowingOrFulfilledOrRejected = function () {\n    return (this._bitField & 939524096) > 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 536870912) === 536870912;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -131072) |\n        (len & 131071);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 536870912;\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 33554432;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 33554432) > 0;\n};\n\nPromise.prototype._cancellable = function () {\n    return (this._bitField & 67108864) > 0;\n};\n\nPromise.prototype._setCancellable = function () {\n    this._bitField = this._bitField | 67108864;\n};\n\nPromise.prototype._unsetCancellable = function () {\n    this._bitField = this._bitField & (~67108864);\n};\n\nPromise.prototype._setIsMigrated = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._unsetIsMigrated = function () {\n    this._bitField = this._bitField & (~4194304);\n};\n\nPromise.prototype._isMigrated = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0\n        ? this._receiver0\n        : this[\n            index * 5 - 5 + 4];\n    if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return index === 0\n        ? this._promise0\n        : this[index * 5 - 5 + 3];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return index === 0\n        ? this._fulfillmentHandler0\n        : this[index * 5 - 5 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return index === 0\n        ? this._rejectionHandler0\n        : this[index * 5 - 5 + 1];\n};\n\nPromise.prototype._boundValue = function() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n};\n\nPromise.prototype._migrateCallbacks = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var progress = follower._progressHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (promise instanceof Promise) promise._setIsMigrated();\n    this._addCallbacks(fulfill, reject, progress, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    progress,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        if (receiver !== undefined) this._receiver0 = receiver;\n        if (typeof fulfill === \"function\" && !this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this._progressHandler0 =\n                domain === null ? progress : domain.bind(progress);\n        }\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promise;\n        this[base + 4] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : domain.bind(fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : domain.bind(reject);\n        }\n        if (typeof progress === \"function\") {\n            this[base + 2] =\n                domain === null ? progress : domain.bind(progress);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._setProxyHandlers = function (receiver, promiseSlotValue) {\n    var index = this._length();\n\n    if (index >= 131071 - 5) {\n        index = 0;\n        this._setLength(0);\n    }\n    if (index === 0) {\n        this._promise0 = promiseSlotValue;\n        this._receiver0 = receiver;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] = promiseSlotValue;\n        this[base + 4] = receiver;\n    }\n    this._setLength(index + 1);\n};\n\nPromise.prototype._proxyPromiseArray = function (promiseArray, index) {\n    this._setProxyHandlers(promiseArray, index);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false, true);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    var propagationFlags = 1 | (shouldBind ? 4 : 0);\n    this._propagateFrom(maybePromise, propagationFlags);\n    var promise = maybePromise._target();\n    if (promise._isPending()) {\n        var len = this._length();\n        for (var i = 0; i < len; ++i) {\n            promise._migrateCallbacks(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (promise._isFulfilled()) {\n        this._fulfillUnchecked(promise._value());\n    } else {\n        this._rejectUnchecked(promise._reason(),\n            promise._getCarriedStackTrace());\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, shouldNotMarkOriginatingFromRejection) {\n    if (!shouldNotMarkOriginatingFromRejection) {\n        util.markAsOriginatingFromRejection(reason);\n    }\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason, hasStack ? undefined : trace);\n};\n\nPromise.prototype._resolveFromResolver = function (resolver) {\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = tryCatch(resolver)(function(value) {\n        if (promise === null) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }, function (reason) {\n        if (promise === null) return;\n        promise._rejectCallback(reason, synchronous);\n        promise = null;\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined && r === errorObj && promise !== null) {\n        promise._rejectCallback(r.e, true, true);\n        promise = null;\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    if (promise._isRejected()) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY && !this._isRejected()) {\n        x = tryCatch(handler).apply(this._boundValue(), value);\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    promise._popContext();\n\n    if (x === errorObj || x === promise || x === NEXT_FILTER) {\n        var err = x === promise ? makeSelfResolutionError() : x.e;\n        promise._rejectCallback(err, false, true);\n    } else {\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._cleanValues = function () {\n    if (this._cancellable()) {\n        this._cancellationParent = undefined;\n    }\n};\n\nPromise.prototype._propagateFrom = function (parent, flags) {\n    if ((flags & 1) > 0 && parent._cancellable()) {\n        this._setCancellable();\n        this._cancellationParent = parent;\n    }\n    if ((flags & 4) > 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n};\n\nPromise.prototype._fulfill = function (value) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._fulfillUnchecked(value);\n};\n\nPromise.prototype._reject = function (reason, carriedStackTrace) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._rejectUnchecked(reason, carriedStackTrace);\n};\n\nPromise.prototype._settlePromiseAt = function (index) {\n    var promise = this._promiseAt(index);\n    var isPromise = promise instanceof Promise;\n\n    if (isPromise && promise._isMigrated()) {\n        promise._unsetIsMigrated();\n        return async.invoke(this._settlePromiseAt, this, index);\n    }\n    var handler = this._isFulfilled()\n        ? this._fulfillmentHandlerAt(index)\n        : this._rejectionHandlerAt(index);\n\n    var carriedStackTrace =\n        this._isCarryingStackTrace() ? this._getCarriedStackTrace() : undefined;\n    var value = this._settledValue;\n    var receiver = this._receiverAt(index);\n    this._clearCallbackDataAtIndex(index);\n\n    if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof PromiseArray) {\n        if (!receiver._isResolved()) {\n            if (this._isFulfilled()) {\n                receiver._promiseFulfilled(value, promise);\n            }\n            else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (this._isFulfilled()) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value, carriedStackTrace);\n        }\n    }\n\n    if (index >= 4 && (index & 31) === 4)\n        async.invokeLater(this._setLength, this, 0);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    if (index === 0) {\n        if (!this._isCarryingStackTrace()) {\n            this._fulfillmentHandler0 = undefined;\n        }\n        this._rejectionHandler0 =\n        this._progressHandler0 =\n        this._receiver0 =\n        this._promise0 = undefined;\n    } else {\n        var base = index * 5 - 5;\n        this[base + 3] =\n        this[base + 4] =\n        this[base + 0] =\n        this[base + 1] =\n        this[base + 2] = undefined;\n    }\n};\n\nPromise.prototype._isSettlePromisesQueued = function () {\n    return (this._bitField &\n            -1073741824) === -1073741824;\n};\n\nPromise.prototype._setSettlePromisesQueued = function () {\n    this._bitField = this._bitField | -1073741824;\n};\n\nPromise.prototype._unsetSettlePromisesQueued = function () {\n    this._bitField = this._bitField & (~-1073741824);\n};\n\nPromise.prototype._queueSettlePromises = function() {\n    async.settlePromises(this);\n    this._setSettlePromisesQueued();\n};\n\nPromise.prototype._fulfillUnchecked = function (value) {\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err, undefined);\n    }\n    this._setFulfilled();\n    this._settledValue = value;\n    this._cleanValues();\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    }\n};\n\nPromise.prototype._rejectUncheckedCheckError = function (reason) {\n    var trace = util.ensureErrorObject(reason);\n    this._rejectUnchecked(reason, trace === reason ? undefined : trace);\n};\n\nPromise.prototype._rejectUnchecked = function (reason, trace) {\n    if (reason === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._rejectUnchecked(err);\n    }\n    this._setRejected();\n    this._settledValue = reason;\n    this._cleanValues();\n\n    if (this._isFinal()) {\n        async.throwLater(function(e) {\n            if (\"stack\" in e) {\n                async.invokeFirst(\n                    CapturedTrace.unhandledRejection, undefined, e);\n            }\n            throw e;\n        }, trace === undefined ? reason : trace);\n        return;\n    }\n\n    if (trace !== undefined && trace !== reason) {\n        this._setCarriedStackTrace(trace);\n    }\n\n    if (this._length() > 0) {\n        this._queueSettlePromises();\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    this._unsetSettlePromisesQueued();\n    var len = this._length();\n    for (var i = 0; i < len; i++) {\n        this._settlePromiseAt(i);\n    }\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\nrequire(\"./progress.js\")(Promise, PromiseArray);\nrequire(\"./method.js\")(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire(\"./bind.js\")(Promise, INTERNAL, tryConvertToPromise);\nrequire(\"./finally.js\")(Promise, NEXT_FILTER, tryConvertToPromise);\nrequire(\"./direct_resolve.js\")(Promise);\nrequire(\"./synchronous_inspection.js\")(Promise);\nrequire(\"./join.js\")(Promise, PromiseArray, tryConvertToPromise, INTERNAL);\nPromise.Promise = Promise;\nrequire('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./cancel.js')(Promise);\nrequire('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext);\nrequire('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise);\nrequire('./nodeify.js')(Promise);\nrequire('./call_get.js')(Promise);\nrequire('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\nrequire('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\nrequire('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL);\nrequire('./settle.js')(Promise, PromiseArray);\nrequire('./some.js')(Promise, PromiseArray, apiRejection);\nrequire('./promisify.js')(Promise, INTERNAL);\nrequire('./any.js')(Promise);\nrequire('./each.js')(Promise, INTERNAL);\nrequire('./timers.js')(Promise, INTERNAL);\nrequire('./filter.js')(Promise, INTERNAL);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._progressHandler0 = value;                                         \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n        p._settledValue = value;                                             \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    CapturedTrace.setBounds(async.firstLineError, util.lastLineError);       \n    return Promise;                                                          \n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection) {\nvar util = require(\"./util.js\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    var parent;\n    if (values instanceof Promise) {\n        parent = values;\n        promise._propagateFrom(parent, 1 | 4);\n    }\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        this._values = values;\n        if (values._isFulfilled()) {\n            values = values._value();\n            if (!isArray(values)) {\n                var err = new Promise.TypeError(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\");\n                this.__hardReject__(err);\n                return;\n            }\n        } else if (values._isPending()) {\n            values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n            return;\n        } else {\n            this._reject(values._reason());\n            return;\n        }\n    } else if (!isArray(values)) {\n        this._promise._reject(apiRejection(\"expecting an array, a promise or a thenable\\u000a\\u000a    See http://goo.gl/s8MMhc\\u000a\")._reason());\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var promise = this._promise;\n    for (var i = 0; i < len; ++i) {\n        var isResolved = this._isResolved();\n        var maybePromise = tryConvertToPromise(values[i], promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (isResolved) {\n                maybePromise._ignoreRejections();\n            } else if (maybePromise._isPending()) {\n                maybePromise._proxyPromiseArray(this, i);\n            } else if (maybePromise._isFulfilled()) {\n                this._promiseFulfilled(maybePromise._value(), i);\n            } else {\n                this._promiseRejected(maybePromise._reason(), i);\n            }\n        } else if (!isResolved) {\n            this._promiseFulfilled(maybePromise, i);\n        }\n    }\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype.__hardReject__ =\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false, true);\n};\n\nPromiseArray.prototype._promiseProgressed = function (progressValue, index) {\n    this._promise._progress({\n        index: index,\n        value: progressValue\n    });\n};\n\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n    }\n};\n\nPromiseArray.prototype._promiseRejected = function (reason, index) {\n    this._totalResolved++;\n    this._reject(reason);\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n","\"use strict\";\nmodule.exports = function(Promise, CapturedTrace) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar Warning = require(\"./errors.js\").Warning;\nvar util = require(\"./util.js\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar debugging = false || (util.isNode &&\n                    (!!process.env[\"BLUEBIRD_DEBUG\"] ||\n                     process.env[\"NODE_ENV\"] === \"development\"));\n\nif (debugging) {\n    async.disableTrampolineIfNecessary();\n}\n\nPromise.prototype._ignoreRejections = function() {\n    this._unsetRejectionIsUnhandled();\n    this._bitField = this._bitField | 16777216;\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 16777216) !== 0) return;\n    this._setRejectionIsUnhandled();\n    async.invokeLater(this._notifyUnhandledRejection, this, undefined);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    CapturedTrace.fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._getCarriedStackTrace() || this._settledValue;\n        this._setUnhandledRejectionIsNotified();\n        CapturedTrace.fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 524288;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~524288);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 524288) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 2097152;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~2097152);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 2097152) > 0;\n};\n\nPromise.prototype._setCarriedStackTrace = function (capturedTrace) {\n    this._bitField = this._bitField | 1048576;\n    this._fulfillmentHandler0 = capturedTrace;\n};\n\nPromise.prototype._isCarryingStackTrace = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._getCarriedStackTrace = function () {\n    return this._isCarryingStackTrace()\n        ? this._fulfillmentHandler0\n        : undefined;\n};\n\nPromise.prototype._captureStackTrace = function (force) {\n    if (debugging || (force && CapturedTrace.isSupported())) {\n        this._traceForced = force;\n        this._trace = new CapturedTrace(this._peekContext());\n    }\n    return this;\n};\n\nPromise.prototype._attachExtraTrace = function (error, ignoreSelf) {\n    if ((debugging || this._traceForced) && canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = CapturedTrace.parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n};\n\nPromise.prototype._warn = function(message) {\n    var warning = new Warning(message);\n    var ctx = this._peekContext();\n    if (ctx) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = CapturedTrace.parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n    CapturedTrace.formatAndLogError(warning, \"\");\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ? fn : domain.bind(fn))\n                                 : undefined;\n};\n\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() &&\n        debugging === false\n   ) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/DT1qyG\\u000a\");\n    }\n    debugging = CapturedTrace.isSupported();\n    if (debugging) {\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return debugging && CapturedTrace.isSupported();\n};\n\nif (!CapturedTrace.isSupported()) {\n    Promise.longStackTraces = function(){};\n    debugging = false;\n}\n\nreturn function() {\n    return debugging;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, CapturedTrace, isDebugging) {\nvar contextStack = [];\nfunction Context() {\n    this._trace = new CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (!isDebugging()) return;\n    if (this._trace !== undefined) {\n        contextStack.pop();\n    }\n};\n\nfunction createContext() {\n    if (isDebugging()) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\n\nPromise.prototype._peekContext = peekContext;\nPromise.prototype._pushContext = Context.prototype._pushContext;\nPromise.prototype._popContext = Context.prototype._popContext;\n\nreturn createContext;\n};\n","\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = require(\"./util.js\");\nvar errors = require(\"./errors.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar keys = require(\"./es5.js\").keys;\nvar TypeError = errors.TypeError;\n\nfunction CatchFilter(instances, callback, promise) {\n    this._instances = instances;\n    this._callback = callback;\n    this._promise = promise;\n}\n\nfunction safePredicate(predicate, e) {\n    var safeObject = {};\n    var retfilter = tryCatch(predicate).call(safeObject, e);\n\n    if (retfilter === errorObj) return retfilter;\n\n    var safeKeys = keys(safeObject);\n    if (safeKeys.length) {\n        errorObj.e = new TypeError(\"Catch filter must inherit from Error or be a simple predicate function\\u000a\\u000a    See http://goo.gl/o84o68\\u000a\");\n        return errorObj;\n    }\n    return retfilter;\n}\n\nCatchFilter.prototype.doFilter = function (e) {\n    var cb = this._callback;\n    var promise = this._promise;\n    var boundTo = promise._boundValue();\n    for (var i = 0, len = this._instances.length; i < len; ++i) {\n        var item = this._instances[i];\n        var itemIsErrorType = item === Error ||\n            (item != null && item.prototype instanceof Error);\n\n        if (itemIsErrorType && e instanceof item) {\n            var ret = tryCatch(cb).call(boundTo, e);\n            if (ret === errorObj) {\n                NEXT_FILTER.e = ret.e;\n                return NEXT_FILTER;\n            }\n            return ret;\n        } else if (typeof item === \"function\" && !itemIsErrorType) {\n            var shouldHandle = safePredicate(item, e);\n            if (shouldHandle === errorObj) {\n                e = errorObj.e;\n                break;\n            } else if (shouldHandle) {\n                var ret = tryCatch(cb).call(boundTo, e);\n                if (ret === errorObj) {\n                    NEXT_FILTER.e = ret.e;\n                    return NEXT_FILTER;\n                }\n                return ret;\n            }\n        }\n    }\n    NEXT_FILTER.e = e;\n    return NEXT_FILTER;\n};\n\nreturn CatchFilter;\n};\n","\"use strict\";\nmodule.exports = function(Promise, PromiseArray) {\nvar util = require(\"./util.js\");\nvar async = require(\"./async.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nPromise.prototype.progressed = function (handler) {\n    return this._then(undefined, undefined, handler, undefined, undefined);\n};\n\nPromise.prototype._progress = function (progressValue) {\n    if (this._isFollowingOrFulfilledOrRejected()) return;\n    this._target()._progressUnchecked(progressValue);\n\n};\n\nPromise.prototype._progressHandlerAt = function (index) {\n    return index === 0\n        ? this._progressHandler0\n        : this[(index << 2) + index - 5 + 2];\n};\n\nPromise.prototype._doProgressWith = function (progression) {\n    var progressValue = progression.value;\n    var handler = progression.handler;\n    var promise = progression.promise;\n    var receiver = progression.receiver;\n\n    var ret = tryCatch(handler).call(receiver, progressValue);\n    if (ret === errorObj) {\n        if (ret.e != null &&\n            ret.e.name !== \"StopProgressPropagation\") {\n            var trace = util.canAttachTrace(ret.e)\n                ? ret.e : new Error(util.toString(ret.e));\n            promise._attachExtraTrace(trace);\n            promise._progress(ret.e);\n        }\n    } else if (ret instanceof Promise) {\n        ret._then(promise._progress, null, null, promise, undefined);\n    } else {\n        promise._progress(ret);\n    }\n};\n\n\nPromise.prototype._progressUnchecked = function (progressValue) {\n    var len = this._length();\n    var progress = this._progress;\n    for (var i = 0; i < len; i++) {\n        var handler = this._progressHandlerAt(i);\n        var promise = this._promiseAt(i);\n        if (!(promise instanceof Promise)) {\n            var receiver = this._receiverAt(i);\n            if (typeof handler === \"function\") {\n                handler.call(receiver, progressValue, promise);\n            } else if (receiver instanceof PromiseArray &&\n                       !receiver._isResolved()) {\n                receiver._promiseProgressed(progressValue, promise);\n            }\n            continue;\n        }\n\n        if (typeof handler === \"function\") {\n            async.invoke(this._doProgressWith, this, {\n                handler: handler,\n                promise: promise,\n                receiver: this._receiverAt(i),\n                value: progressValue\n            });\n        } else {\n            async.invoke(progress, promise, progressValue);\n        }\n    }\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        ret._popContext();\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn, args, ctx) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value = util.isArray(args)\n        ? tryCatch(fn).apply(ctx, args)\n        : tryCatch(fn).call(ctx, args);\n    ret._popContext();\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false, true);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise) {\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (this._isPending()) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, ret._progress, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, ret._progress, ret, context);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 131072;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~131072);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 131072) === 131072;\n};\n\nPromise.bind = function (thisArg, value) {\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        maybePromise._then(function() {\n            ret._resolveCallback(value);\n        }, ret._reject, ret._progress, ret, null);\n    } else {\n        ret._resolveCallback(value);\n    }\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, NEXT_FILTER, tryConvertToPromise) {\nvar util = require(\"./util.js\");\nvar isPrimitive = util.isPrimitive;\nvar thrower = util.thrower;\n\nfunction returnThis() {\n    return this;\n}\nfunction throwThis() {\n    throw this;\n}\nfunction return$(r) {\n    return function() {\n        return r;\n    };\n}\nfunction throw$(r) {\n    return function() {\n        throw r;\n    };\n}\nfunction promisedFinally(ret, reasonOrValue, isFulfilled) {\n    var then;\n    if (isPrimitive(reasonOrValue)) {\n        then = isFulfilled ? return$(reasonOrValue) : throw$(reasonOrValue);\n    } else {\n        then = isFulfilled ? returnThis : throwThis;\n    }\n    return ret._then(then, thrower, undefined, reasonOrValue, undefined);\n}\n\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    var ret = promise._isBound()\n                    ? handler.call(promise._boundValue())\n                    : handler();\n\n    if (ret !== undefined) {\n        var maybePromise = tryConvertToPromise(ret, promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            return promisedFinally(maybePromise, reasonOrValue,\n                                    promise.isFulfilled());\n        }\n    }\n\n    if (promise.isRejected()) {\n        NEXT_FILTER.e = reasonOrValue;\n        return NEXT_FILTER;\n    } else {\n        return reasonOrValue;\n    }\n}\n\nfunction tapHandler(value) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    var ret = promise._isBound()\n                    ? handler.call(promise._boundValue(), value)\n                    : handler(value);\n\n    if (ret !== undefined) {\n        var maybePromise = tryConvertToPromise(ret, promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            return promisedFinally(maybePromise, value, true);\n        }\n    }\n    return value;\n}\n\nPromise.prototype._passThroughHandler = function (handler, isFinally) {\n    if (typeof handler !== \"function\") return this.then();\n\n    var promiseAndHandler = {\n        promise: this,\n        handler: handler\n    };\n\n    return this._then(\n            isFinally ? finallyHandler : tapHandler,\n            isFinally ? finallyHandler : undefined, undefined,\n            promiseAndHandler, undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThroughHandler(handler, true);\n};\n\nPromise.prototype.tap = function (handler) {\n    return this._passThroughHandler(handler, false);\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL) {\nvar util = require(\"./util.js\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!false) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var caller = function(count) {\n        var values = [];\n        for (var i = 1; i <= count; ++i) values.push(\"holder.p\" + i);\n        return new Function(\"holder\", \"                                      \\n\\\n            'use strict';                                                    \\n\\\n            var callback = holder.fn;                                        \\n\\\n            return callback(values);                                         \\n\\\n            \".replace(/values/g, values.join(\", \")));\n    };\n    var thenCallbacks = [];\n    var callers = [undefined];\n    for (var i = 1; i <= 5; ++i) {\n        thenCallbacks.push(thenCallback(i));\n        callers.push(caller(i));\n    }\n\n    var Holder = function(total, fn) {\n        this.p1 = this.p2 = this.p3 = this.p4 = this.p5 = null;\n        this.fn = fn;\n        this.total = total;\n        this.now = 0;\n    };\n\n    Holder.prototype.callers = callers;\n    Holder.prototype.checkFulfillment = function(promise) {\n        var now = this.now;\n        now++;\n        var total = this.total;\n        if (now >= total) {\n            var handler = this.callers[total];\n            promise._pushContext();\n            var ret = tryCatch(handler)(this);\n            promise._popContext();\n            if (ret === errorObj) {\n                promise._rejectCallback(ret.e, false, true);\n            } else {\n                promise._resolveCallback(ret);\n            }\n        } else {\n            this.now = now;\n        }\n    };\n\n    var reject = function (reason) {\n        this._reject(reason);\n    };\n}\n}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!false) {\n            if (last < 6 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var holder = new Holder(last, fn);\n                var callbacks = thenCallbacks;\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        if (maybePromise._isPending()) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                        } else if (maybePromise._isFulfilled()) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else {\n                            ret._reject(maybePromise._reason());\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n                return ret;\n            }\n        }\n    }\n    var $_len = arguments.length;var args = new Array($_len); for(var $_i = 0; $_i < $_len; ++$_i) {args[$_i] = arguments[$_i];}\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar PENDING = {};\nvar EMPTY_ARRAY = [];\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : domain.bind(fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = limit >= 1 ? [] : EMPTY_ARRAY;\n    async.invoke(init, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\nfunction init() {this._init$(undefined, -2);}\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n    if (values[index] === PENDING) {\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var callback = this._callback;\n        var receiver = this._promise._boundValue();\n        this._promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        this._promise._popContext();\n        if (ret === errorObj) return this._reject(ret.e);\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (maybePromise._isPending()) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = PENDING;\n                return maybePromise._proxyPromiseArray(this, index);\n            } else if (maybePromise._isFulfilled()) {\n                ret = maybePromise._value();\n            } else {\n                return this._reject(maybePromise._reason());\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n\n    }\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    var limit = typeof options === \"object\" && options !== null\n        ? options.concurrency\n        : 0;\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter);\n}\n\nPromise.prototype.map = function (fn, options) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n\n    return map(this, fn, options, null).promise();\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    return map(promises, fn, options, _filter).promise();\n};\n\n\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar errors = require(\"./errors.js\");\nvar async = require(\"./async.js\");\nvar CancellationError = errors.CancellationError;\n\nPromise.prototype._cancel = function (reason) {\n    if (!this.isCancellable()) return this;\n    var parent;\n    var promiseToReject = this;\n    while ((parent = promiseToReject._cancellationParent) !== undefined &&\n        parent.isCancellable()) {\n        promiseToReject = parent;\n    }\n    this._unsetCancellable();\n    promiseToReject._target()._rejectCallback(reason, false, true);\n};\n\nPromise.prototype.cancel = function (reason) {\n    if (!this.isCancellable()) return this;\n    if (reason === undefined) reason = new CancellationError();\n    async.invokeLater(this._cancel, this, reason);\n    return this;\n};\n\nPromise.prototype.cancellable = function () {\n    if (this._cancellable()) return this;\n    async.enableTrampoline();\n    this._setCancellable();\n    this._cancellationParent = undefined;\n    return this;\n};\n\nPromise.prototype.uncancellable = function () {\n    var ret = this.then();\n    ret._unsetCancellable();\n    return ret;\n};\n\nPromise.prototype.fork = function (didFulfill, didReject, didProgress) {\n    var ret = this._then(didFulfill, didReject, didProgress,\n                         undefined, undefined);\n\n    ret._setCancellable();\n    ret._cancellationParent = undefined;\n    return ret;\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar util = require(\"./util.js\");\nvar async = require(\"./async.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var target = promise._target();\n        var newReason = target._getCarriedStackTrace();\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback =\nPromise.prototype.nodeify = function (nodeback, options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n","\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = require(\"./util.js\");\nvar isObject = util.isObject;\nvar es5 = require(\"./es5.js\");\n\nfunction PropertiesPromiseArray(obj) {\n    var keys = es5.keys(obj);\n    var len = keys.length;\n    var values = new Array(len * 2);\n    for (var i = 0; i < len; ++i) {\n        var key = keys[i];\n        values[i] = obj[key];\n        values[i + len] = key;\n    }\n    this.constructor$(values);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {\n    this._init$(undefined, -3) ;\n};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val = {};\n        var keyOffset = this.length();\n        for (var i = 0, len = this.length(); i < len; ++i) {\n            val[this._values[i + keyOffset]] = this._values[i];\n        }\n        this._resolve(val);\n    }\n};\n\nPropertiesPromiseArray.prototype._promiseProgressed = function (value, index) {\n    this._promise._progress({\n        key: this._values[index + this.length()],\n        value: value\n    });\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/OsFKC8\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 4);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL) {\nvar getDomain = Promise._getDomain;\nvar async = require(\"./async.js\");\nvar util = require(\"./util.js\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nfunction ReductionPromiseArray(promises, fn, accum, _each) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    this._preservedValues = _each === INTERNAL ? [] : null;\n    this._zerothIsAccum = (accum === undefined);\n    this._gotAccum = false;\n    this._reducingIndex = (this._zerothIsAccum ? 1 : 0);\n    this._valuesPhase = undefined;\n    var maybePromise = tryConvertToPromise(accum, this._promise);\n    var rejected = false;\n    var isPromise = maybePromise instanceof Promise;\n    if (isPromise) {\n        maybePromise = maybePromise._target();\n        if (maybePromise._isPending()) {\n            maybePromise._proxyPromiseArray(this, -1);\n        } else if (maybePromise._isFulfilled()) {\n            accum = maybePromise._value();\n            this._gotAccum = true;\n        } else {\n            this._reject(maybePromise._reason());\n            rejected = true;\n        }\n    }\n    if (!(isPromise || this._zerothIsAccum)) this._gotAccum = true;\n    var domain = getDomain();\n    this._callback = domain === null ? fn : domain.bind(fn);\n    this._accum = accum;\n    if (!rejected) async.invoke(init, this, undefined);\n}\nfunction init() {\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._init = function () {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function () {\n    if (this._gotAccum || this._zerothIsAccum) {\n        this._resolve(this._preservedValues !== null\n                        ? [] : this._accum);\n    }\n};\n\nReductionPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    values[index] = value;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var isEach = preservedValues !== null;\n    var gotAccum = this._gotAccum;\n    var valuesPhase = this._valuesPhase;\n    var valuesPhaseIndex;\n    if (!valuesPhase) {\n        valuesPhase = this._valuesPhase = new Array(length);\n        for (valuesPhaseIndex=0; valuesPhaseIndex<length; ++valuesPhaseIndex) {\n            valuesPhase[valuesPhaseIndex] = 0;\n        }\n    }\n    valuesPhaseIndex = valuesPhase[index];\n\n    if (index === 0 && this._zerothIsAccum) {\n        this._accum = value;\n        this._gotAccum = gotAccum = true;\n        valuesPhase[index] = ((valuesPhaseIndex === 0)\n            ? 1 : 2);\n    } else if (index === -1) {\n        this._accum = value;\n        this._gotAccum = gotAccum = true;\n    } else {\n        if (valuesPhaseIndex === 0) {\n            valuesPhase[index] = 1;\n        } else {\n            valuesPhase[index] = 2;\n            this._accum = value;\n        }\n    }\n    if (!gotAccum) return;\n\n    var callback = this._callback;\n    var receiver = this._promise._boundValue();\n    var ret;\n\n    for (var i = this._reducingIndex; i < length; ++i) {\n        valuesPhaseIndex = valuesPhase[i];\n        if (valuesPhaseIndex === 2) {\n            this._reducingIndex = i + 1;\n            continue;\n        }\n        if (valuesPhaseIndex !== 1) return;\n        value = values[i];\n        this._promise._pushContext();\n        if (isEach) {\n            preservedValues.push(value);\n            ret = tryCatch(callback).call(receiver, value, i, length);\n        }\n        else {\n            ret = tryCatch(callback)\n                .call(receiver, this._accum, value, i, length);\n        }\n        this._promise._popContext();\n\n        if (ret === errorObj) return this._reject(ret.e);\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            if (maybePromise._isPending()) {\n                valuesPhase[i] = 4;\n                return maybePromise._proxyPromiseArray(this, i);\n            } else if (maybePromise._isFulfilled()) {\n                ret = maybePromise._value();\n            } else {\n                return this._reject(maybePromise._reason());\n            }\n        }\n\n        this._reducingIndex = i + 1;\n        this._accum = ret;\n    }\n\n    this._resolve(isEach ? preservedValues : this._accum);\n};\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") return apiRejection(\"fn must be a function\\u000a\\u000a    See http://goo.gl/916lJJ\\u000a\");\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n};\n","\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = require(\"./util.js\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n    }\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 268435456;\n    ret._settledValue = value;\n    this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 134217728;\n    ret._settledValue = reason;\n    this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return new SettledPromiseArray(this).promise();\n};\n};\n","\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = require(\"./util.js\");\nvar RangeError = require(\"./errors.js\").RangeError;\nvar AggregateError = require(\"./errors.js\").AggregateError;\nvar isArray = util.isArray;\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n    }\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            e.push(this._values[i]);\n        }\n        this._reject(e);\n    }\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/1wAmHx\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n","\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, null, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, null, INTERNAL);\n};\n};\n","\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n","var Promise = require('unexpected-bluebird');\n\nvar workQueue = {\n  queue: [],\n  drain: function drain() {\n    this.queue.forEach(function (fn) {\n      fn();\n    });\n    this.queue = [];\n  },\n};\n\nvar scheduler = Promise.setScheduler(function (fn) {\n  workQueue.queue.push(fn);\n  scheduler(function () {\n    workQueue.drain();\n  });\n});\n\nPromise.prototype._notifyUnhandledRejection = function () {\n  var that = this;\n  scheduler(function () {\n    if (that._isRejectionUnhandled()) {\n      if (workQueue.onUnhandledRejection) {\n        // for testing\n        workQueue.onUnhandledRejection(that.reason());\n      } else {\n        throw that.reason();\n      }\n    }\n  });\n};\n\nmodule.exports = workQueue;\n","var Promise = require('unexpected-bluebird');\nvar utils = require('./utils');\n\nvar useFullStackTrace = false;\nif (typeof window !== 'undefined' && typeof window.location !== 'undefined') {\n  useFullStackTrace = !!window.location.search.match(\n    /[?&]full-trace=true(?:$|&)/\n  );\n}\n\nif (utils.getEnv('UNEXPECTED_FULL_TRACE')) {\n  Promise.longStackTraces();\n  useFullStackTrace = true;\n}\nmodule.exports = useFullStackTrace;\n","var workQueue = require('./workQueue');\nvar Promise = require('unexpected-bluebird');\nvar useFullStackTrace = require('./useFullStackTrace');\n\nmodule.exports = function oathbreaker(value) {\n  if (!value || typeof value.then !== 'function') {\n    return value;\n  }\n\n  if (!value.isRejected) {\n    // this is not a bluebird promise\n    return value;\n  }\n\n  if (value.isFulfilled()) {\n    return value;\n  }\n\n  if (value.isRejected()) {\n    value.caught(function () {\n      // Ignore - already handled\n    });\n\n    throw value.reason();\n  }\n\n  var onResolve = function () {};\n  var onReject = function () {};\n\n  var evaluated = false;\n  var error;\n  value.then(\n    function (obj) {\n      evaluated = true;\n      onResolve(value);\n    },\n    function (err) {\n      evaluated = true;\n      error = err;\n      onReject(err);\n    }\n  );\n\n  workQueue.drain();\n\n  if (evaluated && error) {\n    if (error._isUnexpected && Error.captureStackTrace) {\n      Error.captureStackTrace(error);\n    }\n    throw error;\n  } else if (evaluated) {\n    return value;\n  } else if (value._captureStackTrace && !useFullStackTrace) {\n    value._captureStackTrace(true);\n  }\n\n  return new Promise(function (resolve, reject) {\n    onResolve = resolve;\n    onReject = reject;\n  });\n};\n","function throwIfNonUnexpectedError(err) {\n  if (err && err.message === 'aggregate error') {\n    for (var i = 0; i < err.length; i += 1) {\n      throwIfNonUnexpectedError(err[i]);\n    }\n  } else if (!err || !err._isUnexpected) {\n    throw err;\n  }\n}\n\nmodule.exports = throwIfNonUnexpectedError;\n","var Promise = require('unexpected-bluebird');\nvar oathbreaker = require('./oathbreaker');\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\n\nfunction makePromise(body) {\n  if (typeof body !== 'function') {\n    throw new TypeError(\n      'expect.promise(...) requires a function argument to be supplied.\\n' +\n        'See http://unexpected.js.org/api/promise/ for more details.'\n    );\n  }\n\n  if (body.length === 2) {\n    return new Promise(body);\n  }\n\n  return new Promise(function (resolve, reject) {\n    var runningTasks = 0;\n    var resolvedValue;\n    var outerFunctionHasReturned = false;\n\n    function fulfillIfDone() {\n      if (outerFunctionHasReturned && runningTasks === 0) {\n        resolve(resolvedValue);\n      }\n    }\n\n    function noteResolvedValue(value) {\n      if (\n        typeof value !== 'undefined' &&\n        typeof resolvedValue === 'undefined'\n      ) {\n        resolvedValue = value;\n      }\n    }\n\n    var runner = function (fn) {\n      runningTasks += 1;\n      return function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        runningTasks -= 1;\n        var result;\n        try {\n          if (typeof fn === 'function') {\n            result = oathbreaker(fn.apply(void 0, args));\n            if (isPromise(result)) {\n              runningTasks += 1;\n              result.then(function (value) {\n                noteResolvedValue(value);\n                runningTasks -= 1;\n                fulfillIfDone();\n              }, reject);\n            } else {\n              noteResolvedValue(result);\n            }\n          }\n        } catch (e) {\n          return reject(e);\n        }\n        fulfillIfDone();\n        return result;\n      };\n    };\n\n    try {\n      var result = oathbreaker(body(runner));\n      if (isPromise(result)) {\n        runningTasks += 1;\n        result.then(function (value) {\n          noteResolvedValue(value);\n          runningTasks -= 1;\n          fulfillIfDone();\n        }, reject);\n      } else {\n        noteResolvedValue(result);\n      }\n    } catch (e) {\n      return reject(e);\n    }\n    outerFunctionHasReturned = true;\n    fulfillIfDone();\n  });\n}\n\nfunction isPromise(obj) {\n  return obj && typeof obj === 'object' && typeof obj.then === 'function';\n}\n\nfunction extractPromisesFromObject(obj) {\n  if (isPromise(obj)) {\n    return [obj];\n  } else if (obj && typeof obj === 'object') {\n    var promises = [];\n    // Object or Array\n    Object.keys(obj).forEach(function (key) {\n      promises.push.apply(promises, extractPromisesFromObject(obj[key]));\n    });\n    Object.getOwnPropertySymbols(obj).forEach(function (key) {\n      promises.push.apply(promises, extractPromisesFromObject(obj[key]));\n    });\n    return promises;\n  }\n  return [];\n}\n\n['all', 'any', 'settle'].forEach(function (staticMethodName) {\n  makePromise[staticMethodName] = function (obj) {\n    var result = Promise[staticMethodName](extractPromisesFromObject(obj));\n    if (staticMethodName === 'settle') {\n      return result.then(function (promises) {\n        promises.forEach(function (promise) {\n          if (promise.isRejected()) {\n            throwIfNonUnexpectedError(promise.reason());\n          }\n        });\n        return promises;\n      });\n    }\n    return result;\n  };\n});\n\n// Expose all of Bluebird's static methods, except the ones related to long stack traces,\n// unhandled rejections and the scheduler, which we need to manage ourselves:\nObject.keys(Promise).forEach(function (staticMethodName) {\n  if (\n    !/^_|^on|^setScheduler|ongStackTraces/.test(staticMethodName) &&\n    typeof Promise[staticMethodName] === 'function' &&\n    typeof makePromise[staticMethodName] === 'undefined'\n  ) {\n    makePromise[staticMethodName] = Promise[staticMethodName];\n  }\n});\n\nmodule.exports = makePromise;\n","function addAdditionalPromiseMethods(promise, expect, subject) {\n  promise.and = function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    function executeAnd() {\n      if (expect.findTypeOf(args[0]).is('expect.it')) {\n        return addAdditionalPromiseMethods(args[0](subject), expect, subject);\n      } else {\n        return expect.apply(void 0, [ subject ].concat( args ));\n      }\n    }\n\n    if (this.isFulfilled()) {\n      return executeAnd();\n    } else {\n      return addAdditionalPromiseMethods(\n        this.then(executeAnd),\n        expect,\n        subject\n      );\n    }\n  };\n\n  return promise;\n}\n\nmodule.exports = addAdditionalPromiseMethods;\n","var makePromise = require('./makePromise');\n\nmodule.exports = function (promise) {\n  if (typeof promise.isPending !== 'function') {\n    // wrap any non-Unexpected promise\n    return makePromise(function () { return promise; });\n  } else {\n    return promise;\n  }\n};\n","var utils = require('./utils');\n\nvar defaultDepth = 3;\nvar matchDepthParameter =\n  typeof window !== 'undefined' &&\n  typeof window.location !== 'undefined' &&\n  window.location.search.match(/[?&]depth=(\\d+)(?:$|&)/);\n\nif (matchDepthParameter) {\n  defaultDepth = parseInt(matchDepthParameter[1], 10);\n} else {\n  var defaultDepthFromEnv = utils.getEnv('UNEXPECTED_DEPTH');\n  if (defaultDepthFromEnv) {\n    defaultDepth = parseInt(defaultDepthFromEnv, 10);\n  }\n}\nmodule.exports = defaultDepth;\n","var utils = require('./utils');\nvar defaultDepth = require('./defaultDepth');\nvar useFullStackTrace = require('./useFullStackTrace');\n\nvar errorMethodBlacklist = [\n  'message',\n  'line',\n  'sourceId',\n  'sourceURL',\n  'stack',\n  'stackArray' ].reduce(function (result, prop) {\n  result[prop] = true;\n  return result;\n}, {});\n\nfunction UnexpectedError(expect, parent) {\n  this.errorMode = (expect && expect.errorMode) || 'default';\n  var base = Error.call(this, '');\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, UnexpectedError);\n  } else {\n    // Throw the error to make sure it has its stack serialized:\n    try {\n      throw base;\n    } catch (err) {}\n    this.stack = base.stack;\n  }\n\n  // Prevent flooding the screen in node-tap\n  // https://github.com/unexpectedjs/unexpected/issues/582\n  Object.defineProperties(this, {\n    expect: {\n      enumerable: false,\n      value: expect,\n    },\n  });\n  this.parent = parent || null;\n  this.name = 'UnexpectedError';\n}\n\nUnexpectedError.prototype = Object.create(Error.prototype);\n\nUnexpectedError.prototype.useFullStackTrace = useFullStackTrace;\n\nvar missingOutputMessage =\n  'You must either provide a format or a magicpen instance';\nUnexpectedError.prototype.outputFromOptions = function (options) {\n  if (!options) {\n    throw new Error(missingOutputMessage);\n  }\n\n  if (typeof options === 'string') {\n    return this.expect.createOutput(options);\n  }\n\n  if (options.isMagicPen) {\n    return options.clone();\n  }\n\n  if (options.output) {\n    return options.output.clone();\n  }\n\n  if (options.format) {\n    return this.expect.createOutput(options.format);\n  }\n\n  throw new Error(missingOutputMessage);\n};\n\nUnexpectedError.prototype._isUnexpected = true;\nUnexpectedError.prototype.isUnexpected = true;\nUnexpectedError.prototype.buildDiff = function (options) {\n  var output = this.outputFromOptions(options);\n  var expect = this.expect;\n  return (\n    this.createDiff &&\n    this.createDiff(\n      output,\n      function (actual, expected) { return expect.diff(actual, expected, output.clone()); },\n      function (v, depth) { return output.clone().appendInspected(v, (depth || defaultDepth) - 1); },\n      function (actual, expected) { return expect.equal(actual, expected); }\n    )\n  );\n};\n\nUnexpectedError.prototype.getDefaultErrorMessage = function (options) {\n  var output = this.outputFromOptions(options);\n  if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n\n  var errorWithDiff = this;\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  if (errorWithDiff && errorWithDiff.createDiff) {\n    var comparison = errorWithDiff.buildDiff(options);\n    if (comparison) {\n      output.nl(2).append(comparison);\n    }\n  }\n\n  return output;\n};\n\nUnexpectedError.prototype.getNestedErrorMessage = function (options) {\n  var output = this.outputFromOptions(options);\n  if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n\n  var parent = this.parent;\n  while (parent.getErrorMode() === 'bubble') {\n    parent = parent.parent;\n  }\n\n  if (typeof options === 'string') {\n    options = { format: options };\n  } else if (options && options.isMagicPen) {\n    options = { output: options };\n  }\n\n  output\n    .nl()\n    .indentLines()\n    .i()\n    .block(\n      parent.getErrorMessage(\n        utils.extend({}, options || {}, {\n          compact: this.expect.subject === parent.expect.subject,\n        })\n      )\n    );\n  return output;\n};\n\nUnexpectedError.prototype.getDefaultOrNestedMessage = function (options) {\n  if (this.hasDiff()) {\n    return this.getDefaultErrorMessage(options);\n  } else {\n    return this.getNestedErrorMessage(options);\n  }\n};\n\nUnexpectedError.prototype.hasDiff = function () {\n  return !!this.getDiffMethod();\n};\n\nUnexpectedError.prototype.getDiffMethod = function () {\n  var errorWithDiff = this;\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  return (errorWithDiff && errorWithDiff.createDiff) || null;\n};\n\nUnexpectedError.prototype.getDiff = function (options) {\n  var errorWithDiff = this;\n  while (!errorWithDiff.createDiff && errorWithDiff.parent) {\n    errorWithDiff = errorWithDiff.parent;\n  }\n\n  return errorWithDiff && errorWithDiff.buildDiff(options);\n};\n\nUnexpectedError.prototype.getDiffMessage = function (options) {\n  var output = this.outputFromOptions(options);\n  var comparison = this.getDiff(options);\n  if (comparison) {\n    output.append(comparison);\n  } else if (this.expect.testDescription) {\n    output.append(this.expect.standardErrorMessage(output.clone(), options));\n  } else if (typeof this.output === 'function') {\n    this.output.call(output, output);\n  }\n  return output;\n};\n\nUnexpectedError.prototype.getErrorMode = function () {\n  if (!this.parent) {\n    switch (this.errorMode) {\n      case 'default':\n      case 'bubbleThrough':\n        return this.errorMode;\n      default:\n        return 'default';\n    }\n  } else {\n    return this.errorMode;\n  }\n};\n\nUnexpectedError.prototype.getErrorMessage = function (options) {\n  // Search for any parent error that has an error mode of 'bubbleThrough' through on the\n  // error these should be bubbled to the top\n  var errorWithBubbleThrough = this.parent;\n  while (\n    errorWithBubbleThrough &&\n    errorWithBubbleThrough.getErrorMode() !== 'bubbleThrough'\n  ) {\n    errorWithBubbleThrough = errorWithBubbleThrough.parent;\n  }\n  if (errorWithBubbleThrough) {\n    return errorWithBubbleThrough.getErrorMessage(options);\n  }\n\n  var errorMode = this.getErrorMode();\n  switch (errorMode) {\n    case 'nested':\n      return this.getNestedErrorMessage(options);\n    case 'default':\n      return this.getDefaultErrorMessage(options);\n    case 'bubbleThrough':\n      return this.getDefaultErrorMessage(options);\n    case 'bubble':\n      return this.parent.getErrorMessage(options);\n    case 'diff':\n      return this.getDiffMessage(options);\n    case 'defaultOrNested':\n      return this.getDefaultOrNestedMessage(options);\n    default:\n      throw new Error((\"Unknown error mode: '\" + errorMode + \"'\"));\n  }\n};\n\nfunction findStackStart(lines) {\n  for (var i = lines.length - 1; i >= 0; i -= 1) {\n    if (lines[i] === '') {\n      return i + 1;\n    }\n  }\n\n  return -1;\n}\n\nUnexpectedError.prototype.serializeMessage = function (outputFormat) {\n  if (!this._hasSerializedErrorMessage) {\n    var htmlFormat = outputFormat === 'html';\n    if (htmlFormat) {\n      if (!('htmlMessage' in this)) {\n        this.htmlMessage = this.getErrorMessage({ format: 'html' }).toString();\n      }\n    }\n\n    this.message = \"\\n\" + (this.getErrorMessage({\n      format: htmlFormat ? 'text' : outputFormat,\n    }).toString()) + \"\\n\";\n\n    if (\n      this.originalError &&\n      this.originalError instanceof Error &&\n      typeof this.originalError.stack === 'string'\n    ) {\n      // The stack of the original error looks like this:\n      //   <constructor name>: <error message>\\n<actual stack trace>\n      // Try to get hold of <actual stack trace> and append it\n      // to the error message of this error:\n      var index = this.originalError.stack.indexOf(\n        this.originalError.message\n      );\n      if (index === -1) {\n        // Phantom.js doesn't include the error message in the stack property\n        this.stack = (this.message) + \"\\n\" + (this.originalError.stack);\n      } else {\n        this.stack =\n          this.message +\n          this.originalError.stack.substr(\n            index + this.originalError.message.length\n          );\n      }\n    } else if (/^(Unexpected)?Error:?\\n/.test(this.stack)) {\n      // Fix for Jest that does not seem to capture the error message\n      var matchErrorName = /^(?:Unexpected)?Error:?\\n/.exec(this.stack);\n      if (matchErrorName) {\n        this.stack = this.message + this.stack.substr(matchErrorName[0].length);\n      }\n    }\n\n    if (this.stack && !this.useFullStackTrace) {\n      var lines = this.stack.split(/\\n/);\n      var stackStart = findStackStart(lines);\n\n      var newStack = lines.filter(\n        function (line, i) { return i < stackStart ||\n          (!/node_modules[/\\\\]unexpected(?:-[^/\\\\]+)?[/\\\\]/.test(line) &&\n            !/executeExpect.*node_modules[/\\\\]unexpected[/\\\\]/.test(\n              lines[i + 1]\n            )); }\n      );\n\n      if (newStack.length !== lines.length) {\n        var indentation = /^(\\s*)/.exec(lines[lines.length - 1])[1];\n\n        if (outputFormat === 'html') {\n          newStack.push(\n            (indentation + \"set the query parameter full-trace=true to see the full stack trace\")\n          );\n        } else {\n          newStack.push(\n            (indentation + \"set UNEXPECTED_FULL_TRACE=true to see the full stack trace\")\n          );\n        }\n      }\n\n      this.stack = newStack.join('\\n');\n    }\n\n    this._hasSerializedErrorMessage = true;\n  }\n};\n\nUnexpectedError.prototype.clone = function () {\n  var that = this;\n  var newError = new UnexpectedError(this.expect);\n  Object.keys(that).forEach(function (key) {\n    if (!errorMethodBlacklist[key]) {\n      newError[key] = that[key];\n    }\n  });\n  return newError;\n};\n\nUnexpectedError.prototype.getLabel = function () {\n  var currentError = this;\n  while (currentError && !currentError.label) {\n    currentError = currentError.parent;\n  }\n  return (currentError && currentError.label) || null;\n};\n\nUnexpectedError.prototype.getParents = function () {\n  var result = [];\n  var parent = this.parent;\n  while (parent) {\n    result.push(parent);\n    parent = parent.parent;\n  }\n  return result;\n};\n\nUnexpectedError.prototype.getAllErrors = function () {\n  var result = this.getParents();\n  result.unshift(this);\n  return result;\n};\n\nif (Object.__defineGetter__) {\n  Object.defineProperty(UnexpectedError.prototype, 'htmlMessage', {\n    enumerable: true,\n    get: function get() {\n      return this.getErrorMessage({ format: 'html' }).toString();\n    },\n  });\n}\n\nmodule.exports = UnexpectedError;\n","/* global jasmine */\nvar pendingPromisesForTheCurrentTest = [];\nvar afterEachRegistered = false;\n\nvar currentSpec = null;\n\nif (typeof jasmine === 'object') {\n  // Add a custom reporter that allows us to capture the name of the currently executing spec:\n  jasmine.getEnv().addReporter({\n    specStarted: function specStarted(spec) {\n      currentSpec = spec;\n    },\n    specDone: function specDone(spec) {\n      currentSpec = null;\n    },\n  });\n}\n\nfunction isPendingOrHasUnhandledRejection(promise) {\n  return (\n    !promise._fulfillmentHandler0 &&\n    !promise._rejectionHandler0 &&\n    !promise._receiver0 &&\n    (promise.isPending() || (promise.isRejected() && promise.reason().uncaught))\n  );\n}\n\nfunction registerAfterEachHook() {\n  if (typeof afterEach === 'function' && !afterEachRegistered) {\n    afterEachRegistered = true;\n    try {\n      afterEach(function () {\n        var error;\n        var testPassed = true;\n        if (\n          pendingPromisesForTheCurrentTest.some(\n            isPendingOrHasUnhandledRejection\n          )\n        ) {\n          var displayName;\n          if (this.currentTest) {\n            // mocha\n            testPassed = this.currentTest.state === 'passed';\n            displayName = this.currentTest.title;\n          } else if (typeof currentSpec === 'object') {\n            testPassed = currentSpec.failedExpectations.length === 0;\n            displayName = currentSpec.fullName;\n          }\n          error = new Error(\n            (displayName + \": You have created a promise that was not returned from the it block\")\n          );\n        }\n        pendingPromisesForTheCurrentTest = [];\n        if (error && testPassed) {\n          throw error;\n        }\n      });\n    } catch (e) {\n      // The benchmark suite fails when attempting to add an afterEach\n    }\n  }\n}\n\n// When running in jasmine/node.js, afterEach is available immediately,\n// but doesn't work within the it block. Register the hook immediately:\nregisterAfterEachHook();\n\nmodule.exports = function notifyPendingPromise(promise) {\n  pendingPromisesForTheCurrentTest.push(promise);\n  // Register the afterEach hook lazily (mocha/node.js):\n  registerAfterEachHook();\n};\n","var Context = function Context() {\n  this.level = 0;\n};\n\nContext.prototype.child = function child () {\n  var child = Object.create(this);\n  child.level++;\n  return child;\n};\n\nmodule.exports = Context;\n","function ensureValidUseOfParenthesesOrBrackets(pattern) {\n  var counts = {\n    '[': 0,\n    ']': 0,\n    '(': 0,\n    ')': 0,\n  };\n  for (var i = 0; i < pattern.length; i += 1) {\n    var c = pattern.charAt(i);\n    if (c in counts) {\n      counts[c] += 1;\n    }\n    if (c === ']' && counts['['] >= counts[']']) {\n      if (counts['['] === counts[']'] + 1) {\n        throw new Error(\n          (\"Assertion patterns must not contain flags with brackets: '\" + pattern + \"'\")\n        );\n      }\n\n      if (counts['('] !== counts[')']) {\n        throw new Error(\n          (\"Assertion patterns must not contain flags with parentheses: '\" + pattern + \"'\")\n        );\n      }\n\n      if (pattern.charAt(i - 1) === '[') {\n        throw new Error(\n          (\"Assertion patterns must not contain empty flags: '\" + pattern + \"'\")\n        );\n      }\n    } else if (c === ')' && counts['('] >= counts[')']) {\n      if (counts['('] === counts[')'] + 1) {\n        throw new Error(\n          (\"Assertion patterns must not contain alternations with parentheses: '\" + pattern + \"'\")\n        );\n      }\n\n      if (counts['['] !== counts[']']) {\n        throw new Error(\n          (\"Assertion patterns must not contain alternations with brackets: '\" + pattern + \"'\")\n        );\n      }\n    }\n  }\n\n  if (counts['['] !== counts[']']) {\n    throw new Error(\n      (\"Assertion patterns must not contain unbalanced brackets: '\" + pattern + \"'\")\n    );\n  }\n\n  if (counts['('] !== counts[')']) {\n    throw new Error(\n      (\"Assertion patterns must not contain unbalanced parentheses: '\" + pattern + \"'\")\n    );\n  }\n}\n\nmodule.exports = ensureValidUseOfParenthesesOrBrackets;\n","var extend = require('./utils').extend;\n\nfunction isFlag(token) {\n  return token.slice(0, 1) === '[' && token.slice(-1) === ']';\n}\nfunction isAlternation(token) {\n  return token.slice(0, 1) === '(' && token.slice(-1) === ')';\n}\nfunction removeEmptyStrings(texts) {\n  return texts.filter(function (text) { return text !== ''; });\n}\nfunction createPermutations(tokens, index) {\n  if (index === tokens.length) {\n    return [{ text: '', flags: {}, alternations: [] }];\n  }\n\n  var token = tokens[index];\n  var tail = createPermutations(tokens, index + 1);\n  if (isFlag(token)) {\n    var flag = token.slice(1, -1);\n    return tail\n      .map(function (pattern) {\n        var flags = {};\n        flags[flag] = true;\n        return {\n          text: (flag + \" \" + (pattern.text)),\n          flags: extend(flags, pattern.flags),\n          alternations: pattern.alternations,\n        };\n      })\n      .concat(\n        tail.map(function (pattern) {\n          var flags = {};\n          flags[flag] = false;\n          return {\n            text: pattern.text,\n            flags: extend(flags, pattern.flags),\n            alternations: pattern.alternations,\n          };\n        })\n      );\n  } else if (isAlternation(token)) {\n    return token\n      .substr(1, token.length - 2) // Remove parentheses\n      .split(/\\|/)\n      .reduce(\n        function (result, alternation) { return result.concat(\n            tail.map(function (ref) {\n              var text = ref.text;\n              var flags = ref.flags;\n              var alternations = ref.alternations;\n\n              return ({\n              // Make sure that an empty alternation doesn't produce two spaces:\n              text: alternation ? alternation + text : text.replace(/^ /, ''),\n\n              flags: flags,\n              alternations: [alternation ].concat( alternations),\n            });\n            })\n          ); },\n        []\n      );\n  } else {\n    return tail.map(function (ref) {\n      var text = ref.text;\n      var flags = ref.flags;\n      var alternations = ref.alternations;\n\n      return ({\n      text: token + text,\n      flags: flags,\n      alternations: alternations,\n    });\n    });\n  }\n}\n\nfunction expandAssertion(pattern) {\n  pattern = pattern.replace(/(\\[[^\\]]+\\]) ?/g, '$1');\n  var splitRegex = /\\[[^\\]]+\\]|\\([^)]+\\)/g;\n  var tokens = [];\n  var m;\n  var lastIndex = 0;\n  while ((m = splitRegex.exec(pattern))) {\n    tokens.push(pattern.slice(lastIndex, m.index));\n    tokens.push(pattern.slice(m.index, splitRegex.lastIndex));\n    lastIndex = splitRegex.lastIndex;\n  }\n  tokens.push(pattern.slice(lastIndex));\n  tokens = removeEmptyStrings(tokens);\n  var permutations = createPermutations(tokens, 0);\n  permutations.forEach(function (permutation) {\n    permutation.text = permutation.text.trim();\n    if (permutation.text === '') {\n      // This can only happen if the pattern only contains flags\n      throw new Error('Assertion patterns must not only contain flags');\n    }\n  });\n  return permutations;\n}\n\nmodule.exports = expandAssertion;\n","module.exports = 'inspect';\n\ntry {\n  var util = require('' + 'util');\n  if (util && typeof util.inspect === 'function' && util.inspect.custom) {\n    module.exports = util.inspect.custom;\n  }\n} catch (err) {}\n","var createStandardErrorMessage = require('./createStandardErrorMessage');\nvar utils = require('./utils');\nvar magicpen = require('magicpen');\nvar extend = utils.extend;\nvar ukkonen = require('ukkonen');\nvar makePromise = require('./makePromise');\nvar addAdditionalPromiseMethods = require('./addAdditionalPromiseMethods');\nvar wrapPromiseIfNecessary = require('./wrapPromiseIfNecessary');\nvar oathbreaker = require('./oathbreaker');\nvar UnexpectedError = require('./UnexpectedError');\nvar notifyPendingPromise = require('./notifyPendingPromise');\nvar defaultDepth = require('./defaultDepth');\nvar AssertionString = require('./AssertionString');\nvar Context = require('./Context');\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\nvar ensureValidUseOfParenthesesOrBrackets = require('./ensureValidUseOfParenthesesOrBrackets');\nvar expandAssertion = require('./expandAssertion');\nvar nodeJsCustomInspect = require('./nodeJsCustomInspect');\n\nfunction isAssertionArg(ref) {\n  var type = ref.type;\n\n  return type.is('assertion');\n}\n\nvar anyType = {\n  _unexpectedType: true,\n  name: 'any',\n  level: 0,\n  identify: function identify() {\n    return true;\n  },\n  equal: utils.objectIs,\n  inspect: function inspect(value, depth, output) {\n    if (output && output.isMagicPen) {\n      return output.text(value);\n    } else {\n      // Guard against node.js' require('util').inspect eagerly calling .inspect() on objects\n      return (\"type: \" + (this.name));\n    }\n  },\n  diff: function diff(actual, expected, output, diff$1, inspect) {\n    return null;\n  },\n  typeEqualityCache: {},\n  is: function is(typeOrTypeName) {\n    var typeName;\n    if (typeof typeOrTypeName === 'string') {\n      typeName = typeOrTypeName;\n    } else {\n      typeName = typeOrTypeName.name;\n    }\n\n    var cachedValue = this.typeEqualityCache[typeName];\n    if (typeof cachedValue !== 'undefined') {\n      return cachedValue;\n    }\n\n    var result = false;\n    if (this.name === typeName) {\n      result = true;\n    } else if (this.baseType) {\n      result = this.baseType.is(typeName);\n    }\n    this.typeEqualityCache[typeName] = result;\n    return result;\n  },\n};\n\nif (nodeJsCustomInspect !== 'inspect') {\n  anyType[nodeJsCustomInspect] = function () {\n    return (\"type: \" + (this.name));\n  };\n}\n\nvar OR = {};\nfunction getOrGroups(expectations) {\n  var orGroups = [[]];\n  expectations.forEach(function (expectation) {\n    if (expectation === OR) {\n      orGroups.push([]);\n    } else {\n      orGroups[orGroups.length - 1].push(expectation);\n    }\n  });\n  return orGroups;\n}\n\nfunction evaluateGroup(expect, context, subject, orGroup, forwardedFlags) {\n  return orGroup.map(function (expectation) {\n    var args = Array.prototype.slice.call(expectation);\n    args.unshift(subject);\n    return {\n      expectation: args,\n      promise: makePromise(function () {\n        if (typeof args[1] === 'function') {\n          if (args.length > 2) {\n            throw new Error(\n              'expect.it(<function>) does not accept additional arguments'\n            );\n          } else {\n            // expect.it(function (value) { ... })\n            return args[1](args[0]);\n          }\n        } else {\n          return expect._expect(context.child(), args, forwardedFlags);\n        }\n      }),\n    };\n  });\n}\n\nfunction writeGroupEvaluationsToOutput(output, groupEvaluations) {\n  var hasOrClauses = groupEvaluations.length > 1;\n  var hasAndClauses = groupEvaluations.some(function (ref) {\n    var length = ref.length;\n\n    return length > 1;\n  });\n  groupEvaluations.forEach(function (groupEvaluation, i) {\n    if (i > 0) {\n      if (hasAndClauses) {\n        output.nl();\n      } else {\n        output.sp();\n      }\n      output.jsComment('or').nl();\n    }\n\n    var groupFailed = false;\n    groupEvaluation.forEach(function (evaluation, j) {\n      if (j > 0) {\n        output.jsComment(' and').nl();\n      }\n      var isRejected = evaluation.promise.isRejected();\n      if (isRejected && !groupFailed) {\n        groupFailed = true;\n        var err = evaluation.promise.reason();\n\n        if (hasAndClauses || hasOrClauses) {\n          output.error('⨯ ');\n        }\n\n        output.block(function (output) {\n          output.append(err.getErrorMessage(output));\n        });\n      } else {\n        if (isRejected) {\n          output.error('⨯ ');\n        } else {\n          output.success('✓ ');\n        }\n\n        var expectation = evaluation.expectation;\n        output.block(function (output) {\n          var subject = expectation[0];\n          var subjectOutput = function (output) {\n            output.appendInspected(subject);\n          };\n          var args = expectation.slice(2);\n          var argsOutput = args.map(function (arg) { return function (output) {\n            output.appendInspected(arg);\n          }; });\n          var testDescription = expectation[1];\n          createStandardErrorMessage(\n            output,\n            subjectOutput,\n            testDescription,\n            argsOutput,\n            {\n              subject: subject,\n            }\n          );\n        });\n      }\n    });\n  });\n}\n\nfunction createExpectIt(expect, expectations, forwardedFlags) {\n  var orGroups = getOrGroups(expectations);\n\n  function expectIt(subject, context) {\n    context =\n      context && typeof context === 'object' && context instanceof Context\n        ? context\n        : new Context();\n\n    if (\n      orGroups.length === 1 &&\n      orGroups[0].length === 1 &&\n      orGroups[0][0].length === 1 &&\n      typeof orGroups[0][0][0] === 'function'\n    ) {\n      // expect.it(subject => ...)\n      return oathbreaker(orGroups[0][0][0](subject));\n    }\n\n    var groupEvaluations = [];\n    var promises = [];\n    orGroups.forEach(function (orGroup) {\n      var evaluations = evaluateGroup(\n        expect,\n        context,\n        subject,\n        orGroup,\n        forwardedFlags\n      );\n      evaluations.forEach(function (ref) {\n        var promise = ref.promise;\n\n        promises.push(promise);\n      });\n      groupEvaluations.push(evaluations);\n    });\n\n    return oathbreaker(\n      makePromise.settle(promises).then(function () {\n        groupEvaluations.forEach(function (groupEvaluation) {\n          groupEvaluation.forEach(function (ref) {\n            var promise = ref.promise;\n\n            if (\n              promise.isRejected() &&\n              promise.reason().errorMode === 'bubbleThrough'\n            ) {\n              throw promise.reason();\n            }\n          });\n        });\n\n        if (\n          !groupEvaluations.some(function (groupEvaluation) { return groupEvaluation.every(function (ref) {\n              var promise = ref.promise;\n\n              return promise.isFulfilled();\n              }); }\n          )\n        ) {\n          expect.fail(function (output) {\n            writeGroupEvaluationsToOutput(output, groupEvaluations);\n          });\n        }\n      })\n    );\n  }\n  expectIt._expectIt = true;\n  expectIt._expectations = expectations;\n  expectIt._OR = OR;\n  expectIt.and = function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var copiedExpectations = expectations.slice();\n    copiedExpectations.push(args);\n    return createExpectIt(expect, copiedExpectations, forwardedFlags);\n  };\n  expectIt.or = function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var copiedExpectations = expectations.slice();\n    copiedExpectations.push(OR, args);\n    return createExpectIt(expect, copiedExpectations, forwardedFlags);\n  };\n  return expectIt;\n}\n\nvar expectPrototype = {\n  promise: makePromise,\n  notifyPendingPromise: notifyPendingPromise,\n  errorMode: 'default',\n};\nutils.setPrototypeOfOrExtend(expectPrototype, Function.prototype);\n\nexpectPrototype.it = function () {\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n\n  return createExpectIt(this._topLevelExpect, [args], this.flags);\n};\n\nexpectPrototype.equal = function (actual, expected, depth, seen) {\n  var this$1 = this;\n\n  depth = typeof depth === 'number' ? depth : 100;\n  if (depth <= 0) {\n    // detect recursive loops in the structure\n    seen = seen || [];\n    if (seen.indexOf(actual) !== -1) {\n      throw new Error('Cannot compare circular structures');\n    }\n    seen.push(actual);\n  }\n\n  return this.findCommonType(actual, expected).equal(actual, expected, function (a, b) { return this$1.equal(a, b, depth - 1, seen); }\n  );\n};\n\nexpectPrototype.inspect = function (obj, depth, outputOrFormat) {\n  var this$1 = this;\n\n  var seen = [];\n  var printOutput = function (obj, currentDepth, output) {\n    var objType = this$1.findTypeOf(obj);\n    if (currentDepth <= 0 && objType.is('object') && !objType.is('expect.it')) {\n      return output.text('...');\n    }\n\n    seen = seen || [];\n    if (seen.indexOf(obj) !== -1) {\n      return output.text('[Circular]');\n    }\n\n    return objType.inspect(obj, currentDepth, output, function (v, childDepth) {\n      output = output.clone();\n      seen.push(obj);\n      if (typeof childDepth === 'undefined') {\n        childDepth = currentDepth - 1;\n      }\n      output = printOutput(v, childDepth, output) || output;\n      seen.pop();\n      return output;\n    });\n  };\n\n  var output =\n    typeof outputOrFormat === 'string'\n      ? this.createOutput(outputOrFormat)\n      : outputOrFormat;\n  output = output || this.createOutput();\n  return (\n    printOutput(\n      obj,\n      typeof depth === 'number' ? depth : defaultDepth,\n      output\n    ) || output\n  );\n};\n\nif (nodeJsCustomInspect !== 'inspect') {\n  expectPrototype[nodeJsCustomInspect] = expectPrototype.inspect;\n}\n\nexpectPrototype.expandTypeAlternations = function (assertion) {\n  var this$1 = this;\n\n  var createPermutations = function (args, i) {\n    if (i === args.length) {\n      return [];\n    }\n\n    var result = [];\n    args[i].forEach(function (arg) {\n      var tails = createPermutations(args, i + 1);\n      if (tails.length) {\n        tails.forEach(function (tail) {\n          result.push([arg].concat(tail));\n        });\n      } else if (arg.type.is('assertion')) {\n        result.push([\n          { type: arg.type, minimum: 1, maximum: 1 },\n          { type: this$1.getType('any'), minimum: 0, maximum: Infinity } ]);\n        result.push([\n          { type: this$1.getType('expect.it'), minimum: 1, maximum: 1 } ]);\n        if (arg.minimum === 0) {\n          // <assertion?>\n          result.push([]);\n        }\n      } else {\n        result.push([arg]);\n      }\n    });\n    return result;\n  };\n  var result = [];\n  assertion.subject.forEach(function (subjectRequirement) {\n    if (assertion.args.length) {\n      createPermutations(assertion.args, 0).forEach(function (args) {\n        result.push(\n          extend({}, assertion, {\n            subject: subjectRequirement,\n            args: args,\n          })\n        );\n      });\n    } else {\n      result.push(\n        extend({}, assertion, {\n          subject: subjectRequirement,\n          args: [],\n        })\n      );\n    }\n  });\n  return result;\n};\n\nexpectPrototype.parseAssertion = function (assertionString) {\n  var this$1 = this;\n\n  var tokens = [];\n  var nextIndex = 0;\n\n  var parseTypeToken = function (typeToken) {\n    return typeToken.split('|').map(function (typeDeclaration) {\n      var matchNameAndOperator = typeDeclaration.match(\n        /^([a-z_](?:|[a-z0-9_.-]*[_a-z0-9]))([+*?]|)$/i\n      );\n      if (!matchNameAndOperator) {\n        throw new SyntaxError(\n          (\"Cannot parse type declaration:\" + typeDeclaration)\n        );\n      }\n      var type = this$1.getType(matchNameAndOperator[1]);\n      if (!type) {\n        throw new Error(\n          (\"Unknown type: \" + (matchNameAndOperator[1]) + \" in \" + assertionString)\n        );\n      }\n      var operator = matchNameAndOperator[2];\n      return {\n        minimum: !operator || operator === '+' ? 1 : 0,\n        maximum: operator === '*' || operator === '+' ? Infinity : 1,\n        type: type,\n      };\n    });\n  };\n\n  function hasVarargs(types) {\n    return types.some(function (ref) {\n      var minimum = ref.minimum;\n      var maximum = ref.maximum;\n\n      return minimum !== 1 || maximum !== 1;\n    });\n  }\n  assertionString.replace(\n    /\\s*<((?:[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])[?*+]?)(?:\\|(?:[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])[?*+]?))*)>|\\s*([^<]+)/gi,\n    function (ref, $1, $2, index) {\n      var length = ref.length;\n\n      if (index !== nextIndex) {\n        throw new SyntaxError(\n          (\"Cannot parse token at index \" + nextIndex + \" in \" + assertionString)\n        );\n      }\n      if ($1) {\n        tokens.push(parseTypeToken($1));\n      } else {\n        tokens.push($2.trim());\n      }\n      nextIndex += length;\n    }\n  );\n\n  var assertion = {\n    subject: tokens[0],\n    assertion: tokens[1],\n    args: tokens.slice(2),\n  };\n\n  if (!Array.isArray(assertion.subject)) {\n    throw new SyntaxError((\"Missing subject type in \" + assertionString));\n  }\n  if (typeof assertion.assertion !== 'string') {\n    throw new SyntaxError((\"Missing assertion in \" + assertionString));\n  }\n  if (hasVarargs(assertion.subject)) {\n    throw new SyntaxError(\n      (\"The subject type cannot have varargs: \" + assertionString)\n    );\n  }\n  if (assertion.args.some(function (arg) { return typeof arg === 'string'; })) {\n    throw new SyntaxError('Only one assertion string is supported (see #225)');\n  }\n\n  if (assertion.args.slice(0, -1).some(hasVarargs)) {\n    throw new SyntaxError(\n      (\"Only the last argument type can have varargs: \" + assertionString)\n    );\n  }\n  if (\n    [assertion.subject]\n      .concat(assertion.args.slice(0, -1))\n      .some(function (argRequirements) { return argRequirements.some(function (ref) {\n          var type = ref.type;\n\n          return type.is('assertion');\n          }); }\n      )\n  ) {\n    throw new SyntaxError(\n      (\"Only the last argument type can be <assertion>: \" + assertionString)\n    );\n  }\n\n  var lastArgRequirements = assertion.args[assertion.args.length - 1] || [];\n  var assertionRequirements = lastArgRequirements.filter(function (ref) {\n      var type = ref.type;\n\n      return type.is('assertion');\n  }\n  );\n\n  if (assertionRequirements.length > 0 && lastArgRequirements.length > 1) {\n    throw new SyntaxError(\n      (\"<assertion> cannot be alternated with other types: \" + assertionString)\n    );\n  }\n\n  if (assertionRequirements.some(function (ref) {\n    var maximum = ref.maximum;\n\n    return maximum !== 1;\n  })) {\n    throw new SyntaxError(\n      (\"<assertion+> and <assertion*> are not allowed: \" + assertionString)\n    );\n  }\n  return this.expandTypeAlternations(assertion);\n};\n\nvar placeholderSplitRegexp = /(\\{(?:\\d+)\\})/g;\nvar placeholderRegexp = /\\{(\\d+)\\}/;\nexpectPrototype._fail = function (arg) {\n  var arguments$1 = arguments;\n\n  if (arg instanceof UnexpectedError) {\n    arg._hasSerializedErrorMessage = false;\n    throw arg;\n  }\n\n  if (utils.isError(arg)) {\n    throw arg;\n  }\n\n  var error = new UnexpectedError(this);\n  if (typeof arg === 'function') {\n    error.errorMode = 'bubble';\n    error.output = arg;\n  } else if (arg && typeof arg === 'object') {\n    if (typeof arg.message !== 'undefined') {\n      error.errorMode = 'bubble';\n    }\n    error.output = function (output) {\n      if (typeof arg.message !== 'undefined') {\n        if (arg.message.isMagicPen) {\n          output.append(arg.message);\n        } else if (typeof arg.message === 'function') {\n          arg.message.call(output, output);\n        } else {\n          output.text(String(arg.message));\n        }\n      } else {\n        output.error('Explicit failure');\n      }\n    };\n    Object.keys(arg).forEach(function (key) {\n      var this$1 = this;\n\n      var value = arg[key];\n      if (key === 'diff') {\n        if (typeof value === 'function' && this.parent) {\n          error.createDiff = function (output, diff, inspect, equal) {\n            var childOutput = this$1.createOutput(output.format);\n            childOutput.inline = output.inline;\n            childOutput.output = output.output;\n            return value(\n              childOutput,\n              function (actual, expected) {\n                return this$1.diff(actual, expected, childOutput.clone());\n              },\n              function (v, depth) { return childOutput\n                  .clone()\n                  .appendInspected(v, (depth || defaultDepth) - 1); },\n              function (actual, expected) { return this$1.equal(actual, expected); }\n            );\n          };\n        } else {\n          error.createDiff = value;\n        }\n      } else if (key !== 'message') {\n        error[key] = value;\n      }\n    }, this);\n  } else {\n    var placeholderArgs;\n    if (arguments.length > 0) {\n      placeholderArgs = new Array(arguments.length - 1);\n      for (var i = 1; i < arguments.length; i += 1) {\n        placeholderArgs[i - 1] = arguments$1[i];\n      }\n    }\n    error.errorMode = 'bubble';\n    error.output = function (output) {\n      var message = arg ? String(arg) : 'Explicit failure';\n      var tokens = message.split(placeholderSplitRegexp);\n      tokens.forEach(function (token) {\n        var match = placeholderRegexp.exec(token);\n        if (match) {\n          var index = match[1];\n          if (index in placeholderArgs) {\n            var placeholderArg = placeholderArgs[index];\n            if (placeholderArg && placeholderArg.isMagicPen) {\n              output.append(placeholderArg);\n            } else {\n              output.appendInspected(placeholderArg);\n            }\n          } else {\n            output.text(match[0]);\n          }\n        } else {\n          output.error(token);\n        }\n      });\n    };\n  }\n\n  throw error;\n};\n\nfunction compareSpecificities(a, b) {\n  for (var i = 0; i < Math.min(a.length, b.length); i += 1) {\n    var c = b[i] - a[i];\n    if (c !== 0) {\n      return c;\n    }\n  }\n  return b.length - a.length;\n}\n\nfunction calculateAssertionSpecificity(ref) {\n  var subject = ref.subject;\n  var args = ref.args;\n\n  return [subject.type.level].concat(\n    args.map(function (ref) {\n      var minimum = ref.minimum;\n      var maximum = ref.maximum;\n      var type = ref.type;\n\n      var bonus = minimum === 1 && maximum === 1 ? 0.5 : 0;\n      return bonus + type.level;\n    })\n  );\n}\n\nfunction calculateLimits(items) {\n  var minimum = 0;\n  var maximum = 0;\n  items.forEach(function (item) {\n    minimum += item.minimum;\n    maximum += item.maximum;\n  });\n  return {\n    minimum: minimum,\n    maximum: maximum,\n  };\n}\n\nexpectPrototype.addAssertion = function (\n  patternOrPatterns,\n  handler,\n  childExpect\n) {\n  var this$1 = this;\n\n  if (this._frozen) {\n    throw new Error(\n      'Cannot add an assertion to a frozen instance, please run .clone() first'\n    );\n  }\n  var maxArguments;\n  if (typeof childExpect === 'function') {\n    maxArguments = 3;\n  } else {\n    maxArguments = 2;\n  }\n  if (\n    arguments.length > maxArguments ||\n    typeof handler !== 'function' ||\n    (typeof patternOrPatterns !== 'string' && !Array.isArray(patternOrPatterns))\n  ) {\n    var errorMessage =\n      'Syntax: expect.addAssertion(<string|array[string]>, function (expect, subject, ...) { ... });';\n    if (\n      (typeof handler === 'string' || Array.isArray(handler)) &&\n      typeof arguments[2] === 'function'\n    ) {\n      errorMessage +=\n        '\\nAs of Unexpected 10, the syntax for adding assertions that apply only to specific\\n' +\n        'types has changed. See http://unexpected.js.org/api/addAssertion/';\n    }\n    throw new Error(errorMessage);\n  }\n  var patterns = Array.isArray(patternOrPatterns)\n    ? patternOrPatterns\n    : [patternOrPatterns];\n  patterns.forEach(function (pattern) {\n    if (typeof pattern !== 'string' || pattern === '') {\n      throw new Error('Assertion patterns must be a non-empty string');\n    } else {\n      if (pattern !== pattern.trim()) {\n        throw new Error(\n          (\"Assertion patterns can't start or end with whitespace:\\n\\n    \" + (JSON.stringify(\n            pattern\n          )))\n        );\n      }\n    }\n  });\n\n  var assertions = this.assertions;\n\n  var defaultValueByFlag = {};\n  var assertionHandlers = [];\n  var maxNumberOfArgs = 0;\n  patterns.forEach(function (pattern) {\n    var assertionDeclarations = this$1.parseAssertion(pattern);\n    assertionDeclarations.forEach(function (ref) {\n      var assertion = ref.assertion;\n      var args = ref.args;\n      var subject = ref.subject;\n\n      ensureValidUseOfParenthesesOrBrackets(assertion);\n      var expandedAssertions = expandAssertion(assertion);\n      expandedAssertions.forEach(function (ref) {\n        var flags = ref.flags;\n        var alternations = ref.alternations;\n        var text = ref.text;\n\n        Object.keys(flags).forEach(function (flag) {\n          defaultValueByFlag[flag] = false;\n        });\n        maxNumberOfArgs = Math.max(\n          maxNumberOfArgs,\n          args.reduce(\n            function (previous, ref) {\n                var maximum = ref.maximum;\n\n                return previous + (maximum === null ? Infinity : maximum);\n        },\n            0\n          )\n        );\n        var limits = calculateLimits(args);\n        assertionHandlers.push({\n          handler: handler,\n          alternations: alternations,\n          flags: flags,\n          subject: subject,\n          args: args,\n          testDescriptionString: text,\n          declaration: pattern,\n          expect: childExpect,\n          minimum: limits.minimum,\n          maximum: limits.maximum,\n        });\n      });\n    });\n  });\n  if (handler.length - 2 > maxNumberOfArgs) {\n    throw new Error(\n      (\"The provided assertion handler takes \" + (handler.length - 2) + \" parameters, but the type signature specifies a maximum of \" + maxNumberOfArgs + \":\\n\\n    \" + (JSON.stringify(\n        patterns\n      )))\n    );\n  }\n\n  assertionHandlers.forEach(function (handler) {\n    // Make sure that all flags are defined.\n    handler.flags = extend({}, defaultValueByFlag, handler.flags);\n\n    var assertionHandlers = assertions[handler.testDescriptionString];\n    handler.specificity = calculateAssertionSpecificity(handler);\n    if (!assertionHandlers) {\n      assertions[handler.testDescriptionString] = [handler];\n    } else {\n      var i = 0;\n      while (\n        i < assertionHandlers.length &&\n        compareSpecificities(\n          handler.specificity,\n          assertionHandlers[i].specificity\n        ) > 0\n      ) {\n        i += 1;\n      }\n      assertionHandlers.splice(i, 0, handler);\n    }\n  });\n\n  return this; // for chaining\n};\n\nexpectPrototype.addType = function (type, childExpect) {\n  var this$1 = this;\n\n  if (this._frozen) {\n    throw new Error(\n      'Cannot add a type to a frozen instance, please run .clone() first'\n    );\n  }\n\n  var baseType;\n  if (\n    typeof type.name !== 'string' ||\n    !/^[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])$/i.test(type.name)\n  ) {\n    throw new Error(\n      'A type must be given a non-empty name and must match ^[a-z_](?:|[a-z0-9_.-]*[_a-z0-9])$'\n    );\n  }\n\n  if (typeof type.identify !== 'function' && type.identify !== false) {\n    throw new Error(\n      (\"Type \" + (type.name) + \" must specify an identify function or be declared abstract by setting identify to false\")\n    );\n  }\n\n  if (this.typeByName[type.name]) {\n    throw new Error((\"The type with the name \" + (type.name) + \" already exists\"));\n  }\n\n  if (type.base) {\n    baseType = this.getType(type.base);\n\n    if (!baseType) {\n      throw new Error((\"Unknown base type: \" + (type.base)));\n    }\n  } else {\n    baseType = anyType;\n  }\n\n  var extendedBaseType = Object.create(baseType);\n  extendedBaseType.inspect = function (value, depth, output) {\n    if (!output || !output.isMagicPen) {\n      throw new Error(\n        'You need to pass the output to baseType.inspect() as the third parameter'\n      );\n    }\n\n    return baseType.inspect(value, depth, output, function (value, depth) { return output.clone().appendInspected(value, depth); }\n    );\n  };\n\n  if (nodeJsCustomInspect !== 'inspect') {\n    extendedBaseType[nodeJsCustomInspect] = extendedBaseType.inspect;\n  }\n\n  extendedBaseType.diff = function (actual, expected, output) {\n    if (!output || !output.isMagicPen) {\n      throw new Error(\n        'You need to pass the output to baseType.diff() as the third parameter'\n      );\n    }\n\n    return baseType.diff(\n      actual,\n      expected,\n      output.clone(),\n      function (actual, expected) { return this$1.diff(actual, expected, output.clone()); },\n      function (value, depth) { return output.clone().appendInspected(value, depth); },\n      this$1.equal.bind(this$1)\n    );\n  };\n\n  extendedBaseType.equal = function (actual, expected) { return baseType.equal(actual, expected, this$1.equal.bind(this$1)); };\n\n  var extendedType = extend({}, baseType, type, {\n    baseType: extendedBaseType,\n  });\n  var originalInspect = extendedType.inspect;\n\n  // Prevent node.js' util.inspect from complaining about our inspect method:\n  if (nodeJsCustomInspect !== 'inspect') {\n    extendedType[nodeJsCustomInspect] = function () {\n      return (\"type: \" + (type.name));\n    };\n  }\n\n  extendedType.inspect = function (obj, depth, output, inspect) {\n    if (arguments.length < 2 || !output || !output.isMagicPen) {\n      return (\"type: \" + (type.name));\n    } else if (childExpect) {\n      var childOutput = childExpect.createOutput(output.format);\n      return (\n        originalInspect.call(this, obj, depth, childOutput, inspect) ||\n        childOutput\n      );\n    } else {\n      return originalInspect.call(this, obj, depth, output, inspect) || output;\n    }\n  };\n\n  if (childExpect) {\n    extendedType.childExpect = childExpect;\n    var originalDiff = extendedType.diff;\n    extendedType.diff = function (\n      actual,\n      expected,\n      output,\n      inspect,\n      diff,\n      equal\n    ) {\n      var childOutput = childExpect.createOutput(output.format);\n      // Make sure that already buffered up output is preserved:\n      childOutput.output = output.output;\n      return (\n        originalDiff.call(\n          this,\n          actual,\n          expected,\n          childOutput,\n          inspect,\n          diff,\n          equal\n        ) || output\n      );\n    };\n  }\n\n  if (extendedType.identify === false) {\n    this.types.push(extendedType);\n  } else {\n    this.types.unshift(extendedType);\n  }\n\n  extendedType.level = baseType.level + 1;\n  extendedType.typeEqualityCache = {};\n  this.typeByName[extendedType.name] = extendedType;\n\n  return this;\n};\n\nexpectPrototype.getType = function (typeName) {\n  return (\n    this.typeByName[typeName] || (this.parent && this.parent.getType(typeName))\n  );\n};\n\nexpectPrototype.findTypeOf = function (obj) {\n  return (\n    utils.findFirst(\n      this.types || [],\n      function (type) { return type.identify && type.identify(obj); }\n    ) ||\n    (this.parent && this.parent.findTypeOf(obj))\n  );\n};\n\nexpectPrototype.findTypeOfWithParentType = function (obj, requiredParentType) {\n  return (\n    utils.findFirst(\n      this.types || [],\n      function (type) { return type.identify &&\n        type.identify(obj) &&\n        (!requiredParentType || type.is(requiredParentType)); }\n    ) ||\n    (this.parent &&\n      this.parent.findTypeOfWithParentType(obj, requiredParentType))\n  );\n};\n\nexpectPrototype.findCommonType = function (a, b) {\n  var aAncestorIndex = {};\n  var current = this.findTypeOf(a);\n  while (current) {\n    aAncestorIndex[current.name] = current;\n    current = current.baseType;\n  }\n  current = this.findTypeOf(b);\n  while (current) {\n    if (aAncestorIndex[current.name]) {\n      return current;\n    }\n    current = current.baseType;\n  }\n};\n\nexpectPrototype.addStyle = function () {\n  var ref;\n\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n  if (this._frozen) {\n    throw new Error(\n      'Cannot add a style to a frozen instance, please run .clone() first'\n    );\n  }\n  (ref = this.output).addStyle.apply(ref, args);\n  return this;\n};\n\nexpectPrototype.installTheme = function () {\n  var ref;\n\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n  if (this._frozen) {\n    throw new Error(\n      'Cannot install a theme into a frozen instance, please run .clone() first'\n    );\n  }\n  (ref = this.output).installTheme.apply(ref, args);\n  return this;\n};\n\nfunction getPluginName(plugin) {\n  if (typeof plugin === 'function') {\n    return utils.getFunctionName(plugin);\n  } else {\n    return plugin.name;\n  }\n}\n\nexpectPrototype.use = function (plugin) {\n  this._assertTopLevelExpect();\n  if (this._frozen) {\n    throw new Error(\n      'Cannot install a plugin into a frozen instance, please run .clone() first'\n    );\n  }\n  if (\n    (typeof plugin !== 'function' &&\n      (typeof plugin !== 'object' ||\n        typeof plugin.installInto !== 'function')) ||\n    (typeof plugin.name !== 'undefined' && typeof plugin.name !== 'string')\n  ) {\n    throw new Error(\n      'Plugins must be functions or adhere to the following interface\\n' +\n        '{\\n' +\n        '  name: <an optional plugin name>,\\n' +\n        '  version: <an optional semver version string>,\\n' +\n        '  installInto: <a function that will update the given expect instance>\\n' +\n        '}'\n    );\n  }\n\n  var pluginName = getPluginName(plugin);\n\n  var existingPlugin = utils.findFirst(\n    this.installedPlugins,\n    function (installedPlugin) {\n      if (installedPlugin === plugin) {\n        return true;\n      } else {\n        return pluginName && pluginName === getPluginName(installedPlugin);\n      }\n    }\n  );\n\n  if (existingPlugin) {\n    if (\n      existingPlugin === plugin ||\n      (typeof plugin.version !== 'undefined' &&\n        plugin.version === existingPlugin.version)\n    ) {\n      // No-op\n      return this;\n    } else {\n      throw new Error(\n        (\"Another instance of the plugin '\" + pluginName + \"' is already installed\" + (typeof existingPlugin.version !== 'undefined'\n            ? (\" (version \" + (existingPlugin.version) + (typeof plugin.version !== 'undefined'\n                  ? (\", trying to install \" + (plugin.version))\n                  : '') + \")\")\n            : '') + \". Please check your node_modules folder for unmet peerDependencies.\")\n      );\n    }\n  }\n\n  if (pluginName === 'unexpected-promise') {\n    throw new Error(\n      'The unexpected-promise plugin was pulled into Unexpected as of 8.5.0. This means that the plugin is no longer supported.'\n    );\n  }\n  if (pluginName === 'unexpected-set') {\n    throw new Error(\n      'The unexpected-set plugin was pulled into Unexpected as of 13.0.0. This means that the plugin is no longer supported.'\n    );\n  }\n\n  this.installedPlugins.push(plugin);\n  if (typeof plugin === 'function') {\n    plugin(this);\n  } else {\n    plugin.installInto(this);\n  }\n\n  return this; // for chaining\n};\n\nexpectPrototype.withError = function (body, handler) { return oathbreaker(\n    makePromise(body).caught(function (e) {\n      throwIfNonUnexpectedError(e);\n      return handler(e);\n    })\n  ); };\n\nexpectPrototype.installPlugin = expectPrototype.use; // Legacy alias\n\nexpectPrototype.throwAssertionNotFoundError = function (\n  subject,\n  testDescriptionString,\n  args\n) {\n  var this$1 = this;\n\n  var candidateHandlers = this.assertions[testDescriptionString];\n\n  var instance = this;\n  while (instance && !candidateHandlers) {\n    candidateHandlers = instance.assertions[testDescriptionString];\n    instance = instance.parent;\n  }\n\n  if (candidateHandlers) {\n    this.fail({\n      message: function (output) {\n        var subjectOutput = function (output) {\n          output.appendInspected(subject);\n        };\n        var argsOutput = function (output) {\n          output.appendItems(args, ', ');\n        };\n        output\n          .append(\n            createStandardErrorMessage(\n              output.clone(),\n              subjectOutput,\n              testDescriptionString,\n              argsOutput\n            )\n          )\n          .nl()\n          .indentLines();\n        output\n          .i()\n          .error('The assertion does not have a matching signature for:')\n          .nl()\n          .indentLines()\n          .i()\n          .text('<')\n          .text(this$1.findTypeOf(subject).name)\n          .text('>')\n          .sp()\n          .text(testDescriptionString);\n\n        args.forEach(function (arg, i) {\n          output.sp().text('<').text(this$1.findTypeOf(arg).name).text('>');\n        });\n\n        output.outdentLines().nl().i().text('did you mean:').indentLines().nl();\n        var assertionDeclarations = Object.keys(\n          candidateHandlers.reduce(function (result, ref) {\n            var declaration = ref.declaration;\n\n            result[declaration] = true;\n            return result;\n          }, {})\n        ).sort();\n        assertionDeclarations.forEach(function (declaration, i) {\n          output\n            .nl(i > 0 ? 1 : 0)\n            .i()\n            .text(declaration);\n        });\n        output.outdentLines();\n      },\n    });\n  }\n\n  var assertionsWithScore = [];\n  var assertionStrings = [];\n  instance = this;\n  while (instance) {\n    assertionStrings.push.apply(assertionStrings, Object.keys(instance.assertions));\n    instance = instance.parent;\n  }\n\n  var compareAssertions = function (a, b) {\n    var aAssertion = this$1.lookupAssertionRule(subject, a, args);\n    var bAssertion = this$1.lookupAssertionRule(subject, b, args);\n    if (!aAssertion && !bAssertion) {\n      return 0;\n    }\n    if (aAssertion && !bAssertion) {\n      return -1;\n    }\n    if (!aAssertion && bAssertion) {\n      return 1;\n    }\n\n    return compareSpecificities(aAssertion.specificity, bAssertion.specificity);\n  };\n\n  assertionStrings.forEach(function (assertionString) {\n    var score = ukkonen(testDescriptionString, assertionString);\n\n    assertionsWithScore.push({\n      assertion: assertionString,\n      score: score,\n    });\n  });\n\n  var bestMatch = assertionsWithScore\n    .sort(function (a, b) {\n      var c = a.score - b.score;\n      if (c !== 0) {\n        return c;\n      }\n\n      if (a.assertion < b.assertion) {\n        return -1;\n      } else {\n        return 1;\n      }\n    })\n    .slice(0, 10)\n    .filter(function (ref, i, arr) {\n      var score = ref.score;\n\n      return Math.abs(score - arr[0].score) <= 2;\n  })\n    .sort(function (a, b) {\n      var c = compareAssertions(a.assertion, b.assertion);\n      if (c !== 0) {\n        return c;\n      }\n\n      return a.score - b.score;\n    })[0];\n\n  this.fail({\n    errorMode: 'bubbleThrough',\n    message: function message(output) {\n      output\n        .error(\"Unknown assertion '\")\n        .jsString(testDescriptionString)\n        .error(\"', did you mean: '\")\n        .jsString(bestMatch.assertion)\n        .error(\"'\");\n    },\n  });\n};\n\nexpectPrototype.lookupAssertionRule = function (\n  subject,\n  testDescriptionString,\n  args,\n  requireAssertionSuffix\n) {\n  var this$1 = this;\n\n  if (typeof testDescriptionString !== 'string') {\n    throw new Error(\n      'The expect function requires the second parameter to be a string or an expect.it.'\n    );\n  }\n  var handlers;\n  var instance = this;\n  while (instance) {\n    var instanceHandlers = instance.assertions[testDescriptionString];\n    if (instanceHandlers) {\n      handlers = handlers\n        ? handlers.concat(instanceHandlers)\n        : instanceHandlers;\n    }\n    instance = instance.parent;\n  }\n  if (!handlers) {\n    return null;\n  }\n  var cachedTypes = {};\n\n  var findTypeOf = function (value, key) {\n    var type = cachedTypes[key];\n    if (!type) {\n      type = this$1.findTypeOf(value);\n      cachedTypes[key] = type;\n    }\n    return type;\n  };\n\n  var matches = function (value, assertionType, key, relaxed) {\n    if (assertionType.is('assertion') && typeof value === 'string') {\n      return true;\n    }\n\n    if (relaxed) {\n      if (assertionType.identify === false) {\n        return this$1.types.some(\n          function (type) { return type.identify && type.is(assertionType) && type.identify(value); }\n        );\n      }\n      return assertionType.identify(value);\n    } else {\n      return findTypeOf(value, key).is(assertionType);\n    }\n  };\n\n  function matchesHandler(handler, relaxed) {\n    if (!matches(subject, handler.subject.type, 'subject', relaxed)) {\n      return false;\n    }\n    if (requireAssertionSuffix && !handler.args.some(isAssertionArg)) {\n      return false;\n    }\n\n    if (args.length < handler.minimum || handler.maximum < args.length) {\n      return false;\n    } else if (args.length === 0 && handler.maximum === 0) {\n      return true;\n    }\n\n    var lastRequirement = handler.args[handler.args.length - 1];\n    return args.every(function (arg, i) {\n      if (i < handler.args.length - 1) {\n        return matches(arg, handler.args[i].type, i, relaxed);\n      } else {\n        return matches(arg, lastRequirement.type, i, relaxed);\n      }\n    });\n  }\n\n  var j, handler;\n  for (j = 0; j < handlers.length; j += 1) {\n    handler = handlers[j];\n    if (matchesHandler(handler)) {\n      return handler;\n    }\n  }\n  for (j = 0; j < handlers.length; j += 1) {\n    handler = handlers[j];\n    if (matchesHandler(handler, true)) {\n      return handler;\n    }\n  }\n\n  return null;\n};\n\nexpectPrototype._assertTopLevelExpect = function () {\n  // Cannot use this !== this._topLevelExpect due to https://github.com/unexpectedjs/unexpected/issues/631\n  if (this.flags) {\n    throw new Error('This method only works on the top level expect function');\n  }\n};\n\nexpectPrototype._assertWrappedExpect = function () {\n  // Cannot use this === this._topLevelExpect due to https://github.com/unexpectedjs/unexpected/issues/631\n  if (!this.flags) {\n    throw new Error(\n      'This method only works on the expect function handed to an assertion'\n    );\n  }\n};\n\nexpectPrototype.setErrorMessage = function (err) {\n  err.serializeMessage(this.outputFormat());\n};\n\nexpectPrototype._createWrappedExpect = function (\n  assertionRule,\n  subject,\n  args,\n  testDescriptionString,\n  context,\n  forwardedFlags\n) {\n  var flags = extend({}, forwardedFlags, assertionRule.flags);\n  var parentExpect = this;\n\n  function wrappedExpect(subject, testDescriptionString) {\n    var arguments$1 = arguments;\n\n    if (arguments.length === 0) {\n      throw new Error('The expect function requires at least one parameter.');\n    } else if (arguments.length === 1) {\n      return addAdditionalPromiseMethods(\n        makePromise.resolve(subject),\n        wrappedExpect,\n        subject\n      );\n    } else if (typeof testDescriptionString === 'function') {\n      wrappedExpect.errorMode = 'nested';\n      return wrappedExpect.withError(\n        function () { return testDescriptionString(subject); },\n        function (err) {\n          wrappedExpect.fail(err);\n        }\n      );\n    }\n    testDescriptionString = utils.forwardFlags(testDescriptionString, flags);\n\n    var args = new Array(arguments.length - 2);\n    for (var i = 2; i < arguments.length; i += 1) {\n      args[i - 2] = arguments$1[i];\n    }\n    return wrappedExpect._callInNestedContext(function () { return parentExpect._executeExpect(\n        context.child(),\n        subject,\n        testDescriptionString,\n        args,\n        wrappedExpect.flags\n      ); }\n    );\n  }\n\n  utils.setPrototypeOfOrExtend(wrappedExpect, this);\n\n  wrappedExpect.context = context;\n  wrappedExpect.execute = wrappedExpect;\n  wrappedExpect.alternations = assertionRule.alternations;\n  wrappedExpect.flags = flags;\n  wrappedExpect.subject = subject;\n  wrappedExpect.testDescription = testDescriptionString;\n  wrappedExpect.args = args;\n  wrappedExpect.assertionRule = assertionRule;\n\n  wrappedExpect.subjectOutput = function (output) {\n    output.appendInspected(subject);\n  };\n  wrappedExpect.argsOutput = args.map(function (arg, i) {\n    var argRule = wrappedExpect.assertionRule.args[i];\n    if (\n      typeof arg === 'string' &&\n      ((argRule && argRule.type.is('assertion')) ||\n        wrappedExpect._getAssertionIndices().indexOf(i) >= 0)\n    ) {\n      return new AssertionString(utils.forwardFlags(arg, flags));\n    }\n\n    return function (output) {\n      output.appendInspected(arg);\n    };\n  });\n\n  return wrappedExpect;\n};\n\nexpectPrototype._executeExpect = function (\n  context,\n  subject,\n  testDescriptionString,\n  args,\n  forwardedFlags\n) {\n  if (forwardedFlags) {\n    testDescriptionString = utils.forwardFlags(\n      testDescriptionString,\n      forwardedFlags\n    );\n  }\n  var assertionRule = this.lookupAssertionRule(\n    subject,\n    testDescriptionString,\n    args\n  );\n\n  if (!assertionRule) {\n    var tokens = testDescriptionString.split(' ');\n    // eslint-disable-next-line no-labels\n    OUTER: for (var n = tokens.length - 1; n > 0; n -= 1) {\n      var prefix = tokens.slice(0, n).join(' ');\n      var remainingTokens = tokens.slice(n);\n      var argsWithAssertionPrepended = [remainingTokens.join(' ')].concat(\n        args\n      );\n      assertionRule = this.lookupAssertionRule(\n        subject,\n        prefix,\n        argsWithAssertionPrepended,\n        true\n      );\n      if (assertionRule) {\n        // Found the longest prefix of the string that yielded a suitable assertion for the given subject and args\n        // To avoid bogus error messages when shifting later (#394) we require some prefix of the remaining tokens\n        // to be a valid assertion name:\n        for (var i = 1; i < remainingTokens.length; i += 1) {\n          if (\n            Object.prototype.hasOwnProperty.call(\n              this.assertions,\n              remainingTokens.slice(0, i + 1).join(' ')\n            )\n          ) {\n            testDescriptionString = prefix;\n            args = argsWithAssertionPrepended;\n            // eslint-disable-next-line no-labels\n            break OUTER;\n          }\n        }\n      }\n    }\n    if (!assertionRule) {\n      this.throwAssertionNotFoundError(subject, testDescriptionString, args);\n    }\n  }\n\n  if (assertionRule.expect && assertionRule.expect !== this._topLevelExpect) {\n    return assertionRule.expect._expect(context, [\n      subject,\n      testDescriptionString ].concat( args ));\n  }\n\n  var wrappedExpect = this._createWrappedExpect(\n    assertionRule,\n    subject,\n    args,\n    testDescriptionString,\n    context,\n    forwardedFlags\n  );\n\n  return oathbreaker(assertionRule.handler.apply(assertionRule, [ wrappedExpect, subject ].concat( args )));\n};\n\nexpectPrototype._expect = function (context, args, forwardedFlags) {\n  var this$1 = this;\n\n  var subject = args[0];\n  var testDescriptionString = args[1];\n\n  if (args.length < 2) {\n    throw new Error('The expect function requires at least two parameters.');\n  } else if (typeof testDescriptionString === 'function') {\n    return this.withError(\n      function () { return testDescriptionString(subject); },\n      function (err) {\n        this$1.fail(err);\n      }\n    );\n  }\n\n  try {\n    var result = this._executeExpect(\n      context,\n      subject,\n      testDescriptionString,\n      Array.prototype.slice.call(args, 2),\n      forwardedFlags\n    );\n    if (utils.isPromise(result)) {\n      result = wrapPromiseIfNecessary(result);\n      if (result.isPending()) {\n        result = result.then(undefined, function (e) {\n          if (e && e._isUnexpected && context.level === 0) {\n            this$1.setErrorMessage(e);\n          }\n          throw e;\n        });\n        this.notifyPendingPromise(result);\n      }\n    } else {\n      result = makePromise.resolve(result);\n    }\n    return addAdditionalPromiseMethods(result, this, subject);\n  } catch (e) {\n    if (e && e._isUnexpected) {\n      var newError = e;\n      if (typeof mochaPhantomJS !== 'undefined') {\n        newError = e.clone();\n      }\n      if (context.level === 0) {\n        this.setErrorMessage(newError);\n      }\n      throw newError;\n    }\n    throw e;\n  }\n};\n\nexpectPrototype.diff = function (\n  a,\n  b,\n  output,\n  recursions,\n  seen\n) {\n  var this$1 = this;\n  if ( output === void 0 ) output = this.createOutput();\n\n  var maxRecursions = 100;\n  recursions = typeof recursions === 'number' ? recursions : maxRecursions;\n  if (recursions <= 0) {\n    // detect recursive loops in the structure\n    seen = seen || [];\n    if (seen.indexOf(a) !== -1) {\n      throw new Error('Cannot compare circular structures');\n    }\n    seen.push(a);\n  }\n\n  return this.findCommonType(a, b).diff(\n    a,\n    b,\n    output,\n    function (actual, expected) { return this$1.diff(actual, expected, output.clone(), recursions - 1, seen); },\n    function (v, depth) { return output.clone().appendInspected(v, depth); },\n    function (actual, expected) { return this$1.equal(actual, expected); }\n  );\n};\n\nexpectPrototype.toString = function () {\n  var assertions = this.assertions;\n\n  var seen = {};\n  var declarations = [];\n  var pen = magicpen();\n  Object.keys(assertions)\n    .sort()\n    .forEach(function (key) {\n      assertions[key].forEach(function (ref) {\n        var declaration = ref.declaration;\n\n        if (!seen[declaration]) {\n          declarations.push(declaration);\n          seen[declaration] = true;\n        }\n      });\n    });\n\n  declarations.forEach(function (declaration) {\n    pen.text(declaration).nl();\n  });\n  return pen.toString();\n};\n\nexpectPrototype.clone = function () {\n  this._assertTopLevelExpect();\n  var clonedAssertions = {};\n  Object.keys(this.assertions).forEach(function (assertion) {\n    clonedAssertions[assertion] = [].concat(this.assertions[assertion]);\n  }, this);\n  var expect = createTopLevelExpect({\n    assertions: clonedAssertions,\n    types: [].concat(this.types),\n    typeByName: extend({}, this.typeByName),\n    output: this.output.clone(),\n    format: this.outputFormat(),\n    installedPlugins: [].concat(this.installedPlugins),\n  });\n  // Install the hooks:\n  this.installedHooks.forEach(function (hook) {\n    expect.hook(hook);\n  });\n  // expect._expect = this._expect;\n  // Make sure that changes to the parent's preferredWidth doesn't propagate:\n  expect.output.preferredWidth = this.output.preferredWidth;\n  return expect;\n};\n\nexpectPrototype.child = function () {\n  this._assertTopLevelExpect();\n  var childExpect = createTopLevelExpect(\n    {\n      assertions: {},\n      types: [],\n      typeByName: {},\n      output: this.output.clone(),\n      format: this.outputFormat(),\n      installedPlugins: [],\n    },\n    this\n  );\n\n  childExpect.exportAssertion = function (testDescription, handler) {\n    childExpect.parent.addAssertion(testDescription, handler, childExpect);\n    return this;\n  };\n  childExpect.exportType = function (type) {\n    if (childExpect.getType(type.name) !== type) {\n      childExpect.addType(type);\n    }\n\n    childExpect.parent.addType(type, childExpect);\n    return this;\n  };\n  childExpect.exportStyle = function (name, handler, allowRedefinition) {\n    childExpect.parent.addStyle(\n      name,\n      function () {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        var childOutput = childExpect.createOutput(this.format);\n        this.append(handler.call.apply(handler, [ childOutput ].concat( args )) || childOutput);\n      },\n      allowRedefinition\n    );\n    return this;\n  };\n  return childExpect;\n};\n\nexpectPrototype.freeze = function () {\n  this._assertTopLevelExpect();\n  this._frozen = true;\n  return this;\n};\n\nexpectPrototype.outputFormat = function (format) {\n  if (typeof format === 'undefined') {\n    return this._outputFormat;\n  } else {\n    this._assertTopLevelExpect();\n    this._outputFormat = format;\n    return this;\n  }\n};\n\nexpectPrototype.createOutput = function (format) {\n  var that = this;\n  var output = this.output.clone(format || 'text');\n  output.addStyle('appendInspected', function (value, depth) {\n    this.append(that.inspect(value, depth, this.clone()));\n  });\n  return output;\n};\n\nexpectPrototype.hook = function (fn) {\n  this._assertTopLevelExpect();\n  if (this._frozen) {\n    throw new Error(\n      'Cannot install a hook into a frozen instance, please run .clone() first'\n    );\n  }\n  this.installedHooks.push(fn);\n  this._expect = fn(this._expect.bind(this));\n};\n\n// This is not super elegant, but wrappedExpect.fail was different:\nexpectPrototype.fail = function () {\n  var this$1 = this;\n  var ref;\n\n  var args = [], len = arguments.length;\n  while ( len-- ) args[ len ] = arguments[ len ];\n  // Cannot use this !== this._topLevelExpect due to https://github.com/unexpectedjs/unexpected/issues/631\n  if (this.flags) {\n    this._callInNestedContext(function () {\n      var ref;\n\n      (ref = this$1._topLevelExpect)._fail.apply(ref, args);\n    });\n  } else {\n    try {\n      (ref = this)._fail.apply(ref, args);\n    } catch (e) {\n      if (e && e._isUnexpected) {\n        this.setErrorMessage(e);\n      }\n      throw e;\n    }\n  }\n};\n\nfunction lookupAssertionsInParentChain(assertionString, expect) {\n  var assertions = [];\n  for (var instance = expect; instance; instance = instance.parent) {\n    if (instance.assertions[assertionString]) {\n      assertions.push.apply(assertions, instance.assertions[assertionString]);\n    }\n  }\n  return assertions;\n}\n\nfunction findSuffixAssertions(assertionString, expect) {\n  if (typeof assertionString !== 'string') {\n    return null;\n  }\n  var straightforwardAssertions = lookupAssertionsInParentChain(\n    assertionString,\n    expect\n  );\n  if (straightforwardAssertions.length > 0) {\n    return straightforwardAssertions;\n  }\n  var tokens = assertionString.split(' ');\n  for (var n = tokens.length - 1; n > 0; n -= 1) {\n    var suffix = tokens.slice(n).join(' ');\n    var suffixAssertions = lookupAssertionsInParentChain(suffix, expect);\n    if (\n      findSuffixAssertions(tokens.slice(0, n).join(' '), expect) &&\n      suffixAssertions.length > 0\n    ) {\n      return suffixAssertions;\n    }\n  }\n  return null;\n}\n\nexpectPrototype.standardErrorMessage = function (output, options) {\n  var this$1 = this;\n\n  this._assertWrappedExpect();\n  options = typeof options === 'object' ? options : {};\n\n  if ('omitSubject' in output) {\n    options.subject = this.subject;\n  }\n\n  if (options && options.compact) {\n    options.compactSubject = function (output) {\n      output.jsFunctionName(this$1.subjectType.name);\n    };\n  }\n  return createStandardErrorMessage(\n    output,\n    this.subjectOutput,\n    this.testDescription,\n    this.argsOutput,\n    options\n  );\n};\n\nexpectPrototype._callInNestedContext = function (callback) {\n  var this$1 = this;\n\n  this._assertWrappedExpect();\n  try {\n    var result = oathbreaker(callback());\n    if (utils.isPromise(result)) {\n      result = wrapPromiseIfNecessary(result);\n      if (result.isPending()) {\n        result = result.then(undefined, function (e) {\n          if (e && e._isUnexpected) {\n            var wrappedError = new UnexpectedError(this$1, e);\n            wrappedError.originalError = e.originalError;\n            throw wrappedError;\n          }\n          throw e;\n        });\n      }\n    } else {\n      result = makePromise.resolve(result);\n    }\n    return addAdditionalPromiseMethods(result, this.execute, this.subject);\n  } catch (e) {\n    if (e && e._isUnexpected) {\n      var wrappedError = new UnexpectedError(this, e);\n      wrappedError.originalError = e.originalError;\n      throw wrappedError;\n    }\n    throw e;\n  }\n};\n\nexpectPrototype.shift = function (subject, assertionIndex) {\n  var this$1 = this;\n  var ref;\n\n  this._assertWrappedExpect();\n  if (arguments.length <= 1) {\n    if (arguments.length === 0) {\n      subject = this.subject;\n    }\n    assertionIndex = -1;\n    for (var i = 0; i < this.assertionRule.args.length; i += 1) {\n      var type = this.assertionRule.args[i].type;\n      if (type.is('assertion') || type.is('expect.it')) {\n        assertionIndex = i;\n        break;\n      }\n    }\n  } else if (arguments.length === 3) {\n    // The 3-argument syntax for wrappedExpect.shift is deprecated, please omit the first (expect) arg\n    subject = arguments[1];\n    assertionIndex = arguments[2];\n  }\n\n  if (assertionIndex !== -1) {\n    var args = this.args.slice(0, assertionIndex);\n    var rest = this.args.slice(assertionIndex);\n    var nextArgumentType = this.findTypeOf(rest[0]);\n    if (arguments.length > 1) {\n      // Legacy\n      this.argsOutput = function (output) {\n        args.forEach(function (arg, index) {\n          if (index > 0) {\n            output.text(', ');\n          }\n          output.appendInspected(arg);\n        });\n\n        if (args.length > 0) {\n          output.sp();\n        }\n        if (nextArgumentType.is('string')) {\n          output.error(rest[0]);\n        } else if (rest.length > 0) {\n          output.appendInspected(rest[0]);\n        }\n        if (rest.length > 1) {\n          output.sp();\n        }\n        rest.slice(1).forEach(function (arg, index) {\n          if (index > 0) {\n            output.text(', ');\n          }\n          output.appendInspected(arg);\n        });\n      };\n    }\n    if (nextArgumentType.is('expect.it')) {\n      return this.withError(\n        function () { return rest[0](subject); },\n        function (err) {\n          this$1.fail(err);\n        }\n      );\n    } else if (nextArgumentType.is('string')) {\n      return (ref = this).execute.apply(ref, [ subject ].concat( rest ));\n    } else {\n      return subject;\n    }\n  } else {\n    // No assertion to delegate to. Provide the new subject as the fulfillment value:\n    return subject;\n  }\n};\n\nexpectPrototype._getSubjectType = function () {\n  this._assertWrappedExpect();\n  return this.findTypeOfWithParentType(\n    this.subject,\n    this.assertionRule.subject.type\n  );\n};\n\nexpectPrototype._getArgTypes = function (index) {\n  var this$1 = this;\n\n  this._assertWrappedExpect();\n  var lastIndex = this.assertionRule.args.length - 1;\n  return this.args.map(function (arg, index) {\n    return this$1.findTypeOfWithParentType(\n      arg,\n      this$1.assertionRule.args[Math.min(index, lastIndex)].type\n    );\n  });\n};\n\nexpectPrototype._getAssertionIndices = function () {\n  this._assertWrappedExpect();\n  if (!this._assertionIndices) {\n    var assertionIndices = [];\n    var args = this.args;\n    var currentAssertionRule = this.assertionRule;\n    var offset = 0;\n    // eslint-disable-next-line no-labels\n    OUTER: while (true) {\n      if (\n        currentAssertionRule.args.length > 1 &&\n        isAssertionArg(\n          currentAssertionRule.args[currentAssertionRule.args.length - 2]\n        )\n      ) {\n        assertionIndices.push(offset + currentAssertionRule.args.length - 2);\n        var suffixAssertions = findSuffixAssertions(\n          args[offset + currentAssertionRule.args.length - 2],\n          this\n        );\n        if (suffixAssertions) {\n          for (var i = 0; i < suffixAssertions.length; i += 1) {\n            if (suffixAssertions[i].args.some(isAssertionArg)) {\n              offset += currentAssertionRule.args.length - 1;\n              currentAssertionRule = suffixAssertions[i];\n              // eslint-disable-next-line no-labels\n              continue OUTER;\n            }\n          }\n        }\n      }\n      // No further assertions found,\n      break;\n    }\n    this._assertionIndices = assertionIndices;\n  }\n  return this._assertionIndices;\n};\n\nObject.defineProperty(expectPrototype, 'subjectType', {\n  enumerable: true,\n  get: function get() {\n    this._assertWrappedExpect();\n    return this._getSubjectType();\n  },\n});\n\nObject.defineProperty(expectPrototype, 'argTypes', {\n  enumerable: true,\n  get: function get() {\n    this._assertWrappedExpect();\n    return this._getArgTypes();\n  },\n});\n\nfunction createTopLevelExpect(\n  ref,\n  parentExpect\n) {\n  if ( ref === void 0 ) ref = {};\n  var assertions = ref.assertions; if ( assertions === void 0 ) assertions = {};\n  var typeByName = ref.typeByName; if ( typeByName === void 0 ) typeByName = { any: anyType };\n  var types = ref.types; if ( types === void 0 ) types = [anyType];\n  var output = ref.output;\n  var format = ref.format; if ( format === void 0 ) format = magicpen.defaultFormat;\n  var installedPlugins = ref.installedPlugins; if ( installedPlugins === void 0 ) installedPlugins = [];\n\n  var expect = function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    return expect._expect(new Context(), args);\n  };\n  if (parentExpect) {\n    expect.parent = parentExpect;\n    utils.setPrototypeOfOrExtend(expect, parentExpect);\n  } else {\n    utils.setPrototypeOfOrExtend(expect, expectPrototype);\n  }\n\n  if (!output) {\n    output = magicpen();\n    output.inline = false;\n    output.diff = false;\n  }\n  return extend(expect, {\n    _topLevelExpect: expect,\n    _outputFormat: format,\n    _frozen: false,\n    assertions: assertions,\n    typeByName: typeByName,\n    installedPlugins: installedPlugins,\n    installedHooks: [],\n    types: types,\n    output: output,\n  });\n}\n\nmodule.exports = createTopLevelExpect;\n","function Diff() {}\nDiff.prototype = {\n  diff: function diff(oldString, newString) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var callback = options.callback;\n\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n\n    this.options = options;\n    var self = this;\n\n    function done(value) {\n      if (callback) {\n        setTimeout(function () {\n          callback(undefined, value);\n        }, 0);\n        return true;\n      } else {\n        return value;\n      }\n    } // Allow subclasses to massage the input prior to running\n\n\n    oldString = this.castInput(oldString);\n    newString = this.castInput(newString);\n    oldString = this.removeEmpty(this.tokenize(oldString));\n    newString = this.removeEmpty(this.tokenize(newString));\n    var newLen = newString.length,\n        oldLen = oldString.length;\n    var editLength = 1;\n    var maxEditLength = newLen + oldLen;\n\n    if (options.maxEditLength) {\n      maxEditLength = Math.min(maxEditLength, options.maxEditLength);\n    }\n\n    var bestPath = [{\n      newPos: -1,\n      components: []\n    }]; // Seed editLength = 0, i.e. the content starts with the same values\n\n    var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n\n    if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n      // Identity per the equality and tokenizer\n      return done([{\n        value: this.join(newString),\n        count: newString.length\n      }]);\n    } // Main worker method. checks all permutations of a given edit length for acceptance.\n\n\n    function execEditLength() {\n      for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n        var basePath = void 0;\n\n        var addPath = bestPath[diagonalPath - 1],\n            removePath = bestPath[diagonalPath + 1],\n            _oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n\n        if (addPath) {\n          // No one else is going to attempt to use this value, clear it\n          bestPath[diagonalPath - 1] = undefined;\n        }\n\n        var canAdd = addPath && addPath.newPos + 1 < newLen,\n            canRemove = removePath && 0 <= _oldPos && _oldPos < oldLen;\n\n        if (!canAdd && !canRemove) {\n          // If this path is a terminal then prune\n          bestPath[diagonalPath] = undefined;\n          continue;\n        } // Select the diagonal that we want to branch from. We select the prior\n        // path whose position in the new string is the farthest from the origin\n        // and does not pass the bounds of the diff graph\n\n\n        if (!canAdd || canRemove && addPath.newPos < removePath.newPos) {\n          basePath = clonePath(removePath);\n          self.pushComponent(basePath.components, undefined, true);\n        } else {\n          basePath = addPath; // No need to clone, we've pulled it from the list\n\n          basePath.newPos++;\n          self.pushComponent(basePath.components, true, undefined);\n        }\n\n        _oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath); // If we have hit the end of both strings, then we are done\n\n        if (basePath.newPos + 1 >= newLen && _oldPos + 1 >= oldLen) {\n          return done(buildValues(self, basePath.components, newString, oldString, self.useLongestToken));\n        } else {\n          // Otherwise track this path as a potential candidate and continue.\n          bestPath[diagonalPath] = basePath;\n        }\n      }\n\n      editLength++;\n    } // Performs the length of edit iteration. Is a bit fugly as this has to support the\n    // sync and async mode which is never fun. Loops over execEditLength until a value\n    // is produced, or until the edit length exceeds options.maxEditLength (if given),\n    // in which case it will return undefined.\n\n\n    if (callback) {\n      (function exec() {\n        setTimeout(function () {\n          if (editLength > maxEditLength) {\n            return callback();\n          }\n\n          if (!execEditLength()) {\n            exec();\n          }\n        }, 0);\n      })();\n    } else {\n      while (editLength <= maxEditLength) {\n        var ret = execEditLength();\n\n        if (ret) {\n          return ret;\n        }\n      }\n    }\n  },\n  pushComponent: function pushComponent(components, added, removed) {\n    var last = components[components.length - 1];\n\n    if (last && last.added === added && last.removed === removed) {\n      // We need to clone here as the component clone operation is just\n      // as shallow array clone\n      components[components.length - 1] = {\n        count: last.count + 1,\n        added: added,\n        removed: removed\n      };\n    } else {\n      components.push({\n        count: 1,\n        added: added,\n        removed: removed\n      });\n    }\n  },\n  extractCommon: function extractCommon(basePath, newString, oldString, diagonalPath) {\n    var newLen = newString.length,\n        oldLen = oldString.length,\n        newPos = basePath.newPos,\n        oldPos = newPos - diagonalPath,\n        commonCount = 0;\n\n    while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n      newPos++;\n      oldPos++;\n      commonCount++;\n    }\n\n    if (commonCount) {\n      basePath.components.push({\n        count: commonCount\n      });\n    }\n\n    basePath.newPos = newPos;\n    return oldPos;\n  },\n  equals: function equals(left, right) {\n    if (this.options.comparator) {\n      return this.options.comparator(left, right);\n    } else {\n      return left === right || this.options.ignoreCase && left.toLowerCase() === right.toLowerCase();\n    }\n  },\n  removeEmpty: function removeEmpty(array) {\n    var ret = [];\n\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n\n    return ret;\n  },\n  castInput: function castInput(value) {\n    return value;\n  },\n  tokenize: function tokenize(value) {\n    return value.split('');\n  },\n  join: function join(chars) {\n    return chars.join('');\n  }\n};\n\nfunction buildValues(diff, components, newString, oldString, useLongestToken) {\n  var componentPos = 0,\n      componentLen = components.length,\n      newPos = 0,\n      oldPos = 0;\n\n  for (; componentPos < componentLen; componentPos++) {\n    var component = components[componentPos];\n\n    if (!component.removed) {\n      if (!component.added && useLongestToken) {\n        var value = newString.slice(newPos, newPos + component.count);\n        value = value.map(function (value, i) {\n          var oldValue = oldString[oldPos + i];\n          return oldValue.length > value.length ? oldValue : value;\n        });\n        component.value = diff.join(value);\n      } else {\n        component.value = diff.join(newString.slice(newPos, newPos + component.count));\n      }\n\n      newPos += component.count; // Common case\n\n      if (!component.added) {\n        oldPos += component.count;\n      }\n    } else {\n      component.value = diff.join(oldString.slice(oldPos, oldPos + component.count));\n      oldPos += component.count; // Reverse add and remove so removes are output first to match common convention\n      // The diffing algorithm is tied to add then remove output and this is the simplest\n      // route to get the desired output with minimal overhead.\n\n      if (componentPos && components[componentPos - 1].added) {\n        var tmp = components[componentPos - 1];\n        components[componentPos - 1] = components[componentPos];\n        components[componentPos] = tmp;\n      }\n    }\n  } // Special case handle for when one terminal is ignored (i.e. whitespace).\n  // For this case we merge the terminal into the prior string and drop the change.\n  // This is only available for string mode.\n\n\n  var lastComponent = components[componentLen - 1];\n\n  if (componentLen > 1 && typeof lastComponent.value === 'string' && (lastComponent.added || lastComponent.removed) && diff.equals('', lastComponent.value)) {\n    components[componentLen - 2].value += lastComponent.value;\n    components.pop();\n  }\n\n  return components;\n}\n\nfunction clonePath(path) {\n  return {\n    newPos: path.newPos,\n    components: path.components.slice(0)\n  };\n}\n\nvar characterDiff = new Diff();\nfunction diffChars(oldStr, newStr, options) {\n  return characterDiff.diff(oldStr, newStr, options);\n}\n\nfunction generateOptions(options, defaults) {\n  if (typeof options === 'function') {\n    defaults.callback = options;\n  } else if (options) {\n    for (var name in options) {\n      /* istanbul ignore else */\n      if (options.hasOwnProperty(name)) {\n        defaults[name] = options[name];\n      }\n    }\n  }\n\n  return defaults;\n}\n\n//\n// Ranges and exceptions:\n// Latin-1 Supplement, 0080–00FF\n//  - U+00D7  × Multiplication sign\n//  - U+00F7  ÷ Division sign\n// Latin Extended-A, 0100–017F\n// Latin Extended-B, 0180–024F\n// IPA Extensions, 0250–02AF\n// Spacing Modifier Letters, 02B0–02FF\n//  - U+02C7  ˇ &#711;  Caron\n//  - U+02D8  ˘ &#728;  Breve\n//  - U+02D9  ˙ &#729;  Dot Above\n//  - U+02DA  ˚ &#730;  Ring Above\n//  - U+02DB  ˛ &#731;  Ogonek\n//  - U+02DC  ˜ &#732;  Small Tilde\n//  - U+02DD  ˝ &#733;  Double Acute Accent\n// Latin Extended Additional, 1E00–1EFF\n\nvar extendedWordChars = /^[A-Za-z\\xC0-\\u02C6\\u02C8-\\u02D7\\u02DE-\\u02FF\\u1E00-\\u1EFF]+$/;\nvar reWhitespace = /\\S/;\nvar wordDiff = new Diff();\n\nwordDiff.equals = function (left, right) {\n  if (this.options.ignoreCase) {\n    left = left.toLowerCase();\n    right = right.toLowerCase();\n  }\n\n  return left === right || this.options.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right);\n};\n\nwordDiff.tokenize = function (value) {\n  // All whitespace symbols except newline group into one token, each newline - in separate token\n  var tokens = value.split(/([^\\S\\r\\n]+|[()[\\]{}'\"\\r\\n]|\\b)/); // Join the boundary splits that we do not consider to be boundaries. This is primarily the extended Latin character set.\n\n  for (var i = 0; i < tokens.length - 1; i++) {\n    // If we have an empty string in the next field and we have only word chars before and after, merge\n    if (!tokens[i + 1] && tokens[i + 2] && extendedWordChars.test(tokens[i]) && extendedWordChars.test(tokens[i + 2])) {\n      tokens[i] += tokens[i + 2];\n      tokens.splice(i + 1, 2);\n      i--;\n    }\n  }\n\n  return tokens;\n};\n\nfunction diffWords(oldStr, newStr, options) {\n  options = generateOptions(options, {\n    ignoreWhitespace: true\n  });\n  return wordDiff.diff(oldStr, newStr, options);\n}\nfunction diffWordsWithSpace(oldStr, newStr, options) {\n  return wordDiff.diff(oldStr, newStr, options);\n}\n\nvar lineDiff = new Diff();\n\nlineDiff.tokenize = function (value) {\n  var retLines = [],\n      linesAndNewlines = value.split(/(\\n|\\r\\n)/); // Ignore the final empty token that occurs if the string ends with a new line\n\n  if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n    linesAndNewlines.pop();\n  } // Merge the content and line separators into single tokens\n\n\n  for (var i = 0; i < linesAndNewlines.length; i++) {\n    var line = linesAndNewlines[i];\n\n    if (i % 2 && !this.options.newlineIsToken) {\n      retLines[retLines.length - 1] += line;\n    } else {\n      if (this.options.ignoreWhitespace) {\n        line = line.trim();\n      }\n\n      retLines.push(line);\n    }\n  }\n\n  return retLines;\n};\n\nfunction diffLines(oldStr, newStr, callback) {\n  return lineDiff.diff(oldStr, newStr, callback);\n}\nfunction diffTrimmedLines(oldStr, newStr, callback) {\n  var options = generateOptions(callback, {\n    ignoreWhitespace: true\n  });\n  return lineDiff.diff(oldStr, newStr, options);\n}\n\nvar sentenceDiff = new Diff();\n\nsentenceDiff.tokenize = function (value) {\n  return value.split(/(\\S.+?[.!?])(?=\\s+|$)/);\n};\n\nfunction diffSentences(oldStr, newStr, callback) {\n  return sentenceDiff.diff(oldStr, newStr, callback);\n}\n\nvar cssDiff = new Diff();\n\ncssDiff.tokenize = function (value) {\n  return value.split(/([{}:;,]|\\s+)/);\n};\n\nfunction diffCss(oldStr, newStr, callback) {\n  return cssDiff.diff(oldStr, newStr, callback);\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function (obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function (obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nvar objectPrototypeToString = Object.prototype.toString;\nvar jsonDiff = new Diff(); // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n// dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n\njsonDiff.useLongestToken = true;\njsonDiff.tokenize = lineDiff.tokenize;\n\njsonDiff.castInput = function (value) {\n  var _this$options = this.options,\n      undefinedReplacement = _this$options.undefinedReplacement,\n      _this$options$stringi = _this$options.stringifyReplacer,\n      stringifyReplacer = _this$options$stringi === void 0 ? function (k, v) {\n    return typeof v === 'undefined' ? undefinedReplacement : v;\n  } : _this$options$stringi;\n  return typeof value === 'string' ? value : JSON.stringify(canonicalize(value, null, null, stringifyReplacer), stringifyReplacer, '  ');\n};\n\njsonDiff.equals = function (left, right) {\n  return Diff.prototype.equals.call(jsonDiff, left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n};\n\nfunction diffJson(oldObj, newObj, options) {\n  return jsonDiff.diff(oldObj, newObj, options);\n} // This function handles the presence of circular references by bailing out when encountering an\n// object that is already on the \"stack\" of items being processed. Accepts an optional replacer\n\nfunction canonicalize(obj, stack, replacementStack, replacer, key) {\n  stack = stack || [];\n  replacementStack = replacementStack || [];\n\n  if (replacer) {\n    obj = replacer(key, obj);\n  }\n\n  var i;\n\n  for (i = 0; i < stack.length; i += 1) {\n    if (stack[i] === obj) {\n      return replacementStack[i];\n    }\n  }\n\n  var canonicalizedObj;\n\n  if ('[object Array]' === objectPrototypeToString.call(obj)) {\n    stack.push(obj);\n    canonicalizedObj = new Array(obj.length);\n    replacementStack.push(canonicalizedObj);\n\n    for (i = 0; i < obj.length; i += 1) {\n      canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack, replacer, key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n    return canonicalizedObj;\n  }\n\n  if (obj && obj.toJSON) {\n    obj = obj.toJSON();\n  }\n\n  if (_typeof(obj) === 'object' && obj !== null) {\n    stack.push(obj);\n    canonicalizedObj = {};\n    replacementStack.push(canonicalizedObj);\n\n    var sortedKeys = [],\n        _key;\n\n    for (_key in obj) {\n      /* istanbul ignore else */\n      if (obj.hasOwnProperty(_key)) {\n        sortedKeys.push(_key);\n      }\n    }\n\n    sortedKeys.sort();\n\n    for (i = 0; i < sortedKeys.length; i += 1) {\n      _key = sortedKeys[i];\n      canonicalizedObj[_key] = canonicalize(obj[_key], stack, replacementStack, replacer, _key);\n    }\n\n    stack.pop();\n    replacementStack.pop();\n  } else {\n    canonicalizedObj = obj;\n  }\n\n  return canonicalizedObj;\n}\n\nvar arrayDiff = new Diff();\n\narrayDiff.tokenize = function (value) {\n  return value.slice();\n};\n\narrayDiff.join = arrayDiff.removeEmpty = function (value) {\n  return value;\n};\n\nfunction diffArrays(oldArr, newArr, callback) {\n  return arrayDiff.diff(oldArr, newArr, callback);\n}\n\nfunction parsePatch(uniDiff) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var diffstr = uniDiff.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = uniDiff.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      list = [],\n      i = 0;\n\n  function parseIndex() {\n    var index = {};\n    list.push(index); // Parse diff metadata\n\n    while (i < diffstr.length) {\n      var line = diffstr[i]; // File header found, end parsing diff metadata\n\n      if (/^(\\-\\-\\-|\\+\\+\\+|@@)\\s/.test(line)) {\n        break;\n      } // Diff index\n\n\n      var header = /^(?:Index:|diff(?: -r \\w+)+)\\s+(.+?)\\s*$/.exec(line);\n\n      if (header) {\n        index.index = header[1];\n      }\n\n      i++;\n    } // Parse file headers if they are defined. Unified diff requires them, but\n    // there's no technical issues to have an isolated hunk without file header\n\n\n    parseFileHeader(index);\n    parseFileHeader(index); // Parse hunks\n\n    index.hunks = [];\n\n    while (i < diffstr.length) {\n      var _line = diffstr[i];\n\n      if (/^(Index:|diff|\\-\\-\\-|\\+\\+\\+)\\s/.test(_line)) {\n        break;\n      } else if (/^@@/.test(_line)) {\n        index.hunks.push(parseHunk());\n      } else if (_line && options.strict) {\n        // Ignore unexpected content unless in strict mode\n        throw new Error('Unknown line ' + (i + 1) + ' ' + JSON.stringify(_line));\n      } else {\n        i++;\n      }\n    }\n  } // Parses the --- and +++ headers, if none are found, no lines\n  // are consumed.\n\n\n  function parseFileHeader(index) {\n    var fileHeader = /^(---|\\+\\+\\+)\\s+(.*)$/.exec(diffstr[i]);\n\n    if (fileHeader) {\n      var keyPrefix = fileHeader[1] === '---' ? 'old' : 'new';\n      var data = fileHeader[2].split('\\t', 2);\n      var fileName = data[0].replace(/\\\\\\\\/g, '\\\\');\n\n      if (/^\".*\"$/.test(fileName)) {\n        fileName = fileName.substr(1, fileName.length - 2);\n      }\n\n      index[keyPrefix + 'FileName'] = fileName;\n      index[keyPrefix + 'Header'] = (data[1] || '').trim();\n      i++;\n    }\n  } // Parses a hunk\n  // This assumes that we are at the start of a hunk.\n\n\n  function parseHunk() {\n    var chunkHeaderIndex = i,\n        chunkHeaderLine = diffstr[i++],\n        chunkHeader = chunkHeaderLine.split(/@@ -(\\d+)(?:,(\\d+))? \\+(\\d+)(?:,(\\d+))? @@/);\n    var hunk = {\n      oldStart: +chunkHeader[1],\n      oldLines: typeof chunkHeader[2] === 'undefined' ? 1 : +chunkHeader[2],\n      newStart: +chunkHeader[3],\n      newLines: typeof chunkHeader[4] === 'undefined' ? 1 : +chunkHeader[4],\n      lines: [],\n      linedelimiters: []\n    }; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart += 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart += 1;\n    }\n\n    var addCount = 0,\n        removeCount = 0;\n\n    for (; i < diffstr.length; i++) {\n      // Lines starting with '---' could be mistaken for the \"remove line\" operation\n      // But they could be the header for the next file. Therefore prune such cases out.\n      if (diffstr[i].indexOf('--- ') === 0 && i + 2 < diffstr.length && diffstr[i + 1].indexOf('+++ ') === 0 && diffstr[i + 2].indexOf('@@') === 0) {\n        break;\n      }\n\n      var operation = diffstr[i].length == 0 && i != diffstr.length - 1 ? ' ' : diffstr[i][0];\n\n      if (operation === '+' || operation === '-' || operation === ' ' || operation === '\\\\') {\n        hunk.lines.push(diffstr[i]);\n        hunk.linedelimiters.push(delimiters[i] || '\\n');\n\n        if (operation === '+') {\n          addCount++;\n        } else if (operation === '-') {\n          removeCount++;\n        } else if (operation === ' ') {\n          addCount++;\n          removeCount++;\n        }\n      } else {\n        break;\n      }\n    } // Handle the empty block count case\n\n\n    if (!addCount && hunk.newLines === 1) {\n      hunk.newLines = 0;\n    }\n\n    if (!removeCount && hunk.oldLines === 1) {\n      hunk.oldLines = 0;\n    } // Perform optional sanity checking\n\n\n    if (options.strict) {\n      if (addCount !== hunk.newLines) {\n        throw new Error('Added line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n\n      if (removeCount !== hunk.oldLines) {\n        throw new Error('Removed line count did not match for hunk at line ' + (chunkHeaderIndex + 1));\n      }\n    }\n\n    return hunk;\n  }\n\n  while (i < diffstr.length) {\n    parseIndex();\n  }\n\n  return list;\n}\n\n// Iterator that traverses in the range of [min, max], stepping\n// by distance from a given start position. I.e. for [0, 4], with\n// start of 2, this will iterate 2, 3, 1, 4, 0.\nfunction distanceIterator (start, minLine, maxLine) {\n  var wantForward = true,\n      backwardExhausted = false,\n      forwardExhausted = false,\n      localOffset = 1;\n  return function iterator() {\n    if (wantForward && !forwardExhausted) {\n      if (backwardExhausted) {\n        localOffset++;\n      } else {\n        wantForward = false;\n      } // Check if trying to fit beyond text length, and if not, check it fits\n      // after offset location (or desired location on first iteration)\n\n\n      if (start + localOffset <= maxLine) {\n        return localOffset;\n      }\n\n      forwardExhausted = true;\n    }\n\n    if (!backwardExhausted) {\n      if (!forwardExhausted) {\n        wantForward = true;\n      } // Check if trying to fit before text beginning, and if not, check it fits\n      // before offset location\n\n\n      if (minLine <= start - localOffset) {\n        return -localOffset++;\n      }\n\n      backwardExhausted = true;\n      return iterator();\n    } // We tried to fit hunk before text beginning and beyond text length, then\n    // hunk can't fit on the text. Return undefined\n\n  };\n}\n\nfunction applyPatch(source, uniDiff) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  if (Array.isArray(uniDiff)) {\n    if (uniDiff.length > 1) {\n      throw new Error('applyPatch only works with a single input.');\n    }\n\n    uniDiff = uniDiff[0];\n  } // Apply the diff to the input\n\n\n  var lines = source.split(/\\r\\n|[\\n\\v\\f\\r\\x85]/),\n      delimiters = source.match(/\\r\\n|[\\n\\v\\f\\r\\x85]/g) || [],\n      hunks = uniDiff.hunks,\n      compareLine = options.compareLine || function (lineNumber, line, operation, patchContent) {\n    return line === patchContent;\n  },\n      errorCount = 0,\n      fuzzFactor = options.fuzzFactor || 0,\n      minLine = 0,\n      offset = 0,\n      removeEOFNL,\n      addEOFNL;\n  /**\n   * Checks if the hunk exactly fits on the provided location\n   */\n\n\n  function hunkFits(hunk, toPos) {\n    for (var j = 0; j < hunk.lines.length; j++) {\n      var line = hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line;\n\n      if (operation === ' ' || operation === '-') {\n        // Context sanity check\n        if (!compareLine(toPos + 1, lines[toPos], operation, content)) {\n          errorCount++;\n\n          if (errorCount > fuzzFactor) {\n            return false;\n          }\n        }\n\n        toPos++;\n      }\n    }\n\n    return true;\n  } // Search best fit offsets for each hunk based on the previous ones\n\n\n  for (var i = 0; i < hunks.length; i++) {\n    var hunk = hunks[i],\n        maxLine = lines.length - hunk.oldLines,\n        localOffset = 0,\n        toPos = offset + hunk.oldStart - 1;\n    var iterator = distanceIterator(toPos, minLine, maxLine);\n\n    for (; localOffset !== undefined; localOffset = iterator()) {\n      if (hunkFits(hunk, toPos + localOffset)) {\n        hunk.offset = offset += localOffset;\n        break;\n      }\n    }\n\n    if (localOffset === undefined) {\n      return false;\n    } // Set lower text limit to end of the current hunk, so next ones don't try\n    // to fit over already patched text\n\n\n    minLine = hunk.offset + hunk.oldStart + hunk.oldLines;\n  } // Apply patch hunks\n\n\n  var diffOffset = 0;\n\n  for (var _i = 0; _i < hunks.length; _i++) {\n    var _hunk = hunks[_i],\n        _toPos = _hunk.oldStart + _hunk.offset + diffOffset - 1;\n\n    diffOffset += _hunk.newLines - _hunk.oldLines;\n\n    for (var j = 0; j < _hunk.lines.length; j++) {\n      var line = _hunk.lines[j],\n          operation = line.length > 0 ? line[0] : ' ',\n          content = line.length > 0 ? line.substr(1) : line,\n          delimiter = _hunk.linedelimiters[j];\n\n      if (operation === ' ') {\n        _toPos++;\n      } else if (operation === '-') {\n        lines.splice(_toPos, 1);\n        delimiters.splice(_toPos, 1);\n        /* istanbul ignore else */\n      } else if (operation === '+') {\n        lines.splice(_toPos, 0, content);\n        delimiters.splice(_toPos, 0, delimiter);\n        _toPos++;\n      } else if (operation === '\\\\') {\n        var previousOperation = _hunk.lines[j - 1] ? _hunk.lines[j - 1][0] : null;\n\n        if (previousOperation === '+') {\n          removeEOFNL = true;\n        } else if (previousOperation === '-') {\n          addEOFNL = true;\n        }\n      }\n    }\n  } // Handle EOFNL insertion/removal\n\n\n  if (removeEOFNL) {\n    while (!lines[lines.length - 1]) {\n      lines.pop();\n      delimiters.pop();\n    }\n  } else if (addEOFNL) {\n    lines.push('');\n    delimiters.push('\\n');\n  }\n\n  for (var _k = 0; _k < lines.length - 1; _k++) {\n    lines[_k] = lines[_k] + delimiters[_k];\n  }\n\n  return lines.join('');\n} // Wrapper that supports multiple file patches via callbacks.\n\nfunction applyPatches(uniDiff, options) {\n  if (typeof uniDiff === 'string') {\n    uniDiff = parsePatch(uniDiff);\n  }\n\n  var currentIndex = 0;\n\n  function processIndex() {\n    var index = uniDiff[currentIndex++];\n\n    if (!index) {\n      return options.complete();\n    }\n\n    options.loadFile(index, function (err, data) {\n      if (err) {\n        return options.complete(err);\n      }\n\n      var updatedContent = applyPatch(data, index, options);\n      options.patched(index, updatedContent, function (err) {\n        if (err) {\n          return options.complete(err);\n        }\n\n        processIndex();\n      });\n    });\n  }\n\n  processIndex();\n}\n\nfunction structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  if (!options) {\n    options = {};\n  }\n\n  if (typeof options.context === 'undefined') {\n    options.context = 4;\n  }\n\n  var diff = diffLines(oldStr, newStr, options);\n\n  if (!diff) {\n    return;\n  }\n\n  diff.push({\n    value: '',\n    lines: []\n  }); // Append an empty value to make cleanup easier\n\n  function contextLines(lines) {\n    return lines.map(function (entry) {\n      return ' ' + entry;\n    });\n  }\n\n  var hunks = [];\n  var oldRangeStart = 0,\n      newRangeStart = 0,\n      curRange = [],\n      oldLine = 1,\n      newLine = 1;\n\n  var _loop = function _loop(i) {\n    var current = diff[i],\n        lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n    current.lines = lines;\n\n    if (current.added || current.removed) {\n      var _curRange;\n\n      // If we have previous context, start with that\n      if (!oldRangeStart) {\n        var prev = diff[i - 1];\n        oldRangeStart = oldLine;\n        newRangeStart = newLine;\n\n        if (prev) {\n          curRange = options.context > 0 ? contextLines(prev.lines.slice(-options.context)) : [];\n          oldRangeStart -= curRange.length;\n          newRangeStart -= curRange.length;\n        }\n      } // Output our changes\n\n\n      (_curRange = curRange).push.apply(_curRange, _toConsumableArray(lines.map(function (entry) {\n        return (current.added ? '+' : '-') + entry;\n      }))); // Track the updated file position\n\n\n      if (current.added) {\n        newLine += lines.length;\n      } else {\n        oldLine += lines.length;\n      }\n    } else {\n      // Identical context lines. Track line changes\n      if (oldRangeStart) {\n        // Close out any changes that have been output (or join overlapping)\n        if (lines.length <= options.context * 2 && i < diff.length - 2) {\n          var _curRange2;\n\n          // Overlapping\n          (_curRange2 = curRange).push.apply(_curRange2, _toConsumableArray(contextLines(lines)));\n        } else {\n          var _curRange3;\n\n          // end the range and output\n          var contextSize = Math.min(lines.length, options.context);\n\n          (_curRange3 = curRange).push.apply(_curRange3, _toConsumableArray(contextLines(lines.slice(0, contextSize))));\n\n          var hunk = {\n            oldStart: oldRangeStart,\n            oldLines: oldLine - oldRangeStart + contextSize,\n            newStart: newRangeStart,\n            newLines: newLine - newRangeStart + contextSize,\n            lines: curRange\n          };\n\n          if (i >= diff.length - 2 && lines.length <= options.context) {\n            // EOF is inside this hunk\n            var oldEOFNewline = /\\n$/.test(oldStr);\n            var newEOFNewline = /\\n$/.test(newStr);\n            var noNlBeforeAdds = lines.length == 0 && curRange.length > hunk.oldLines;\n\n            if (!oldEOFNewline && noNlBeforeAdds && oldStr.length > 0) {\n              // special case: old has no eol and no trailing context; no-nl can end up before adds\n              // however, if the old file is empty, do not output the no-nl line\n              curRange.splice(hunk.oldLines, 0, '\\\\ No newline at end of file');\n            }\n\n            if (!oldEOFNewline && !noNlBeforeAdds || !newEOFNewline) {\n              curRange.push('\\\\ No newline at end of file');\n            }\n          }\n\n          hunks.push(hunk);\n          oldRangeStart = 0;\n          newRangeStart = 0;\n          curRange = [];\n        }\n      }\n\n      oldLine += lines.length;\n      newLine += lines.length;\n    }\n  };\n\n  for (var i = 0; i < diff.length; i++) {\n    _loop(i);\n  }\n\n  return {\n    oldFileName: oldFileName,\n    newFileName: newFileName,\n    oldHeader: oldHeader,\n    newHeader: newHeader,\n    hunks: hunks\n  };\n}\nfunction formatPatch(diff) {\n  var ret = [];\n\n  if (diff.oldFileName == diff.newFileName) {\n    ret.push('Index: ' + diff.oldFileName);\n  }\n\n  ret.push('===================================================================');\n  ret.push('--- ' + diff.oldFileName + (typeof diff.oldHeader === 'undefined' ? '' : '\\t' + diff.oldHeader));\n  ret.push('+++ ' + diff.newFileName + (typeof diff.newHeader === 'undefined' ? '' : '\\t' + diff.newHeader));\n\n  for (var i = 0; i < diff.hunks.length; i++) {\n    var hunk = diff.hunks[i]; // Unified Diff Format quirk: If the chunk size is 0,\n    // the first number is one lower than one would expect.\n    // https://www.artima.com/weblogs/viewpost.jsp?thread=164293\n\n    if (hunk.oldLines === 0) {\n      hunk.oldStart -= 1;\n    }\n\n    if (hunk.newLines === 0) {\n      hunk.newStart -= 1;\n    }\n\n    ret.push('@@ -' + hunk.oldStart + ',' + hunk.oldLines + ' +' + hunk.newStart + ',' + hunk.newLines + ' @@');\n    ret.push.apply(ret, hunk.lines);\n  }\n\n  return ret.join('\\n') + '\\n';\n}\nfunction createTwoFilesPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return formatPatch(structuredPatch(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader, options));\n}\nfunction createPatch(fileName, oldStr, newStr, oldHeader, newHeader, options) {\n  return createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader, options);\n}\n\nfunction arrayEqual(a, b) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  return arrayStartsWith(a, b);\n}\nfunction arrayStartsWith(array, start) {\n  if (start.length > array.length) {\n    return false;\n  }\n\n  for (var i = 0; i < start.length; i++) {\n    if (start[i] !== array[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction calcLineCount(hunk) {\n  var _calcOldNewLineCount = calcOldNewLineCount(hunk.lines),\n      oldLines = _calcOldNewLineCount.oldLines,\n      newLines = _calcOldNewLineCount.newLines;\n\n  if (oldLines !== undefined) {\n    hunk.oldLines = oldLines;\n  } else {\n    delete hunk.oldLines;\n  }\n\n  if (newLines !== undefined) {\n    hunk.newLines = newLines;\n  } else {\n    delete hunk.newLines;\n  }\n}\nfunction merge(mine, theirs, base) {\n  mine = loadPatch(mine, base);\n  theirs = loadPatch(theirs, base);\n  var ret = {}; // For index we just let it pass through as it doesn't have any necessary meaning.\n  // Leaving sanity checks on this to the API consumer that may know more about the\n  // meaning in their own context.\n\n  if (mine.index || theirs.index) {\n    ret.index = mine.index || theirs.index;\n  }\n\n  if (mine.newFileName || theirs.newFileName) {\n    if (!fileNameChanged(mine)) {\n      // No header or no change in ours, use theirs (and ours if theirs does not exist)\n      ret.oldFileName = theirs.oldFileName || mine.oldFileName;\n      ret.newFileName = theirs.newFileName || mine.newFileName;\n      ret.oldHeader = theirs.oldHeader || mine.oldHeader;\n      ret.newHeader = theirs.newHeader || mine.newHeader;\n    } else if (!fileNameChanged(theirs)) {\n      // No header or no change in theirs, use ours\n      ret.oldFileName = mine.oldFileName;\n      ret.newFileName = mine.newFileName;\n      ret.oldHeader = mine.oldHeader;\n      ret.newHeader = mine.newHeader;\n    } else {\n      // Both changed... figure it out\n      ret.oldFileName = selectField(ret, mine.oldFileName, theirs.oldFileName);\n      ret.newFileName = selectField(ret, mine.newFileName, theirs.newFileName);\n      ret.oldHeader = selectField(ret, mine.oldHeader, theirs.oldHeader);\n      ret.newHeader = selectField(ret, mine.newHeader, theirs.newHeader);\n    }\n  }\n\n  ret.hunks = [];\n  var mineIndex = 0,\n      theirsIndex = 0,\n      mineOffset = 0,\n      theirsOffset = 0;\n\n  while (mineIndex < mine.hunks.length || theirsIndex < theirs.hunks.length) {\n    var mineCurrent = mine.hunks[mineIndex] || {\n      oldStart: Infinity\n    },\n        theirsCurrent = theirs.hunks[theirsIndex] || {\n      oldStart: Infinity\n    };\n\n    if (hunkBefore(mineCurrent, theirsCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(mineCurrent, mineOffset));\n      mineIndex++;\n      theirsOffset += mineCurrent.newLines - mineCurrent.oldLines;\n    } else if (hunkBefore(theirsCurrent, mineCurrent)) {\n      // This patch does not overlap with any of the others, yay.\n      ret.hunks.push(cloneHunk(theirsCurrent, theirsOffset));\n      theirsIndex++;\n      mineOffset += theirsCurrent.newLines - theirsCurrent.oldLines;\n    } else {\n      // Overlap, merge as best we can\n      var mergedHunk = {\n        oldStart: Math.min(mineCurrent.oldStart, theirsCurrent.oldStart),\n        oldLines: 0,\n        newStart: Math.min(mineCurrent.newStart + mineOffset, theirsCurrent.oldStart + theirsOffset),\n        newLines: 0,\n        lines: []\n      };\n      mergeLines(mergedHunk, mineCurrent.oldStart, mineCurrent.lines, theirsCurrent.oldStart, theirsCurrent.lines);\n      theirsIndex++;\n      mineIndex++;\n      ret.hunks.push(mergedHunk);\n    }\n  }\n\n  return ret;\n}\n\nfunction loadPatch(param, base) {\n  if (typeof param === 'string') {\n    if (/^@@/m.test(param) || /^Index:/m.test(param)) {\n      return parsePatch(param)[0];\n    }\n\n    if (!base) {\n      throw new Error('Must provide a base reference or pass in a patch');\n    }\n\n    return structuredPatch(undefined, undefined, base, param);\n  }\n\n  return param;\n}\n\nfunction fileNameChanged(patch) {\n  return patch.newFileName && patch.newFileName !== patch.oldFileName;\n}\n\nfunction selectField(index, mine, theirs) {\n  if (mine === theirs) {\n    return mine;\n  } else {\n    index.conflict = true;\n    return {\n      mine: mine,\n      theirs: theirs\n    };\n  }\n}\n\nfunction hunkBefore(test, check) {\n  return test.oldStart < check.oldStart && test.oldStart + test.oldLines < check.oldStart;\n}\n\nfunction cloneHunk(hunk, offset) {\n  return {\n    oldStart: hunk.oldStart,\n    oldLines: hunk.oldLines,\n    newStart: hunk.newStart + offset,\n    newLines: hunk.newLines,\n    lines: hunk.lines\n  };\n}\n\nfunction mergeLines(hunk, mineOffset, mineLines, theirOffset, theirLines) {\n  // This will generally result in a conflicted hunk, but there are cases where the context\n  // is the only overlap where we can successfully merge the content here.\n  var mine = {\n    offset: mineOffset,\n    lines: mineLines,\n    index: 0\n  },\n      their = {\n    offset: theirOffset,\n    lines: theirLines,\n    index: 0\n  }; // Handle any leading content\n\n  insertLeading(hunk, mine, their);\n  insertLeading(hunk, their, mine); // Now in the overlap content. Scan through and select the best changes from each.\n\n  while (mine.index < mine.lines.length && their.index < their.lines.length) {\n    var mineCurrent = mine.lines[mine.index],\n        theirCurrent = their.lines[their.index];\n\n    if ((mineCurrent[0] === '-' || mineCurrent[0] === '+') && (theirCurrent[0] === '-' || theirCurrent[0] === '+')) {\n      // Both modified ...\n      mutualChange(hunk, mine, their);\n    } else if (mineCurrent[0] === '+' && theirCurrent[0] === ' ') {\n      var _hunk$lines;\n\n      // Mine inserted\n      (_hunk$lines = hunk.lines).push.apply(_hunk$lines, _toConsumableArray(collectChange(mine)));\n    } else if (theirCurrent[0] === '+' && mineCurrent[0] === ' ') {\n      var _hunk$lines2;\n\n      // Theirs inserted\n      (_hunk$lines2 = hunk.lines).push.apply(_hunk$lines2, _toConsumableArray(collectChange(their)));\n    } else if (mineCurrent[0] === '-' && theirCurrent[0] === ' ') {\n      // Mine removed or edited\n      removal(hunk, mine, their);\n    } else if (theirCurrent[0] === '-' && mineCurrent[0] === ' ') {\n      // Their removed or edited\n      removal(hunk, their, mine, true);\n    } else if (mineCurrent === theirCurrent) {\n      // Context identity\n      hunk.lines.push(mineCurrent);\n      mine.index++;\n      their.index++;\n    } else {\n      // Context mismatch\n      conflict(hunk, collectChange(mine), collectChange(their));\n    }\n  } // Now push anything that may be remaining\n\n\n  insertTrailing(hunk, mine);\n  insertTrailing(hunk, their);\n  calcLineCount(hunk);\n}\n\nfunction mutualChange(hunk, mine, their) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectChange(their);\n\n  if (allRemoves(myChanges) && allRemoves(theirChanges)) {\n    // Special case for remove changes that are supersets of one another\n    if (arrayStartsWith(myChanges, theirChanges) && skipRemoveSuperset(their, myChanges, myChanges.length - theirChanges.length)) {\n      var _hunk$lines3;\n\n      (_hunk$lines3 = hunk.lines).push.apply(_hunk$lines3, _toConsumableArray(myChanges));\n\n      return;\n    } else if (arrayStartsWith(theirChanges, myChanges) && skipRemoveSuperset(mine, theirChanges, theirChanges.length - myChanges.length)) {\n      var _hunk$lines4;\n\n      (_hunk$lines4 = hunk.lines).push.apply(_hunk$lines4, _toConsumableArray(theirChanges));\n\n      return;\n    }\n  } else if (arrayEqual(myChanges, theirChanges)) {\n    var _hunk$lines5;\n\n    (_hunk$lines5 = hunk.lines).push.apply(_hunk$lines5, _toConsumableArray(myChanges));\n\n    return;\n  }\n\n  conflict(hunk, myChanges, theirChanges);\n}\n\nfunction removal(hunk, mine, their, swap) {\n  var myChanges = collectChange(mine),\n      theirChanges = collectContext(their, myChanges);\n\n  if (theirChanges.merged) {\n    var _hunk$lines6;\n\n    (_hunk$lines6 = hunk.lines).push.apply(_hunk$lines6, _toConsumableArray(theirChanges.merged));\n  } else {\n    conflict(hunk, swap ? theirChanges : myChanges, swap ? myChanges : theirChanges);\n  }\n}\n\nfunction conflict(hunk, mine, their) {\n  hunk.conflict = true;\n  hunk.lines.push({\n    conflict: true,\n    mine: mine,\n    theirs: their\n  });\n}\n\nfunction insertLeading(hunk, insert, their) {\n  while (insert.offset < their.offset && insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n    insert.offset++;\n  }\n}\n\nfunction insertTrailing(hunk, insert) {\n  while (insert.index < insert.lines.length) {\n    var line = insert.lines[insert.index++];\n    hunk.lines.push(line);\n  }\n}\n\nfunction collectChange(state) {\n  var ret = [],\n      operation = state.lines[state.index][0];\n\n  while (state.index < state.lines.length) {\n    var line = state.lines[state.index]; // Group additions that are immediately after subtractions and treat them as one \"atomic\" modify change.\n\n    if (operation === '-' && line[0] === '+') {\n      operation = '+';\n    }\n\n    if (operation === line[0]) {\n      ret.push(line);\n      state.index++;\n    } else {\n      break;\n    }\n  }\n\n  return ret;\n}\n\nfunction collectContext(state, matchChanges) {\n  var changes = [],\n      merged = [],\n      matchIndex = 0,\n      contextChanges = false,\n      conflicted = false;\n\n  while (matchIndex < matchChanges.length && state.index < state.lines.length) {\n    var change = state.lines[state.index],\n        match = matchChanges[matchIndex]; // Once we've hit our add, then we are done\n\n    if (match[0] === '+') {\n      break;\n    }\n\n    contextChanges = contextChanges || change[0] !== ' ';\n    merged.push(match);\n    matchIndex++; // Consume any additions in the other block as a conflict to attempt\n    // to pull in the remaining context after this\n\n    if (change[0] === '+') {\n      conflicted = true;\n\n      while (change[0] === '+') {\n        changes.push(change);\n        change = state.lines[++state.index];\n      }\n    }\n\n    if (match.substr(1) === change.substr(1)) {\n      changes.push(change);\n      state.index++;\n    } else {\n      conflicted = true;\n    }\n  }\n\n  if ((matchChanges[matchIndex] || '')[0] === '+' && contextChanges) {\n    conflicted = true;\n  }\n\n  if (conflicted) {\n    return changes;\n  }\n\n  while (matchIndex < matchChanges.length) {\n    merged.push(matchChanges[matchIndex++]);\n  }\n\n  return {\n    merged: merged,\n    changes: changes\n  };\n}\n\nfunction allRemoves(changes) {\n  return changes.reduce(function (prev, change) {\n    return prev && change[0] === '-';\n  }, true);\n}\n\nfunction skipRemoveSuperset(state, removeChanges, delta) {\n  for (var i = 0; i < delta; i++) {\n    var changeContent = removeChanges[removeChanges.length - delta + i].substr(1);\n\n    if (state.lines[state.index + i] !== ' ' + changeContent) {\n      return false;\n    }\n  }\n\n  state.index += delta;\n  return true;\n}\n\nfunction calcOldNewLineCount(lines) {\n  var oldLines = 0;\n  var newLines = 0;\n  lines.forEach(function (line) {\n    if (typeof line !== 'string') {\n      var myCount = calcOldNewLineCount(line.mine);\n      var theirCount = calcOldNewLineCount(line.theirs);\n\n      if (oldLines !== undefined) {\n        if (myCount.oldLines === theirCount.oldLines) {\n          oldLines += myCount.oldLines;\n        } else {\n          oldLines = undefined;\n        }\n      }\n\n      if (newLines !== undefined) {\n        if (myCount.newLines === theirCount.newLines) {\n          newLines += myCount.newLines;\n        } else {\n          newLines = undefined;\n        }\n      }\n    } else {\n      if (newLines !== undefined && (line[0] === '+' || line[0] === ' ')) {\n        newLines++;\n      }\n\n      if (oldLines !== undefined && (line[0] === '-' || line[0] === ' ')) {\n        oldLines++;\n      }\n    }\n  });\n  return {\n    oldLines: oldLines,\n    newLines: newLines\n  };\n}\n\n// See: http://code.google.com/p/google-diff-match-patch/wiki/API\nfunction convertChangesToDMP(changes) {\n  var ret = [],\n      change,\n      operation;\n\n  for (var i = 0; i < changes.length; i++) {\n    change = changes[i];\n\n    if (change.added) {\n      operation = 1;\n    } else if (change.removed) {\n      operation = -1;\n    } else {\n      operation = 0;\n    }\n\n    ret.push([operation, change.value]);\n  }\n\n  return ret;\n}\n\nfunction convertChangesToXML(changes) {\n  var ret = [];\n\n  for (var i = 0; i < changes.length; i++) {\n    var change = changes[i];\n\n    if (change.added) {\n      ret.push('<ins>');\n    } else if (change.removed) {\n      ret.push('<del>');\n    }\n\n    ret.push(escapeHTML(change.value));\n\n    if (change.added) {\n      ret.push('</ins>');\n    } else if (change.removed) {\n      ret.push('</del>');\n    }\n  }\n\n  return ret.join('');\n}\n\nfunction escapeHTML(s) {\n  var n = s;\n  n = n.replace(/&/g, '&amp;');\n  n = n.replace(/</g, '&lt;');\n  n = n.replace(/>/g, '&gt;');\n  n = n.replace(/\"/g, '&quot;');\n  return n;\n}\n\nexport { Diff, applyPatch, applyPatches, canonicalize, convertChangesToDMP, convertChangesToXML, createPatch, createTwoFilesPatch, diffArrays, diffChars, diffCss, diffJson, diffLines, diffSentences, diffTrimmedLines, diffWords, diffWordsWithSpace, merge, parsePatch, structuredPatch };\n","/* eslint-disable no-control-regex, no-misleading-character-class */\nmodule.exports =\n  /([\\x00-\\x09\\x0B-\\x1F\\x7F-\\x9F\\xAD\\u0378\\u0379\\u037F-\\u0383\\u038B\\u038D\\u03A2\\u0528-\\u0530\\u0557\\u0558\\u0560\\u0588\\u058B-\\u058E\\u0590\\u05C8-\\u05CF\\u05EB-\\u05EF\\u05F5-\\u0605\\u061C\\u061D\\u06DD\\u070E\\u070F\\u074B\\u074C\\u07B2-\\u07BF\\u07FB-\\u07FF\\u082E\\u082F\\u083F\\u085C\\u085D\\u085F-\\u089F\\u08A1\\u08AD-\\u08E3\\u08FF\\u0978\\u0980\\u0984\\u098D\\u098E\\u0991\\u0992\\u09A9\\u09B1\\u09B3-\\u09B5\\u09BA\\u09BB\\u09C5\\u09C6\\u09C9\\u09CA\\u09CF-\\u09D6\\u09D8-\\u09DB\\u09DE\\u09E4\\u09E5\\u09FC-\\u0A00\\u0A04\\u0A0B-\\u0A0E\\u0A11\\u0A12\\u0A29\\u0A31\\u0A34\\u0A37\\u0A3A\\u0A3B\\u0A3D\\u0A43-\\u0A46\\u0A49\\u0A4A\\u0A4E-\\u0A50\\u0A52-\\u0A58\\u0A5D\\u0A5F-\\u0A65\\u0A76-\\u0A80\\u0A84\\u0A8E\\u0A92\\u0AA9\\u0AB1\\u0AB4\\u0ABA\\u0ABB\\u0AC6\\u0ACA\\u0ACE\\u0ACF\\u0AD1-\\u0ADF\\u0AE4\\u0AE5\\u0AF2-\\u0B00\\u0B04\\u0B0D\\u0B0E\\u0B11\\u0B12\\u0B29\\u0B31\\u0B34\\u0B3A\\u0B3B\\u0B45\\u0B46\\u0B49\\u0B4A\\u0B4E-\\u0B55\\u0B58-\\u0B5B\\u0B5E\\u0B64\\u0B65\\u0B78-\\u0B81\\u0B84\\u0B8B-\\u0B8D\\u0B91\\u0B96-\\u0B98\\u0B9B\\u0B9D\\u0BA0-\\u0BA2\\u0BA5-\\u0BA7\\u0BAB-\\u0BAD\\u0BBA-\\u0BBD\\u0BC3-\\u0BC5\\u0BC9\\u0BCE\\u0BCF\\u0BD1-\\u0BD6\\u0BD8-\\u0BE5\\u0BFB-\\u0C00\\u0C04\\u0C0D\\u0C11\\u0C29\\u0C34\\u0C3A-\\u0C3C\\u0C45\\u0C49\\u0C4E-\\u0C54\\u0C57\\u0C5A-\\u0C5F\\u0C64\\u0C65\\u0C70-\\u0C77\\u0C80\\u0C81\\u0C84\\u0C8D\\u0C91\\u0CA9\\u0CB4\\u0CBA\\u0CBB\\u0CC5\\u0CC9\\u0CCE-\\u0CD4\\u0CD7-\\u0CDD\\u0CDF\\u0CE4\\u0CE5\\u0CF0\\u0CF3-\\u0D01\\u0D04\\u0D0D\\u0D11\\u0D3B\\u0D3C\\u0D45\\u0D49\\u0D4F-\\u0D56\\u0D58-\\u0D5F\\u0D64\\u0D65\\u0D76-\\u0D78\\u0D80\\u0D81\\u0D84\\u0D97-\\u0D99\\u0DB2\\u0DBC\\u0DBE\\u0DBF\\u0DC7-\\u0DC9\\u0DCB-\\u0DCE\\u0DD5\\u0DD7\\u0DE0-\\u0DF1\\u0DF5-\\u0E00\\u0E3B-\\u0E3E\\u0E5C-\\u0E80\\u0E83\\u0E85\\u0E86\\u0E89\\u0E8B\\u0E8C\\u0E8E-\\u0E93\\u0E98\\u0EA0\\u0EA4\\u0EA6\\u0EA8\\u0EA9\\u0EAC\\u0EBA\\u0EBE\\u0EBF\\u0EC5\\u0EC7\\u0ECE\\u0ECF\\u0EDA\\u0EDB\\u0EE0-\\u0EFF\\u0F48\\u0F6D-\\u0F70\\u0F98\\u0FBD\\u0FCD\\u0FDB-\\u0FFF\\u10C6\\u10C8-\\u10CC\\u10CE\\u10CF\\u1249\\u124E\\u124F\\u1257\\u1259\\u125E\\u125F\\u1289\\u128E\\u128F\\u12B1\\u12B6\\u12B7\\u12BF\\u12C1\\u12C6\\u12C7\\u12D7\\u1311\\u1316\\u1317\\u135B\\u135C\\u137D-\\u137F\\u139A-\\u139F\\u13F5-\\u13FF\\u169D-\\u169F\\u16F1-\\u16FF\\u170D\\u1715-\\u171F\\u1737-\\u173F\\u1754-\\u175F\\u176D\\u1771\\u1774-\\u177F\\u17DE\\u17DF\\u17EA-\\u17EF\\u17FA-\\u17FF\\u180F\\u181A-\\u181F\\u1878-\\u187F\\u18AB-\\u18AF\\u18F6-\\u18FF\\u191D-\\u191F\\u192C-\\u192F\\u193C-\\u193F\\u1941-\\u1943\\u196E\\u196F\\u1975-\\u197F\\u19AC-\\u19AF\\u19CA-\\u19CF\\u19DB-\\u19DD\\u1A1C\\u1A1D\\u1A5F\\u1A7D\\u1A7E\\u1A8A-\\u1A8F\\u1A9A-\\u1A9F\\u1AAE-\\u1AFF\\u1B4C-\\u1B4F\\u1B7D-\\u1B7F\\u1BF4-\\u1BFB\\u1C38-\\u1C3A\\u1C4A-\\u1C4C\\u1C80-\\u1CBF\\u1CC8-\\u1CCF\\u1CF7-\\u1CFF\\u1DE7-\\u1DFB\\u1F16\\u1F17\\u1F1E\\u1F1F\\u1F46\\u1F47\\u1F4E\\u1F4F\\u1F58\\u1F5A\\u1F5C\\u1F5E\\u1F7E\\u1F7F\\u1FB5\\u1FC5\\u1FD4\\u1FD5\\u1FDC\\u1FF0\\u1FF1\\u1FF5\\u1FFF\\u200B-\\u200F\\u202A-\\u202E\\u2060-\\u206F\\u2072\\u2073\\u208F\\u209D-\\u209F\\u20BA-\\u20CF\\u20F1-\\u20FF\\u218A-\\u218F\\u23F4-\\u23FF\\u2427-\\u243F\\u244B-\\u245F\\u2700\\u2B4D-\\u2B4F\\u2B5A-\\u2BFF\\u2C2F\\u2C5F\\u2CF4-\\u2CF8\\u2D26\\u2D28-\\u2D2C\\u2D2E\\u2D2F\\u2D68-\\u2D6E\\u2D71-\\u2D7E\\u2D97-\\u2D9F\\u2DA7\\u2DAF\\u2DB7\\u2DBF\\u2DC7\\u2DCF\\u2DD7\\u2DDF\\u2E3C-\\u2E7F\\u2E9A\\u2EF4-\\u2EFF\\u2FD6-\\u2FEF\\u2FFC-\\u2FFF\\u3040\\u3097\\u3098\\u3100-\\u3104\\u312E-\\u3130\\u318F\\u31BB-\\u31BF\\u31E4-\\u31EF\\u321F\\u32FF\\u4DB6-\\u4DBF\\u9FCD-\\u9FFF\\uA48D-\\uA48F\\uA4C7-\\uA4CF\\uA62C-\\uA63F\\uA698-\\uA69E\\uA6F8-\\uA6FF\\uA78F\\uA794-\\uA79F\\uA7AB-\\uA7F7\\uA82C-\\uA82F\\uA83A-\\uA83F\\uA878-\\uA87F\\uA8C5-\\uA8CD\\uA8DA-\\uA8DF\\uA8FC-\\uA8FF\\uA954-\\uA95E\\uA97D-\\uA97F\\uA9CE\\uA9DA-\\uA9DD\\uA9E0-\\uA9FF\\uAA37-\\uAA3F\\uAA4E\\uAA4F\\uAA5A\\uAA5B\\uAA7C-\\uAA7F\\uAAC3-\\uAADA\\uAAF7-\\uAB00\\uAB07\\uAB08\\uAB0F\\uAB10\\uAB17-\\uAB1F\\uAB27\\uAB2F-\\uABBF\\uABEE\\uABEF\\uABFA-\\uABFF\\uD7A4-\\uD7AF\\uD7C7-\\uD7CA\\uD7FC-\\uF8FF\\uFA6E\\uFA6F\\uFADA-\\uFAFF\\uFB07-\\uFB12\\uFB18-\\uFB1C\\uFB37\\uFB3D\\uFB3F\\uFB42\\uFB45\\uFBC2-\\uFBD2\\uFD40-\\uFD4F\\uFD90\\uFD91\\uFDC8-\\uFDEF\\uFDFE\\uFDFF\\uFE1A-\\uFE1F\\uFE27-\\uFE2F\\uFE53\\uFE67\\uFE6C-\\uFE6F\\uFE75\\uFEFD-\\uFF00\\uFFBF-\\uFFC1\\uFFC8\\uFFC9\\uFFD0\\uFFD1\\uFFD8\\uFFD9\\uFFDD-\\uFFDF\\uFFE7\\uFFEF-\\uFFFB\\uFFFE\\uFFFF])/g;\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","module.exports = arrayDiff;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n  this.index = index;\n  this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , index: this.index\n  , values: this.values\n  };\n};\n\nfunction RemoveDiff(index, howMany) {\n  this.index = index;\n  this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , index: this.index\n  , howMany: this.howMany\n  };\n};\n\nfunction MoveDiff(from, to, howMany) {\n  this.from = from;\n  this.to = to;\n  this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n  return {\n    type: this.type\n  , from: this.from\n  , to: this.to\n  , howMany: this.howMany\n  };\n};\n\nfunction strictEqual(a, b) {\n  return a === b;\n}\n\nfunction arrayDiff(before, after, equalFn) {\n  if (!equalFn) equalFn = strictEqual;\n\n  // Find all items in both the before and after array, and represent them\n  // as moves. Many of these \"moves\" may end up being discarded in the last\n  // pass if they are from an index to the same index, but we don't know this\n  // up front, since we haven't yet offset the indices.\n  //\n  // Also keep a map of all the indices accounted for in the before and after\n  // arrays. These maps are used next to create insert and remove diffs.\n  var beforeLength = before.length;\n  var afterLength = after.length;\n  var moves = [];\n  var beforeMarked = {};\n  var afterMarked = {};\n  for (var beforeIndex = 0; beforeIndex < beforeLength; beforeIndex++) {\n    var beforeItem = before[beforeIndex];\n    for (var afterIndex = 0; afterIndex < afterLength; afterIndex++) {\n      if (afterMarked[afterIndex]) continue;\n      if (!equalFn(beforeItem, after[afterIndex], beforeIndex, afterIndex)) continue;\n      var from = beforeIndex;\n      var to = afterIndex;\n      var howMany = 0;\n      do {\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n      } while (\n        beforeIndex < beforeLength &&\n        afterIndex < afterLength &&\n        equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex) &&\n        !afterMarked[afterIndex]\n      );\n      moves.push(new MoveDiff(from, to, howMany));\n      beforeIndex--;\n      break;\n    }\n  }\n\n  // Create a remove for all of the items in the before array that were\n  // not marked as being matched in the after array as well\n  var removes = [];\n  for (beforeIndex = 0; beforeIndex < beforeLength;) {\n    if (beforeMarked[beforeIndex]) {\n      beforeIndex++;\n      continue;\n    }\n    var index = beforeIndex;\n    var howMany = 0;\n    while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n      howMany++;\n    }\n    removes.push(new RemoveDiff(index, howMany));\n  }\n\n  // Create an insert for all of the items in the after array that were\n  // not marked as being matched in the before array as well\n  var inserts = [];\n  for (afterIndex = 0; afterIndex < afterLength;) {\n    if (afterMarked[afterIndex]) {\n      afterIndex++;\n      continue;\n    }\n    var index = afterIndex;\n    var howMany = 0;\n    while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n      howMany++;\n    }\n    var values = after.slice(index, index + howMany);\n    inserts.push(new InsertDiff(index, values));\n  }\n\n  var insertsLength = inserts.length;\n  var removesLength = removes.length;\n  var movesLength = moves.length;\n  var i, j;\n\n  // Offset subsequent removes and moves by removes\n  var count = 0;\n  for (i = 0; i < removesLength; i++) {\n    var remove = removes[i];\n    remove.index -= count;\n    count += remove.howMany;\n    for (j = 0; j < movesLength; j++) {\n      var move = moves[j];\n      if (move.from >= remove.index) move.from -= remove.howMany;\n    }\n  }\n\n  // Offset moves by inserts\n  for (i = insertsLength; i--;) {\n    var insert = inserts[i];\n    var howMany = insert.values.length;\n    for (j = movesLength; j--;) {\n      var move = moves[j];\n      if (move.to >= insert.index) move.to -= howMany;\n    }\n  }\n\n  // Offset the to of moves by later moves\n  for (i = movesLength; i-- > 1;) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    for (j = i; j--;) {\n      var earlier = moves[j];\n      if (earlier.to >= move.to) earlier.to -= move.howMany;\n      if (earlier.to >= move.from) earlier.to += move.howMany;\n    }\n  }\n\n  // Only output moves that end up having an effect after offsetting\n  var outputMoves = [];\n\n  // Offset the from of moves by earlier moves\n  for (i = 0; i < movesLength; i++) {\n    var move = moves[i];\n    if (move.to === move.from) continue;\n    outputMoves.push(move);\n    for (j = i + 1; j < movesLength; j++) {\n      var later = moves[j];\n      if (later.from >= move.from) later.from -= move.howMany;\n      if (later.from >= move.to) later.from += move.howMany;\n    }\n  }\n\n  return removes.concat(outputMoves, inserts);\n}\n","var arrayDiff = require('arraydiff-papandreou');\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i += 1) {\n        var source = arguments[i];\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    }\n    return target;\n}\n\nmodule.exports = function arrayChanges(actual, expected, equal, similar, options) {\n    if (Array.isArray(options) || typeof options === 'boolean') {\n        throw new Error([\n            'It looks like you are using arrayChanges includeNonNumericalProperties,',\n            'the API has changed. You need to supply it as an entry to an option object:',\n            'arrayChanges(actual, expected, equal, similar, {',\n            '  includeNonNumericalProperties: [\"foo\", \"bar\"]',\n            '})'\n        ].join('\\n'));\n    }\n\n    options = options || {};\n    var includeNonNumericalProperties = options.includeNonNumericalProperties;\n    var fallbackToItemByItemDiff = 'fallbackToItemByItemDiff' in options ? options.fallbackToItemByItemDiff : true;\n\n    var mutatedArray = new Array(actual.length);\n\n    for (var k = 0; k < actual.length; k += 1) {\n        mutatedArray[k] = {\n            type: 'similar',\n            value: actual[k],\n            actualIndex: k\n        };\n    }\n\n    equal = equal || function (a, b) {\n        return a === b;\n    };\n\n    similar = similar || function (a, b) {\n        return false;\n    };\n\n    var itemsDiff = arrayDiff(Array.prototype.slice.call(actual), Array.prototype.slice.call(expected), function (a, b, aIndex, bIndex) {\n        return equal(a, b, aIndex, bIndex) || similar(a, b, aIndex, bIndex);\n    });\n\n    function offsetIndex(index) {\n        var offsetIndex = 0;\n        var i;\n        for (i = 0; i < mutatedArray.length && offsetIndex < index; i += 1) {\n            if (mutatedArray[i].type !== 'remove' && mutatedArray[i].type !== 'moveSource') {\n                offsetIndex++;\n            }\n        }\n\n        return i;\n    }\n\n    var removes = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'remove';\n    });\n\n    var removedItems = 0;\n    removes.forEach(function (diffItem) {\n        var removeIndex = removedItems + diffItem.index;\n        mutatedArray.slice(removeIndex, diffItem.howMany + removeIndex).forEach(function (v) {\n            v.type = 'remove';\n        });\n        removedItems += diffItem.howMany;\n    });\n\n    var moves = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'move';\n    });\n\n\n    moves.forEach(function (diffItem) {\n        var moveFromIndex = offsetIndex(diffItem.from + 1) - 1;\n        var removed = mutatedArray.slice(moveFromIndex, diffItem.howMany + moveFromIndex);\n        var added = removed.map(function (v) {\n            return extend({}, v, { last: false, type: 'moveTarget' });\n        });\n        removed.forEach(function (v) {\n            v.type = 'moveSource';\n        });\n        var insertIndex = offsetIndex(diffItem.to);\n        Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n    });\n\n\n    var inserts = itemsDiff.filter(function (diffItem) {\n        return diffItem.type === 'insert';\n    });\n\n    inserts.forEach(function (diffItem) {\n        var added = new Array(diffItem.values.length);\n        for (var i = 0 ; i < diffItem.values.length ; i += 1) {\n            added[i] = {\n                type: 'insert',\n                value: diffItem.values[i],\n                expectedIndex: diffItem.index\n            };\n        }\n        var insertIndex = offsetIndex(diffItem.index);\n        Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n    });\n\n    var offset = 0;\n    mutatedArray.forEach(function (diffItem, index) {\n        var type = diffItem.type;\n        if (type === 'remove' || type === 'moveSource') {\n            offset -= 1;\n        } else if (type === 'similar') {\n            diffItem.expected = expected[offset + index];\n            diffItem.expectedIndex = offset + index;\n        }\n    });\n\n    var conflicts = mutatedArray.reduce(function (conflicts, item) {\n        return item.type === 'similar' || item.type === 'moveSource' || item.type === 'moveTarget' ? conflicts : conflicts + 1;\n    }, 0);\n\n    if (fallbackToItemByItemDiff) {\n        var c, i;\n        for (i = 0, c = 0; i < Math.max(actual.length, expected.length) && c <= conflicts; i += 1) {\n            if (\n                i >= actual.length || i >= expected.length || (!equal(actual[i], expected[i], i, i) && !similar(actual[i], expected[i], i, i))\n            ) {\n                c += 1;\n            }\n        }\n\n        if (c <= conflicts) {\n            mutatedArray = [];\n            var j;\n            for (j = 0; j < Math.min(actual.length, expected.length); j += 1) {\n                mutatedArray.push({\n                    type: 'similar',\n                    value: actual[j],\n                    expected: expected[j],\n                    actualIndex: j,\n                    expectedIndex: j\n                });\n            }\n\n            if (actual.length < expected.length) {\n                for (; j < Math.max(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'insert',\n                        value: expected[j],\n                        expectedIndex: j\n                    });\n                }\n            } else {\n                for (; j < Math.max(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'remove',\n                        value: actual[j],\n                        actualIndex: j\n                    });\n                }\n            }\n        }\n    }\n\n    mutatedArray.forEach(function (diffItem) {\n        if (diffItem.type === 'similar' && equal(diffItem.value, diffItem.expected, diffItem.actualIndex, diffItem.expectedIndex)) {\n            diffItem.type = 'equal';\n        }\n    });\n\n    if (includeNonNumericalProperties) {\n        var nonNumericalKeys;\n        if (Array.isArray(includeNonNumericalProperties)) {\n            nonNumericalKeys = includeNonNumericalProperties;\n        } else {\n            var isSeenByNonNumericalKey = {};\n            nonNumericalKeys = [];\n            [actual, expected].forEach(function (obj) {\n                Object.keys(obj).forEach(function (key) {\n                    if (!/^(?:0|[1-9][0-9]*)$/.test(key) && !isSeenByNonNumericalKey[key]) {\n                        isSeenByNonNumericalKey[key] = true;\n                        nonNumericalKeys.push(key);\n                    }\n                });\n                if (Object.getOwnPropertySymbols) {\n                    Object.getOwnPropertySymbols(obj).forEach(function (symbol) {\n                        if (!isSeenByNonNumericalKey[symbol]) {\n                            isSeenByNonNumericalKey[symbol] = true;\n                            nonNumericalKeys.push(symbol);\n                        }\n                    });\n                }\n            });\n        }\n        nonNumericalKeys.forEach(function (key) {\n            var valueExpected;\n\n            if (key in actual) {\n                var valueActual = actual[key];\n                valueExpected = expected[key];\n\n                if (key in expected && typeof valueExpected !== 'undefined') {\n                    valueExpected = expected[key];\n\n                    mutatedArray.push({\n                        type: equal(valueActual, valueExpected, key, key) ? 'equal' : 'similar',\n                        expectedIndex: key,\n                        actualIndex: key,\n                        value: valueActual,\n                        expected: valueExpected\n                    });\n                } else if (typeof valueActual !== 'undefined') {\n                    mutatedArray.push({\n                        type: 'remove',\n                        actualIndex: key,\n                        value: valueActual\n                    });\n                }\n            } else {\n                valueExpected = expected[key];\n\n                if (typeof valueExpected !== 'undefined') {\n                    mutatedArray.push({\n                        type: 'insert',\n                        expectedIndex: key,\n                        value: valueExpected\n                    });\n                }\n            }\n        });\n    }\n\n    if (mutatedArray.length > 0) {\n        mutatedArray[mutatedArray.length - 1].last = true;\n    }\n\n    return mutatedArray;\n};\n","'use strict';\n\nmodule.exports = Number.isFinite || function (value) {\n\treturn !(typeof value !== 'number' || value !== value || value === Infinity || value === -Infinity);\n};\n","'use strict';\nvar isFinite = require('is-finite');\n\nmodule.exports = function (str, n) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string as the first argument');\n\t}\n\n\tif (n < 0 || !isFinite(n)) {\n\t\tthrow new TypeError('Expected a finite positive number');\n\t}\n\n\tvar ret = '';\n\n\tdo {\n\t\tif (n & 1) {\n\t\t\tret += str;\n\t\t}\n\n\t\tstr += str;\n\t} while (n = n >> 1);\n\n\treturn ret;\n};\n","'use strict';\nvar repeating = require('repeating');\n\n// detect either spaces or tabs but not both to properly handle tabs\n// for indentation and spaces for alignment\nvar INDENT_RE = /^(?:( )+|\\t+)/;\n\nfunction getMostUsed(indents) {\n\tvar result = 0;\n\tvar maxUsed = 0;\n\tvar maxWeight = 0;\n\n\tfor (var n in indents) {\n\t\tvar indent = indents[n];\n\t\tvar u = indent[0];\n\t\tvar w = indent[1];\n\n\t\tif (u > maxUsed || u === maxUsed && w > maxWeight) {\n\t\t\tmaxUsed = u;\n\t\t\tmaxWeight = w;\n\t\t\tresult = +n;\n\t\t}\n\t}\n\n\treturn result;\n}\n\nmodule.exports = function (str) {\n\tif (typeof str !== 'string') {\n\t\tthrow new TypeError('Expected a string');\n\t}\n\n\t// used to see if tabs or spaces are the most used\n\tvar tabs = 0;\n\tvar spaces = 0;\n\n\t// remember the size of previous line's indentation\n\tvar prev = 0;\n\n\t// remember how many indents/unindents as occurred for a given size\n\t// and how much lines follow a given indentation\n\t//\n\t// indents = {\n\t//    3: [1, 0],\n\t//    4: [1, 5],\n\t//    5: [1, 0],\n\t//   12: [1, 0],\n\t// }\n\tvar indents = {};\n\n\t// pointer to the array of last used indent\n\tvar current;\n\n\t// whether the last action was an indent (opposed to an unindent)\n\tvar isIndent;\n\n\tstr.split(/\\n/g).forEach(function (line) {\n\t\tif (!line) {\n\t\t\t// ignore empty lines\n\t\t\treturn;\n\t\t}\n\n\t\tvar indent;\n\t\tvar matches = line.match(INDENT_RE);\n\n\t\tif (!matches) {\n\t\t\tindent = 0;\n\t\t} else {\n\t\t\tindent = matches[0].length;\n\n\t\t\tif (matches[1]) {\n\t\t\t\tspaces++;\n\t\t\t} else {\n\t\t\t\ttabs++;\n\t\t\t}\n\t\t}\n\n\t\tvar diff = indent - prev;\n\t\tprev = indent;\n\n\t\tif (diff) {\n\t\t\t// an indent or unindent has been detected\n\n\t\t\tisIndent = diff > 0;\n\n\t\t\tcurrent = indents[isIndent ? diff : -diff];\n\n\t\t\tif (current) {\n\t\t\t\tcurrent[0]++;\n\t\t\t} else {\n\t\t\t\tcurrent = indents[diff] = [1, 0];\n\t\t\t}\n\t\t} else if (current) {\n\t\t\t// if the last action was an indent, increment the weight\n\t\t\tcurrent[1] += +isIndent;\n\t\t}\n\t});\n\n\tvar amount = getMostUsed(indents);\n\n\tvar type;\n\tvar actual;\n\tif (!amount) {\n\t\ttype = null;\n\t\tactual = '';\n\t} else if (spaces >= tabs) {\n\t\ttype = 'space';\n\t\tactual = repeating(' ', amount);\n\t} else {\n\t\ttype = 'tab';\n\t\tactual = repeating('\\t', amount);\n\t}\n\n\treturn {\n\t\tamount: amount,\n\t\ttype: type,\n\t\tindent: actual\n\t};\n};\n","var utils = require('./utils');\nvar isRegExp = utils.isRegExp;\nvar leftPad = utils.leftPad;\nvar arrayChanges = require('array-changes');\nvar ukkonen = require('ukkonen');\nvar detectIndent = require('detect-indent');\nvar defaultDepth = require('./defaultDepth');\nvar AssertionString = require('./AssertionString');\n\nmodule.exports = function (expect) {\n  expect.addType({\n    name: 'wrapperObject',\n    identify: false,\n    equal: function equal(a, b, equal$1) {\n      return a === b || equal$1(this.unwrap(a), this.unwrap(b));\n    },\n    inspect: function inspect(value, depth, output, inspect$1) {\n      output.append(this.prefix(output.clone(), value));\n      output.append(inspect$1(this.unwrap(value), depth));\n      output.append(this.suffix(output.clone(), value));\n      return output;\n    },\n    diff: function diff(actual, expected, output, diff$1, inspect) {\n      output.inline = true;\n      actual = this.unwrap(actual);\n      expected = this.unwrap(expected);\n      var comparison = diff$1(actual, expected);\n      var prefixOutput = this.prefix(output.clone(), actual);\n      var suffixOutput = this.suffix(output.clone(), actual);\n      if (comparison && comparison.inline) {\n        return output\n          .append(prefixOutput)\n          .append(comparison)\n          .append(suffixOutput);\n      } else {\n        return output\n          .append(prefixOutput)\n          .nl()\n          .indentLines()\n          .i()\n          .block(function () {\n            this.append(inspect(actual))\n              .sp()\n              .annotationBlock(function () {\n                this.shouldEqualError(expected, inspect);\n                if (comparison) {\n                  this.nl(2).append(comparison);\n                }\n              });\n          })\n          .nl()\n          .outdentLines()\n          .append(suffixOutput);\n      }\n    },\n  });\n\n  expect.addType({\n    name: 'Symbol',\n    identify: function identify(obj) {\n      return typeof obj === 'symbol';\n    },\n    inspect: function inspect(obj, depth, output, inspect$1) {\n      return output\n        .jsKeyword('Symbol')\n        .text('(')\n        .singleQuotedString(obj.toString().replace(/^Symbol\\(|\\)$/g, ''))\n        .text(')');\n    },\n  });\n\n  expect.addType({\n    name: 'object',\n    indent: true,\n    forceMultipleLines: false,\n    identify: function identify(obj) {\n      return obj && typeof obj === 'object';\n    },\n    prefix: function prefix(output, obj) {\n      var constructor = obj.constructor;\n      var constructorName =\n        constructor &&\n        typeof constructor === 'function' &&\n        constructor !== Object &&\n        utils.getFunctionName(constructor);\n      if (constructorName && constructorName !== 'Object') {\n        output.text((constructorName + \"(\"));\n      }\n      return output.text('{');\n    },\n    property: function property(output, key, inspectedValue, isArrayLike) {\n      return output.propertyForObject(key, inspectedValue, isArrayLike);\n    },\n    suffix: function suffix(output, obj) {\n      output.text('}');\n      var constructor = obj.constructor;\n      var constructorName =\n        constructor &&\n        typeof constructor === 'function' &&\n        constructor !== Object &&\n        utils.getFunctionName(constructor);\n      if (constructorName && constructorName !== 'Object') {\n        output.text(')');\n      }\n      return output;\n    },\n    delimiter: function delimiter(output, i, length) {\n      if (i < length - 1) {\n        output.text(',');\n      }\n      return output;\n    },\n    getKeys: Object.getOwnPropertySymbols\n      ? function (obj) {\n          var keys = Object.getOwnPropertyNames(obj);\n          var symbols = Object.getOwnPropertySymbols(obj);\n          if (symbols.length > 0) {\n            return keys.concat(symbols);\n          } else {\n            return keys;\n          }\n        }\n      : Object.getOwnPropertyNames,\n    // If Symbol support is not detected default to undefined which, when\n    // passed to Array.prototype.sort, means \"natural\" (asciibetical) sort.\n    keyComparator:\n      typeof Symbol === 'function'\n        ? function (a, b) {\n            var aString = a;\n            var bString = b;\n            var aIsSymbol = typeof a === 'symbol';\n            var bIsSymbol = typeof b === 'symbol';\n            if (aIsSymbol) {\n              if (bIsSymbol) {\n                aString = a.toString();\n                bString = b.toString();\n              } else {\n                return 1;\n              }\n            } else if (bIsSymbol) {\n              return -1;\n            }\n\n            if (aString < bString) {\n              return -1;\n            } else if (aString > bString) {\n              return 1;\n            }\n\n            return 0;\n          }\n        : undefined,\n    equal: function equal(a, b, equal$1) {\n      return utils.checkObjectEqualityUsingType(a, b, this, equal$1);\n    },\n    hasKey: function hasKey(obj, key, own) {\n      if (own) {\n        return Object.prototype.hasOwnProperty.call(obj, key);\n      } else {\n        return key in obj;\n      }\n    },\n    inspect: function inspect(obj, depth, output, inspect$1) {\n      var keys = this.getKeys(obj);\n      if (keys.length === 0) {\n        this.prefix(output, obj);\n        this.suffix(output, obj);\n        return output;\n      }\n      var type = this;\n      var inspectedItems = keys.map(function (key, index) {\n        var propertyDescriptor =\n          Object.getOwnPropertyDescriptor &&\n          Object.getOwnPropertyDescriptor(obj, key);\n        var hasGetter = propertyDescriptor && propertyDescriptor.get;\n        var hasSetter = propertyDescriptor && propertyDescriptor.set;\n        var propertyOutput = output.clone();\n        if (hasSetter && !hasGetter) {\n          propertyOutput.text('set').sp();\n        }\n        // Inspect the setter function if there's no getter:\n        var value;\n        if (hasSetter && !hasGetter) {\n          value = hasSetter;\n        } else {\n          value = type.valueForKey(obj, key);\n        }\n\n        var inspectedValue = inspect$1(value);\n        if (value && value._expectIt) {\n          inspectedValue = output.clone().block(inspectedValue);\n        }\n        type.property(propertyOutput, key, inspectedValue);\n\n        propertyOutput.amend(\n          type.delimiter(output.clone(), index, keys.length)\n        );\n\n        if (hasGetter && hasSetter) {\n          propertyOutput.sp().jsComment('/* getter/setter */');\n        } else if (hasGetter) {\n          propertyOutput.sp().jsComment('/* getter */');\n        }\n\n        return propertyOutput;\n      });\n\n      var maxLineLength =\n        output.preferredWidth - (depth === Infinity ? 0 : depth) * 2 - 2;\n      var width = 0;\n      var compact =\n        inspectedItems.length > 5 ||\n        inspectedItems.every(function (inspectedItem) {\n          if (inspectedItem.isMultiline()) {\n            return false;\n          }\n          width += inspectedItem.size().width;\n          return width < maxLineLength;\n        });\n\n      var itemsOutput = output.clone();\n      if (compact) {\n        var currentLineLength = 0;\n        inspectedItems.forEach(function (inspectedItem, index) {\n          var size = inspectedItem.size();\n          currentLineLength += size.width + 1;\n          if (index > 0) {\n            if (size.height === 1 && currentLineLength < maxLineLength) {\n              itemsOutput.sp();\n            } else {\n              itemsOutput.nl();\n              currentLineLength = size.width;\n            }\n\n            if (size.height > 1) {\n              // Make sure that we don't append more to this line\n              currentLineLength = maxLineLength;\n            }\n          }\n          itemsOutput.append(inspectedItem);\n        });\n      } else {\n        inspectedItems.forEach(function (inspectedItem, index) {\n          if (index > 0) {\n            itemsOutput.nl();\n          }\n          itemsOutput.append(inspectedItem);\n        });\n      }\n\n      var prefixOutput = this.prefix(output.clone(), obj);\n      var suffixOutput = this.suffix(output.clone(), obj);\n      output.append(prefixOutput);\n      if (this.forceMultipleLines || itemsOutput.isMultiline()) {\n        if (!prefixOutput.isEmpty()) {\n          output.nl();\n        }\n        if (this.indent) {\n          output.indentLines().i();\n        }\n        output.block(itemsOutput);\n        if (this.indent) {\n          output.outdentLines();\n        }\n        if (!suffixOutput.isEmpty()) {\n          output.nl();\n        }\n      } else {\n        output\n          .sp(prefixOutput.isEmpty() ? 0 : 1)\n          .append(itemsOutput)\n          .sp(suffixOutput.isEmpty() ? 0 : 1);\n      }\n      return output.append(suffixOutput);\n    },\n    diff: function diff(actual, expected, output, diff$1, inspect, equal) {\n      if (actual.constructor !== expected.constructor) {\n        return output\n          .text('Mismatching constructors ')\n          .text(\n            (actual.constructor && utils.getFunctionName(actual.constructor)) ||\n              actual.constructor\n          )\n          .text(' should be ')\n          .text(\n            (expected.constructor &&\n              utils.getFunctionName(expected.constructor)) ||\n              expected.constructor\n          );\n      }\n\n      output.inline = true;\n      var actualKeys = this.getKeys(actual);\n      var expectedKeys = this.getKeys(expected);\n      var keys = this.uniqueKeys(actualKeys, expectedKeys);\n      var prefixOutput = this.prefix(output.clone(), actual);\n      output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n      if (this.indent) {\n        output.indentLines();\n      }\n      var type = this;\n      keys.forEach(function (key, index) {\n        output\n          .nl(index > 0 ? 1 : 0)\n          .i()\n          .block(function () {\n            var valueActual = type.valueForKey(actual, key);\n            var valueExpected = type.valueForKey(expected, key);\n            var annotation = output.clone();\n            var conflicting = !equal(valueActual, valueExpected);\n            var isInlineDiff = false;\n            var valueOutput;\n            if (conflicting) {\n              if (!type.hasKey(expected, key)) {\n                annotation.error('should be removed');\n                isInlineDiff = true;\n              } else if (!type.hasKey(actual, key)) {\n                this.error('// missing').sp();\n                valueOutput = output.clone().appendInspected(valueExpected);\n                isInlineDiff = true;\n              } else {\n                var keyDiff = diff$1(valueActual, valueExpected);\n                if (!keyDiff || (keyDiff && !keyDiff.inline)) {\n                  annotation.shouldEqualError(valueExpected);\n                  if (keyDiff) {\n                    annotation.nl(2).append(keyDiff);\n                  }\n                } else {\n                  isInlineDiff = true;\n                  valueOutput = keyDiff;\n                }\n              }\n            } else {\n              isInlineDiff = true;\n            }\n\n            if (!valueOutput) {\n              valueOutput = inspect(valueActual, conflicting ? Infinity : null);\n            }\n\n            valueOutput.amend(\n              type.delimiter(output.clone(), index, actualKeys.length)\n            );\n            if (!isInlineDiff) {\n              valueOutput = output.clone().block(valueOutput);\n            }\n            type.property(this, key, valueOutput);\n            if (!annotation.isEmpty()) {\n              this.sp().annotationBlock(annotation);\n            }\n          });\n      });\n\n      if (this.indent) {\n        output.outdentLines();\n      }\n      var suffixOutput = this.suffix(output.clone(), actual);\n      return output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n    },\n    similar: function similar(a, b) {\n      var this$1 = this;\n\n      if (a === null || b === null) {\n        return false;\n      }\n\n      var typeA = typeof a;\n      var typeB = typeof b;\n\n      if (typeA !== typeB) {\n        return false;\n      }\n\n      if (typeA === 'string') {\n        return ukkonen(a, b) < a.length / 2;\n      }\n\n      if (typeA !== 'object' || !a) {\n        return false;\n      }\n\n      if (utils.isArray(a) && utils.isArray(b)) {\n        return true;\n      }\n\n      var aKeys = this.getKeys(a);\n      var bKeys = this.getKeys(b);\n      var numberOfSimilarKeys = 0;\n      var requiredSimilarKeys = Math.round(\n        Math.max(aKeys.length, bKeys.length) / 2\n      );\n      return aKeys.concat(bKeys).some(function (key) {\n        if (this$1.hasKey(a, key) && this$1.hasKey(b, key)) {\n          numberOfSimilarKeys += 1;\n        }\n        return numberOfSimilarKeys >= requiredSimilarKeys;\n      });\n    },\n    uniqueKeys: utils.uniqueStringsAndSymbols,\n    valueForKey: function valueForKey(obj, key) {\n      return obj[key];\n    },\n  });\n\n  expect.addType({\n    name: 'type',\n    base: 'object',\n    identify: function identify(value) {\n      return value && value._unexpectedType;\n    },\n    inspect: function inspect(ref, depth, output) {\n      var name = ref.name;\n\n      return output.text('type: ').jsKeyword(name);\n    },\n  });\n\n  expect.addType({\n    name: 'array-like',\n    base: 'object',\n    identify: false,\n    numericalPropertiesOnly: true,\n    getKeys: function getKeys(obj) {\n      var keys = new Array(obj.length);\n      for (var i = 0; i < obj.length; i += 1) {\n        keys[i] = i;\n      }\n      if (!this.numericalPropertiesOnly) {\n        keys.push.apply(keys, this.getKeysNonNumerical(obj));\n      }\n      return keys;\n    },\n    getKeysNonNumerical: Object.getOwnPropertySymbols\n      ? function (obj) {\n          var keys = [];\n          Object.keys(obj).forEach(function (key) {\n            if (!utils.numericalRegExp.test(key)) {\n              keys.push(key);\n            }\n          });\n          var symbols = Object.getOwnPropertySymbols(obj);\n          if (symbols.length > 0) {\n            keys.push.apply(keys, symbols);\n          }\n          return keys;\n        }\n      : function (obj) {\n          var keys = [];\n          Object.keys(obj).forEach(function (key) {\n            if (!utils.numericalRegExp.test(key)) {\n              keys.push(key);\n            }\n          });\n          return keys;\n        },\n    equal: function equal(a, b, equal$1) {\n      var this$1 = this;\n\n      if (a === b) {\n        return true;\n      } else if (a.length !== b.length) {\n        return false;\n      } else if (expect.findTypeOf(a) !== expect.findTypeOf(b)) {\n        return false;\n      }\n\n      var i;\n\n      // compare numerically indexed elements\n      for (i = 0; i < a.length; i += 1) {\n        if (!equal$1(this.valueForKey(a, i), this.valueForKey(b, i))) {\n          return false;\n        }\n      }\n\n      // compare non-numerical keys if enabled for the type\n      if (!this.numericalPropertiesOnly) {\n        var aKeys = this.getKeysNonNumerical(a).filter(function (key) {\n          // include keys whose value is not undefined\n          return typeof this$1.valueForKey(a, key) !== 'undefined';\n        });\n        var bKeys = this.getKeysNonNumerical(b).filter(function (key) {\n          // include keys whose value is not undefined on either LHS or RHS\n          return (\n            typeof this$1.valueForKey(b, key) !== 'undefined' ||\n            typeof this$1.valueForKey(a, key) !== 'undefined'\n          );\n        });\n\n        if (aKeys.length !== bKeys.length) {\n          return false;\n        }\n\n        for (i = 0; i < aKeys.length; i += 1) {\n          if (\n            !equal$1(this.valueForKey(a, aKeys[i]), this.valueForKey(b, bKeys[i]))\n          ) {\n            return false;\n          }\n        }\n      }\n\n      return true;\n    },\n    prefix: function prefix(output) {\n      return output.text('[');\n    },\n    suffix: function suffix(output) {\n      return output.text(']');\n    },\n    inspect: function inspect(arr, depth, output, inspect$1) {\n      var this$1 = this;\n\n      var prefixOutput = this.prefix(output.clone(), arr);\n      var suffixOutput = this.suffix(output.clone(), arr);\n      var keys = this.getKeys(arr);\n      if (keys.length === 0) {\n        return output.append(prefixOutput).append(suffixOutput);\n      }\n\n      if (depth === 1 && arr.length > 10) {\n        return output.append(prefixOutput).text('...').append(suffixOutput);\n      }\n\n      var inspectedItems = keys.map(function (key) {\n        var inspectedValue;\n        if (this$1.hasKey(arr, key)) {\n          inspectedValue = inspect$1(this$1.valueForKey(arr, key));\n        } else if (utils.numericalRegExp.test(key)) {\n          // Sparse array entry\n          inspectedValue = output.clone();\n        } else {\n          // Not present non-numerical property returned by getKeys\n          inspectedValue = inspect$1(undefined);\n        }\n        return this$1.property(output.clone(), key, inspectedValue, true);\n      });\n\n      var currentDepth = defaultDepth - Math.min(defaultDepth, depth);\n      var maxLineLength =\n        output.preferredWidth - 20 - currentDepth * output.indentationWidth - 2;\n      var width = 0;\n      var multipleLines =\n        this.forceMultipleLines ||\n        inspectedItems.some(function (o) {\n          if (o.isMultiline()) {\n            return true;\n          }\n\n          var size = o.size();\n          width += size.width;\n          return width > maxLineLength;\n        });\n      inspectedItems.forEach(function (inspectedItem, index) {\n        inspectedItem.amend(this$1.delimiter(output.clone(), index, keys.length));\n      });\n      if (multipleLines) {\n        output.append(prefixOutput);\n        if (!prefixOutput.isEmpty()) {\n          output.nl();\n        }\n        if (this.indent) {\n          output.indentLines();\n        }\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output\n            .nl(index > 0 ? 1 : 0)\n            .i()\n            .block(inspectedItem);\n        });\n\n        if (this.indent) {\n          output.outdentLines();\n        }\n\n        if (!suffixOutput.isEmpty()) {\n          output.nl();\n        }\n\n        return output.append(suffixOutput);\n      } else {\n        output.append(prefixOutput).sp(prefixOutput.isEmpty() ? 0 : 1);\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output.append(inspectedItem);\n          var lastIndex = index === inspectedItems.length - 1;\n          if (!lastIndex) {\n            output.sp();\n          }\n        });\n        return output.sp(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n      }\n    },\n    diffLimit: 512,\n    diff: function diff(actual, expected, output, diff$1, inspect, equal) {\n      output.inline = true;\n\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment((\"Diff suppressed due to size > \" + (this.diffLimit)));\n        return output;\n      }\n\n      if (expect.findTypeOf(actual) !== expect.findTypeOf(expected)) {\n        return this.baseType.diff(actual, expected, output);\n      }\n\n      var prefixOutput = this.prefix(output.clone(), actual);\n      output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n      if (this.indent) {\n        output.indentLines();\n      }\n\n      var actualElements = utils.duplicateArrayLikeUsingType(actual, this);\n      var actualKeys = this.getKeys(actual);\n      var expectedElements = utils.duplicateArrayLikeUsingType(\n        expected,\n        this\n      );\n      var expectedKeys = this.getKeys(expected);\n      var nonNumericalKeysAndSymbols =\n        !this.numericalPropertiesOnly &&\n        utils.uniqueNonNumericalStringsAndSymbols(actualKeys, expectedKeys);\n\n      var type = this;\n      var changes = arrayChanges(\n        actualElements,\n        expectedElements,\n        equal,\n        function (a, b) { return type.similar(a, b); },\n        {\n          includeNonNumericalProperties: nonNumericalKeysAndSymbols,\n        }\n      );\n      var indexOfLastNonInsert = changes.reduce(\n        function (previousValue, diffItem, index) { return diffItem.type === 'insert' ? previousValue : index; },\n        -1\n      );\n      var packing = utils.packArrows(changes); // NOTE: Will have side effects in changes if the packing results in too many arrow lanes\n      output.arrowsAlongsideChangeOutputs(\n        packing,\n        changes.map(function (diffItem, index) {\n          var delimiterOutput = type.delimiter(\n            output.clone(),\n            index,\n            indexOfLastNonInsert + 1\n          );\n          if (diffItem.type === 'moveTarget') {\n            return output.clone();\n          } else {\n            return output.clone().block(function () {\n              if (diffItem.type === 'moveSource') {\n                var propertyOutput = type.property(\n                  output.clone(),\n                  diffItem.actualIndex,\n                  inspect(diffItem.value),\n                  true\n                );\n                this.amend(propertyOutput)\n                  .amend(delimiterOutput)\n                  .sp()\n                  .error('// should be moved');\n              } else if (diffItem.type === 'insert') {\n                this.annotationBlock(function () {\n                  this.error('missing ').block(function () {\n                    var index =\n                      typeof diffItem.actualIndex !== 'undefined'\n                        ? diffItem.actualIndex\n                        : diffItem.expectedIndex;\n                    var propertyOutput = type.property(\n                      output.clone(),\n                      index,\n                      inspect(diffItem.value),\n                      true\n                    );\n                    this.amend(propertyOutput);\n                  });\n                });\n              } else if (diffItem.type === 'remove') {\n                this.block(function () {\n                  var propertyOutput = type.property(\n                    output.clone(),\n                    diffItem.actualIndex,\n                    inspect(diffItem.value),\n                    true\n                  );\n                  this.amend(propertyOutput)\n                    .amend(delimiterOutput)\n                    .sp()\n                    .error('// should be removed');\n                });\n              } else if (diffItem.type === 'equal') {\n                this.block(function () {\n                  var propertyOutput = type.property(\n                    output.clone(),\n                    diffItem.actualIndex,\n                    inspect(diffItem.value),\n                    true\n                  );\n                  this.amend(propertyOutput).amend(delimiterOutput);\n                });\n              } else {\n                this.block(function () {\n                  var valueDiff = diff$1(diffItem.value, diffItem.expected);\n                  if (valueDiff && valueDiff.inline) {\n                    this.append(valueDiff).append(delimiterOutput);\n                  } else {\n                    var propertyOutput = type.property(\n                      output.clone(),\n                      diffItem.actualIndex,\n                      inspect(diffItem.value),\n                      true\n                    );\n                    this.append(propertyOutput)\n                      .append(delimiterOutput)\n                      .sp()\n                      .annotationBlock(function () {\n                        this.shouldEqualError(diffItem.expected, inspect);\n                        if (valueDiff) {\n                          this.nl(2).append(valueDiff);\n                        }\n                      });\n                  }\n                });\n              }\n            });\n          }\n        })\n      );\n\n      if (this.indent) {\n        output.outdentLines();\n      }\n\n      var suffixOutput = this.suffix(output.clone(), actual);\n      return output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n    },\n  });\n\n  expect.addType({\n    name: 'array',\n    base: 'array-like',\n    numericalPropertiesOnly: false,\n    identify: function identify(arr) {\n      return utils.isArray(arr);\n    },\n  });\n\n  expect.addType({\n    name: 'arguments',\n    base: 'array-like',\n    prefix: function prefix(output) {\n      return output.text('arguments(', 'cyan');\n    },\n    suffix: function suffix(output) {\n      return output.text(')', 'cyan');\n    },\n    identify: function identify(obj) {\n      return Object.prototype.toString.call(obj) === '[object Arguments]';\n    },\n  });\n\n  var errorMethodBlacklist = [\n    'message',\n    'name',\n    'description',\n    'line',\n    'number',\n    'column',\n    'sourceId',\n    'sourceURL',\n    'stack',\n    'stackArray',\n    '__stackCleaned__',\n    'isOperational', // added by the promise implementation,\n    '__callSiteEvals' ].reduce(function (result, prop) {\n    result[prop] = true;\n    return result;\n  }, {});\n\n  if (Object.prototype.hasOwnProperty.call(new Error(), 'arguments')) {\n    // node.js 0.10 adds two extra non-enumerable properties to Error instances:\n    errorMethodBlacklist.arguments = true;\n    errorMethodBlacklist.type = true;\n  }\n\n  expect.addType({\n    base: 'object',\n    name: 'Error',\n    identify: function identify(value) {\n      return utils.isError(value);\n    },\n    getKeys: function getKeys(value) {\n      var keys = this.baseType\n        .getKeys(value)\n        .filter(function (key) { return !errorMethodBlacklist[key]; });\n      keys.unshift('message');\n      return keys;\n    },\n    unwrap: function unwrap(value) {\n      return this.getKeys(value).reduce(function (result, key) {\n        result[key] = value[key];\n        return result;\n      }, {});\n    },\n    equal: function equal(a, b, equal$1) {\n      return (\n        a === b ||\n        (equal$1(a.message, b.message) &&\n          utils.checkObjectEqualityUsingType(a, b, this, equal$1))\n      );\n    },\n    inspect: function inspect(value, depth, output, inspect$1) {\n      output.errorName(value).text('(');\n      var keys = this.getKeys(value);\n      if (keys.length === 1 && keys[0] === 'message') {\n        if (value.message !== '') {\n          output.append(inspect$1(value.message));\n        }\n      } else {\n        output.append(inspect$1(this.unwrap(value), depth));\n      }\n      return output.text(')');\n    },\n    diff: function diff(actual, expected, output, diff$1) {\n      if (actual.constructor !== expected.constructor) {\n        return output\n          .text('Mismatching constructors ')\n          .errorName(actual)\n          .text(' should be ')\n          .errorName(expected);\n      }\n\n      output = diff$1(this.unwrap(actual), this.unwrap(expected));\n      if (output) {\n        output = output\n          .clone()\n          .errorName(actual)\n          .text('(')\n          .append(output)\n          .text(')');\n        output.inline = false;\n      }\n      return output;\n    },\n  });\n\n  var unexpectedErrorMethodBlacklist = [\n    'output',\n    '_isUnexpected',\n    'htmlMessage',\n    '_hasSerializedErrorMessage',\n    'expect',\n    'assertion',\n    'originalError' ].reduce(function (result, prop) {\n    result[prop] = true;\n    return result;\n  }, {});\n  expect.addType({\n    base: 'Error',\n    name: 'UnexpectedError',\n    identify: function identify(value) {\n      return (\n        value &&\n        typeof value === 'object' &&\n        value._isUnexpected &&\n        this.baseType.identify(value)\n      );\n    },\n    getKeys: function getKeys(value) {\n      return this.baseType\n        .getKeys(value)\n        .filter(function (key) { return !unexpectedErrorMethodBlacklist[key]; });\n    },\n    inspect: function inspect(value, depth, output) {\n      output.jsFunctionName(this.name).text('(');\n      var errorMessage = value.getErrorMessage(output);\n      if (errorMessage.isMultiline()) {\n        output.nl().indentLines().i().block(errorMessage).nl();\n      } else {\n        output.append(errorMessage);\n      }\n      return output.text(')');\n    },\n  });\n\n  expect.addType({\n    name: 'date',\n    identify: function identify(obj) {\n      return Object.prototype.toString.call(obj) === '[object Date]';\n    },\n    equal: function equal(a, b) {\n      return a.getTime() === b.getTime();\n    },\n    inspect: function inspect(date, depth, output, inspect$1) {\n      // TODO: Inspect \"new\" as an operator and Date as a built-in once we have the styles defined:\n      return output\n        .jsKeyword('new')\n        .sp()\n        .text('Date(')\n        .append(inspect$1(date.toISOString().replace(/\\.000Z$/, 'Z')).text(')'));\n    },\n  });\n\n  expect.addType({\n    base: 'object',\n    name: 'function',\n    identify: function identify(f) {\n      return typeof f === 'function';\n    },\n    getKeys: Object.keys,\n    equal: function equal(a, b) {\n      return a === b;\n    },\n    inspect: function inspect(f, depth, output, inspect$1) {\n      // Don't break when a function has its own custom #toString:\n      var source = Function.prototype.toString\n        .call(f)\n        .replace(/\\r\\n?|\\n\\r?/g, '\\n');\n      var name = utils.getFunctionName(f) || '';\n      var preamble;\n      var body;\n      var bodyIndent;\n      var matchSource = source.match(\n        /^\\s*((?:async )?\\s*(?:\\S+\\s*=>|\\([^)]*\\)\\s*=>|class|function\\s?(?:\\*\\s*)?\\w*\\s*\\([^)]*\\)))([\\s\\S]*)$/\n      );\n      if (matchSource) {\n        // Normalize so there's always space after \"function\" and never after \"*\" for generator functions:\n        preamble = matchSource[1]\n          .replace(/function(\\S)/, 'function $1')\n          .replace(/\\* /, '*');\n        if (preamble === 'function ()' && name) {\n          // fn.bind() doesn't seem to include the name in the .toString() output:\n          preamble = \"function \" + name + \"()\";\n        }\n        body = matchSource[2];\n        var matchBodyAndIndent = body.match(/^(\\s*\\{)([\\s\\S]*?)([ ]*)\\}\\s*$/);\n        var openingBrace;\n        var isWrappedInBraces = true;\n        var closingBrace = '}';\n        var reindentBodyLevel = 0;\n        if (matchBodyAndIndent) {\n          openingBrace = matchBodyAndIndent[1];\n          body = matchBodyAndIndent[2];\n          bodyIndent = matchBodyAndIndent[3] || '';\n          if (bodyIndent.length === 1) {\n            closingBrace = ' }';\n          }\n        } else {\n          // Attempt to match an arrow function with an implicit return body.\n          matchBodyAndIndent = body.match(/^(\\s*)([\\s\\S]*?)([ ]*)\\s*$/);\n\n          if (matchBodyAndIndent) {\n            openingBrace = matchBodyAndIndent[1];\n            isWrappedInBraces = false;\n            body = matchBodyAndIndent[2];\n            var matchInitialNewline = openingBrace.match(/^\\n( +)/);\n            if (matchInitialNewline) {\n              openingBrace = '\\n';\n              if (/\\n/.test(body)) {\n                // An arrow function whose body starts with a newline, as prettier likes to output, eg.:\n                //        () =>\n                //          foo(\n                //            1\n                //          );\n                // Shuffle/hack things around so it will be formatted correctly:\n                bodyIndent = matchInitialNewline[1];\n                reindentBodyLevel = 1;\n              } else {\n                body = body.replace(/^\\s*/, '  ');\n              }\n            } else {\n              bodyIndent = matchBodyAndIndent[3] || '';\n            }\n            closingBrace = '';\n          }\n        }\n\n        // Remove leading indentation unless the function is a one-liner or it uses multiline string literals\n        if (/\\n/.test(body) && !/\\\\\\n/.test(body)) {\n          body = body.replace(new RegExp((\"^ {\" + (bodyIndent.length) + \"}\"), 'mg'), '');\n          var indent = detectIndent(body);\n          body = body.replace(\n            new RegExp((\"^(?:\" + (indent.indent) + \")*\"), 'mg'),\n            function (ref) {\n                var length = ref.length;\n\n                return utils.leftPad(\n                '',\n                (length / indent.amount + reindentBodyLevel) *\n                  output.indentationWidth,\n                ' '\n              );\n          }\n          );\n        }\n        if (!name || name === 'anonymous') {\n          name = '';\n        }\n        if (/^\\s*\\[native code\\]\\s*$/.test(body)) {\n          body = ' /* native code */ ';\n          closingBrace = '}';\n        } else if (/^\\s*$/.test(body)) {\n          body = '';\n        } else if (\n          /^\\s*[^\\r\\n]{1,30}\\s*$/.test(body) &&\n          body.indexOf('//') === -1 &&\n          isWrappedInBraces\n        ) {\n          body = \" \" + (body.trim()) + \" \";\n          closingBrace = '}';\n        } else {\n          body = body.replace(\n            /^((?:.*\\n){3}( *).*\\n)[\\s\\S]*?\\n[\\s\\S]*?\\n((?:.*\\n){3})$/,\n            '$1$2// ... lines removed ...\\n$3'\n          );\n        }\n        if (matchBodyAndIndent) {\n          body = openingBrace + body + closingBrace;\n        } else {\n          // Strip trailing space from arrow function body\n          body = body.replace(/[ ]*$/, '');\n        }\n      } else {\n        preamble = \"function \" + name + \"( /*...*/ ) \";\n        body = '{ /*...*/ }';\n      }\n      return output.code(preamble + body, 'javascript');\n    },\n    diff: function diff(actual, expected, output) {\n      // Avoid rendering an object diff when both are functions\n      if (typeof actual !== 'function' || typeof expected !== 'function') {\n        return this.baseType.diff(actual, expected, output);\n      }\n    },\n  });\n\n  expect.addType({\n    name: 'Set',\n    base: 'object',\n    indent: true,\n    identify: function identify(obj) {\n      return obj instanceof Set;\n    },\n    equal: function equal(a, b, equal$1) {\n      if (a.size !== b.size) {\n        return false;\n      }\n      var unequal = false;\n      a.forEach(function (value) {\n        unequal = unequal || !b.has(value);\n      });\n      if (unequal) {\n        // Slow path\n        var bElements = [];\n        b.forEach(function (element) {\n          bElements.push(element);\n        });\n        unequal = false;\n        a.forEach(function (value) {\n          unequal =\n            unequal ||\n            (!b.has(value) &&\n              !bElements.some(function (bElement) { return equal$1(value, bElement); }));\n        });\n      }\n      return !unequal;\n    },\n    prefix: function prefix(output) {\n      return output.jsKeyword('new').sp().jsKeyword('Set').text('([');\n    },\n    suffix: function suffix(output) {\n      return output.text('])');\n    },\n    inspect: function inspect(set, depth, output, inspect$1) {\n      // Mostly copied from array-like's inspect:\n      var prefixOutput = this.prefix(output.clone(), set);\n      var suffixOutput = this.suffix(output.clone(), set);\n      if (set.size === 0) {\n        return output.append(prefixOutput).append(suffixOutput);\n      }\n\n      if (depth === 1 && set.size > 10) {\n        return output.append(prefixOutput).text('...').append(suffixOutput);\n      }\n\n      var inspectedItems = [];\n      set.forEach(function (item) {\n        inspectedItems.push(inspect$1(item));\n      });\n\n      var currentDepth = defaultDepth - Math.min(defaultDepth, depth);\n      var maxLineLength =\n        output.preferredWidth - 20 - currentDepth * output.indentationWidth - 2;\n      var width = 0;\n      var multipleLines = inspectedItems.some(function (o) {\n        if (o.isMultiline()) {\n          return true;\n        }\n\n        var size = o.size();\n        width += size.width;\n        return width > maxLineLength;\n      });\n\n      var type = this;\n      inspectedItems.forEach(function (inspectedItem, index) {\n        inspectedItem.amend(\n          type.delimiter(output.clone(), index, inspectedItems.length)\n        );\n      });\n\n      output.append(prefixOutput);\n      if (this.forceMultipleLines || multipleLines) {\n        if (!prefixOutput.isEmpty()) {\n          output.nl();\n        }\n        if (this.indent) {\n          output.indentLines();\n        }\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output\n            .nl(index > 0 ? 1 : 0)\n            .i()\n            .block(inspectedItem);\n        });\n        if (this.indent) {\n          output.outdentLines();\n        }\n        if (!suffixOutput.isEmpty()) {\n          output.nl();\n        }\n      } else {\n        output.sp(prefixOutput.isEmpty() ? 0 : 1);\n        inspectedItems.forEach(function (inspectedItem, index) {\n          output.append(inspectedItem);\n          var lastIndex = index === inspectedItems.length - 1;\n          if (!lastIndex) {\n            output.sp();\n          }\n        });\n        output.sp(suffixOutput.isEmpty() ? 0 : 1);\n      }\n      output.append(suffixOutput);\n    },\n    diff: function diff(actual, expected, output, diff$1, inspect, equal) {\n      output.inline = true;\n      var prefixOutput = this.prefix(output.clone(), actual);\n      var suffixOutput = this.suffix(output.clone(), actual);\n\n      output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n      if (this.indent) {\n        output.indentLines();\n      }\n      var type = this;\n      var index = 0;\n\n      var actualElements = [];\n      actual.forEach(function (element) {\n        actualElements.push(element);\n      });\n\n      var expectedElements = [];\n      expected.forEach(function (element) {\n        expectedElements.push(element);\n      });\n\n      actual.forEach(function (actualElement) {\n        output\n          .nl(index > 0 ? 1 : 0)\n          .i()\n          .block(function () {\n            this.appendInspected(actualElement);\n            type.delimiter(this, index, actual.size);\n            if (\n              !expected.has(actualElement) &&\n              !expectedElements.some(function (element) { return equal(element, actualElement); })\n            ) {\n              this.sp().annotationBlock(function () {\n                this.error('should be removed');\n              });\n            }\n          });\n        index += 1;\n      });\n      expected.forEach(function (expectedElement) {\n        if (\n          !actual.has(expectedElement) &&\n          !actualElements.some(function (element) { return equal(element, expectedElement); })\n        ) {\n          output\n            .nl(index > 0 ? 1 : 0)\n            .i()\n            .annotationBlock(function () {\n              this.error('missing').sp().appendInspected(expectedElement);\n            });\n          index += 1;\n        }\n      });\n      if (this.indent) {\n        output.outdentLines();\n      }\n      output.nl(suffixOutput.isEmpty() ? 0 : 1).append(suffixOutput);\n\n      return output;\n    },\n  });\n\n  expect.addType({\n    base: 'function',\n    name: 'expect.it',\n    identify: function identify(f) {\n      return typeof f === 'function' && f._expectIt;\n    },\n    inspect: function inspect(ref, depth, output, inspect$1) {\n      var _expectations = ref._expectations;\n      var _OR = ref._OR;\n\n      output.text('expect.it(');\n      var orBranch = false;\n      _expectations.forEach(function (expectation, index) {\n        if (expectation === _OR) {\n          orBranch = true;\n          return;\n        }\n\n        if (orBranch) {\n          output.text(')\\n      .or(');\n        } else if (index > 0) {\n          output.text(')\\n        .and(');\n        }\n\n        var args = Array.prototype.slice.call(expectation);\n        args.forEach(function (arg, i) {\n          if (i > 0) {\n            output.text(', ');\n          }\n          output.append(inspect$1(arg));\n        });\n        orBranch = false;\n      });\n\n      return output.amend(')');\n    },\n  });\n\n  expect.addType({\n    name: 'Promise',\n    base: 'object',\n    identify: function identify(obj) {\n      return (\n        obj && this.baseType.identify(obj) && typeof obj.then === 'function'\n      );\n    },\n    inspect: function inspect(promise, depth, output, inspect$1) {\n      output.jsFunctionName('Promise');\n      if (promise.isPending && promise.isPending()) {\n        output.sp().yellow('(pending)');\n      } else if (promise.isFulfilled && promise.isFulfilled()) {\n        output.sp().green('(fulfilled)');\n        if (promise.value) {\n          var value = promise.value();\n          if (typeof value !== 'undefined') {\n            output.sp().text('=>').sp().append(inspect$1(value));\n          }\n        }\n      } else if (promise.isRejected && promise.isRejected()) {\n        output.sp().red('(rejected)');\n        var reason = promise.reason();\n        if (typeof reason !== 'undefined') {\n          output.sp().text('=>').sp().append(inspect$1(promise.reason()));\n        }\n      }\n      return output;\n    },\n  });\n\n  expect.addType({\n    name: 'regexp',\n    base: 'object',\n    identify: isRegExp,\n    equal: function equal(a, b) {\n      return (\n        a === b ||\n        (a.source === b.source &&\n          a.global === b.global &&\n          a.ignoreCase === b.ignoreCase &&\n          a.multiline === b.multiline)\n      );\n    },\n    inspect: function inspect(regExp, depth, output) {\n      return output.jsRegexp(regExp);\n    },\n    diff: function diff(actual, expected, output, diff$1, inspect) {\n      output.inline = false;\n      return output.stringDiff(String(actual), String(expected), {\n        type: 'Chars',\n        markUpSpecialCharacters: true,\n      });\n    },\n  });\n\n  expect.addType({\n    name: 'binaryArray',\n    base: 'array-like',\n    digitWidth: 2,\n    hexDumpWidth: 16,\n    identify: false,\n    prefix: function prefix(output) {\n      return output.code(((this.name) + \"([\"), 'javascript');\n    },\n    suffix: function suffix(output) {\n      return output.code('])', 'javascript');\n    },\n    equal: function equal(a, b) {\n      if (a === b) {\n        return true;\n      }\n\n      if (a.length !== b.length) {\n        return false;\n      }\n\n      for (var i = 0; i < a.length; i += 1) {\n        if (a[i] !== b[i]) {\n          return false;\n        }\n      }\n\n      return true;\n    },\n    hexDump: function hexDump(obj, maxLength) {\n      var hexDump = '';\n      if (typeof maxLength !== 'number' || maxLength === 0) {\n        maxLength = obj.length;\n      }\n      for (var i = 0; i < maxLength; i += this.hexDumpWidth) {\n        if (hexDump.length > 0) {\n          hexDump += '\\n';\n        }\n        var hexChars = '';\n        var asciiChars = ' │';\n\n        for (var j = 0; j < this.hexDumpWidth; j += 1) {\n          if (i + j < maxLength) {\n            var octet = obj[i + j];\n            hexChars += (leftPad(\n              octet.toString(16).toUpperCase(),\n              this.digitWidth,\n              '0'\n            )) + \" \";\n            asciiChars += String.fromCharCode(octet)\n              .replace(/\\n/g, '␊')\n              .replace(/\\r/g, '␍');\n          } else if (this.digitWidth === 2) {\n            hexChars += '   ';\n          }\n        }\n\n        if (this.digitWidth === 2) {\n          hexDump += (hexChars + asciiChars) + \"│\";\n        } else {\n          hexDump += hexChars.replace(/\\s+$/, '');\n        }\n      }\n      return hexDump;\n    },\n    inspect: function inspect(obj, depth, output) {\n      this.prefix(output, obj);\n      var codeStr = '';\n      for (var i = 0; i < Math.min(this.hexDumpWidth, obj.length); i += 1) {\n        if (i > 0) {\n          codeStr += ', ';\n        }\n        var octet = obj[i];\n        codeStr += \"0x\" + (leftPad(\n          octet.toString(16).toUpperCase(),\n          this.digitWidth,\n          '0'\n        ));\n      }\n      if (obj.length > this.hexDumpWidth) {\n        codeStr += \" /* \" + (obj.length - this.hexDumpWidth) + \" more */ \";\n      }\n      output.code(codeStr, 'javascript');\n      this.suffix(output, obj);\n      return output;\n    },\n    diffLimit: 512,\n    diff: function diff(actual, expected, output, diff$1, inspect) {\n      output.inline = false;\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment((\"Diff suppressed due to size > \" + (this.diffLimit)));\n      } else {\n        output\n          .stringDiff(this.hexDump(actual), this.hexDump(expected), {\n            type: 'Chars',\n            markUpSpecialCharacters: false,\n          })\n          // eslint-disable-next-line no-control-regex\n          .replaceText(/[\\x00-\\x1f\\x7f-\\xff␊␍]/g, '.')\n          .replaceText(/[│ ]/g, function (styles, content) {\n            this.text(content);\n          });\n      }\n      return output;\n    },\n  });\n\n  [8, 16, 32].forEach(function (numBits) {\n    ['Int', 'Uint'].forEach(function (intOrUint) {\n      var constructorName = (intOrUint + numBits) + \"Array\";\n      var Constructor = global[constructorName];\n      expect.addType({\n        name: constructorName,\n        base: 'binaryArray',\n        hexDumpWidth: 128 / numBits,\n        digitWidth: numBits / 4,\n        identify:\n          Constructor !== 'undefined' &&\n          function (obj) {\n            return obj instanceof Constructor;\n          },\n      });\n    }, this);\n  }, this);\n\n  expect.addType({\n    name: 'Buffer',\n    base: 'binaryArray',\n    identify: typeof Buffer === 'function' && Buffer.isBuffer,\n    prefix: function prefix(output) {\n      return output.code(\"Buffer.from([\", 'javascript');\n    },\n  });\n\n  expect.addType({\n    name: 'string',\n    identify: function identify(value) {\n      return typeof value === 'string';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.singleQuotedString(value);\n    },\n    diffLimit: 65536,\n    diff: function diff(actual, expected, output, diff$1, inspect) {\n      if (Math.max(actual.length, expected.length) > this.diffLimit) {\n        output.jsComment((\"Diff suppressed due to size > \" + (this.diffLimit)));\n        return output;\n      }\n      output.stringDiff(actual, expected, {\n        type: 'WordsWithSpace',\n        markUpSpecialCharacters: true,\n      });\n      output.inline = false;\n      return output;\n    },\n  });\n\n  expect.addType({\n    name: 'number',\n    identify: function identify(value) {\n      return typeof value === 'number' && !isNaN(value);\n    },\n    inspect: function inspect(value, depth, output) {\n      if (value === 0 && 1 / value === -Infinity) {\n        value = '-0';\n      } else {\n        value = String(value);\n      }\n      return output.jsNumber(String(value));\n    },\n  });\n\n  expect.addType({\n    name: 'NaN',\n    identify: function identify(value) {\n      return typeof value === 'number' && isNaN(value);\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    },\n  });\n\n  expect.addType({\n    name: 'BigInt',\n    identify: function identify(value) {\n      return typeof value === 'bigint';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsNumber(value.toString()).code('n', 'javascript');\n    },\n  });\n\n  expect.addType({\n    name: 'boolean',\n    identify: function identify(value) {\n      return typeof value === 'boolean';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    },\n  });\n\n  expect.addType({\n    name: 'undefined',\n    identify: function identify(value) {\n      return typeof value === 'undefined';\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    },\n  });\n\n  expect.addType({\n    name: 'null',\n    identify: function identify(value) {\n      return value === null;\n    },\n    inspect: function inspect(value, depth, output) {\n      return output.jsPrimitive(value);\n    },\n  });\n\n  expect.addType({\n    name: 'assertion',\n    identify: function identify(value) {\n      return value instanceof AssertionString;\n    },\n  });\n};\n","\nmodule.exports = arrayDiff;\n\nvar MAX_STACK_DEPTH = 1000;\n\n// Based on some rough benchmarking, this algorithm is about O(2n) worst case,\n// and it can compute diffs on random arrays of length 1024 in about 34ms,\n// though just a few changes on an array of length 1024 takes about 0.5ms\n\narrayDiff.InsertDiff = InsertDiff;\narrayDiff.RemoveDiff = RemoveDiff;\narrayDiff.MoveDiff = MoveDiff;\n\nfunction InsertDiff(index, values) {\n    this.index = index;\n    this.values = values;\n}\nInsertDiff.prototype.type = 'insert';\nInsertDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , index: this.index\n        , values: this.values\n    };\n};\n\nfunction RemoveDiff(index, howMany) {\n    this.index = index;\n    this.howMany = howMany;\n}\nRemoveDiff.prototype.type = 'remove';\nRemoveDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , index: this.index\n        , howMany: this.howMany\n    };\n};\n\nfunction MoveDiff(from, to, howMany) {\n    this.from = from;\n    this.to = to;\n    this.howMany = howMany;\n}\nMoveDiff.prototype.type = 'move';\nMoveDiff.prototype.toJSON = function() {\n    return {\n        type: this.type\n        , from: this.from\n        , to: this.to\n        , howMany: this.howMany\n    };\n};\n\nfunction strictEqual(a, b, indexA, indexB, callback) {\n    return callback(a === b);\n}\n\n\nfunction arrayDiff(before, after, equalFn, callback) {\n    if (!equalFn) equalFn = strictEqual;\n\n    // Find all items in both the before and after array, and represent them\n    // as moves. Many of these \"moves\" may end up being discarded in the last\n    // pass if they are from an index to the same index, but we don't know this\n    // up front, since we haven't yet offset the indices.\n    //\n    // Also keep a map of all the indices accounted for in the before and after\n    // arrays. These maps are used next to create insert and remove diffs.\n    var beforeLength = before.length;\n    var afterLength = after.length;\n    var moves = [];\n    var beforeMarked = {};\n    var afterMarked = {};\n\n    function findMatching(beforeIndex, afterIndex, howMany, callback) {\n\n        beforeMarked[beforeIndex++] = afterMarked[afterIndex++] = true;\n        howMany++;\n\n        if (beforeIndex < beforeLength &&\n            afterIndex < afterLength &&\n            !afterMarked[afterIndex]) {\n\n            equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex, function (areEqual) {\n                if (areEqual) {\n                    setTimeout(function () {\n                        findMatching(beforeIndex, afterIndex, howMany, callback);\n                    }, 0);\n                } else {\n                    callback(beforeIndex, afterIndex, howMany);\n                }\n            });\n        } else {\n            callback(beforeIndex, afterIndex, howMany);\n        }\n\n\n    }\n\n    function compare(beforeIndex, afterIndex, stackDepthRemaining, callback) {\n        if (afterIndex >= afterLength) {\n            beforeIndex++;\n            afterIndex = 0;\n        }\n        if (beforeIndex >= beforeLength) {\n            callback();\n            return;\n        }\n\n        if (!afterMarked[afterIndex]) {\n            equalFn(before[beforeIndex], after[afterIndex], beforeIndex, afterIndex, function (areEqual) {\n                if (areEqual) {\n\n                    var from = beforeIndex;\n                    var to = afterIndex;\n                    findMatching(beforeIndex, afterIndex, 0, function (newBeforeIndex, newAfterIndex, howMany) {\n\n                        moves.push(new MoveDiff(from, to, howMany));\n                        if (stackDepthRemaining) {\n                            compare(newBeforeIndex, 0, stackDepthRemaining - 1, callback);\n                        } else {\n                            setTimeout(function () {\n                                compare(newBeforeIndex, 0, MAX_STACK_DEPTH, callback);\n                            }, 0);\n                        }\n                    });\n                } else {\n                    if (stackDepthRemaining) {\n                        compare(beforeIndex, afterIndex + 1, stackDepthRemaining - 1, callback);\n                    } else {\n                        setTimeout(function () {\n                            compare(beforeIndex, afterIndex + 1, MAX_STACK_DEPTH, callback);\n                        }, 0);\n                    }\n                }\n            });\n        } else {\n            if (stackDepthRemaining) {\n                compare(beforeIndex, afterIndex + 1, stackDepthRemaining - 1, callback);\n            } else {\n                setTimeout(function () {\n                    compare(beforeIndex, afterIndex + 1, MAX_STACK_DEPTH, callback);\n                }, 0);\n            }\n        }\n    }\n\n    compare(0, 0, MAX_STACK_DEPTH, function () {\n\n        // Create a remove for all of the items in the before array that were\n        // not marked as being matched in the after array as well\n        var removes = [];\n        for (var beforeIndex = 0; beforeIndex < beforeLength;) {\n            if (beforeMarked[beforeIndex]) {\n                beforeIndex++;\n                continue;\n            }\n            var index = beforeIndex;\n            var howMany = 0;\n            while (beforeIndex < beforeLength && !beforeMarked[beforeIndex++]) {\n                howMany++;\n            }\n            removes.push(new RemoveDiff(index, howMany));\n        }\n\n        // Create an insert for all of the items in the after array that were\n        // not marked as being matched in the before array as well\n        var inserts = [];\n        for (var afterIndex = 0; afterIndex < afterLength;) {\n            if (afterMarked[afterIndex]) {\n                afterIndex++;\n                continue;\n            }\n            var index = afterIndex;\n            var howMany = 0;\n            while (afterIndex < afterLength && !afterMarked[afterIndex++]) {\n                howMany++;\n            }\n            var values = after.slice(index, index + howMany);\n            inserts.push(new InsertDiff(index, values));\n        }\n\n        var insertsLength = inserts.length;\n        var removesLength = removes.length;\n        var movesLength = moves.length;\n        var i, j;\n\n        // Offset subsequent removes and moves by removes\n        var count = 0;\n        for (i = 0; i < removesLength; i++) {\n            var remove = removes[i];\n            remove.index -= count;\n            count += remove.howMany;\n            for (j = 0; j < movesLength; j++) {\n                var move = moves[j];\n                if (move.from >= remove.index) move.from -= remove.howMany;\n            }\n        }\n\n        // Offset moves by inserts\n        for (i = insertsLength; i--;) {\n            var insert = inserts[i];\n            var howMany = insert.values.length;\n            for (j = movesLength; j--;) {\n                var move = moves[j];\n                if (move.to >= insert.index) move.to -= howMany;\n            }\n        }\n\n        // Offset the to of moves by later moves\n        for (i = movesLength; i-- > 1;) {\n            var move = moves[i];\n            if (move.to === move.from) continue;\n            for (j = i; j--;) {\n                var earlier = moves[j];\n                if (earlier.to >= move.to) earlier.to -= move.howMany;\n                if (earlier.to >= move.from) earlier.to += move.howMany;\n            }\n        }\n\n        // Only output moves that end up having an effect after offsetting\n        var outputMoves = [];\n\n        // Offset the from of moves by earlier moves\n        for (i = 0; i < movesLength; i++) {\n            var move = moves[i];\n            if (move.to === move.from) continue;\n            outputMoves.push(move);\n            for (j = i + 1; j < movesLength; j++) {\n                var later = moves[j];\n                if (later.from >= move.from) later.from -= move.howMany;\n                if (later.from >= move.to) later.from += move.howMany;\n            }\n        }\n\n        callback(removes.concat(outputMoves, inserts));\n    });\n}\n","/*global setTimeout */\nvar arrayDiff = require('arraydiff-async');\nvar MAX_STACK_DEPTH = 1000;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i += 1) {\n        var source = arguments[i];\n        Object.keys(source).forEach(function (key) {\n            target[key] = source[key];\n        });\n    }\n    return target;\n}\n\nmodule.exports = function arrayChanges(actual, expected, equal, similar, includeNonNumericalProperties, arrayChangesCallback) {\n    if (typeof includeNonNumericalProperties === 'function') {\n        arrayChangesCallback = includeNonNumericalProperties;\n        includeNonNumericalProperties = false;\n    }\n    var mutatedArray = new Array(actual.length);\n\n    for (var k = 0; k < actual.length; k += 1) {\n        mutatedArray[k] = {\n            type: 'similar',\n            actualIndex: k,\n            value: actual[k]\n        };\n    }\n\n    similar = similar || function (a, b, aIndex, bIndex, callback) {\n            return callback(false);\n        };\n\n    arrayDiff([].concat(actual), [].concat(expected), function (a, b, aIndex, bIndex, callback) {\n        equal(a, b, aIndex, bIndex, function (isEqual) {\n            if (isEqual) {\n                return callback(true);\n            }\n            similar(a, b, aIndex, bIndex, function (isSimilar) {\n                return callback(isSimilar);\n            });\n        });\n    }, function (itemsDiff) {\n\n        function offsetIndex(index) {\n            var currentOffsetIndex = 0;\n            var i;\n            for (i = 0; i < mutatedArray.length && currentOffsetIndex < index; i += 1) {\n                if (mutatedArray[i].type !== 'remove' && mutatedArray[i].type !== 'moveSource') {\n                    currentOffsetIndex += 1;\n                }\n            }\n\n            return i;\n        }\n\n        var removes = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'remove';\n        });\n\n        var removedItems = 0;\n        removes.forEach(function (diffItem) {\n            var removeIndex = removedItems + diffItem.index;\n            mutatedArray.slice(removeIndex, diffItem.howMany + removeIndex).forEach(function (v) {\n                v.type = 'remove';\n            });\n            removedItems += diffItem.howMany;\n        });\n\n        var moves = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'move';\n        });\n\n        moves.forEach(function (diffItem) {\n            var moveFromIndex = offsetIndex(diffItem.from + 1) - 1;\n            var removed = mutatedArray.slice(moveFromIndex, diffItem.howMany + moveFromIndex);\n            var added = removed.map(function (v) {\n                return extend({}, v, { last: false, type: 'moveTarget' });\n            });\n            removed.forEach(function (v) {\n                v.type = 'moveSource';\n            });\n            var insertIndex = offsetIndex(diffItem.to);\n            Array.prototype.splice.apply(mutatedArray, [insertIndex, 0].concat(added));\n        });\n\n        var inserts = itemsDiff.filter(function (diffItem) {\n            return diffItem.type === 'insert';\n        });\n\n        inserts.forEach(function (diffItem) {\n            var added = new Array(diffItem.values.length);\n            for (var i = 0 ; i < diffItem.values.length ; i += 1) {\n                added[i] = {\n                    type: 'insert',\n                    value: diffItem.values[i]\n                };\n            }\n            Array.prototype.splice.apply(mutatedArray, [offsetIndex(diffItem.index), 0].concat(added));\n        });\n\n        var offset = 0;\n        mutatedArray.forEach(function (diffItem, index) {\n            var type = diffItem.type;\n            if (type === 'remove' || type === 'moveSource') {\n                offset -= 1;\n            } else if (type === 'similar') {\n                diffItem.expected = expected[offset + index];\n                diffItem.expectedIndex = offset + index;\n            }\n        });\n\n        var conflicts = mutatedArray.reduce(function (conflicts, item) {\n            return item.type === 'similar' || item.type === 'moveSource' || item.type === 'moveTarget' ? conflicts : conflicts + 1;\n        }, 0);\n\n        var end = Math.max(actual.length, expected.length);\n\n        var countConflicts = function (i, c, stackCallsRemaining, callback) {\n\n            if (i >= end || c > conflicts) {\n                // Do a setTimeout to let the stack unwind\n                return setTimeout(function () {\n                    callback(c);\n                }, 0);\n            }\n\n            similar(actual[i], expected[i], i, i, function (areSimilar) {\n                if (!areSimilar) {\n                    c += 1;\n                    if (stackCallsRemaining === 0) {\n                        return setTimeout(function () {\n                            countConflicts(i + 1, c, MAX_STACK_DEPTH, callback);\n                        });\n                    }\n                    return countConflicts(i + 1, c, stackCallsRemaining - 1, callback);\n                }\n                equal(actual[i], expected[i], i, i, function (areEqual) {\n                    if (!areEqual) {\n                        c += 1;\n                    }\n                    if (stackCallsRemaining === 0) {\n                        return setTimeout(function () {\n                            countConflicts(i + 1, c, MAX_STACK_DEPTH, callback);\n                        });\n                    }\n                    return countConflicts(i + 1, c, stackCallsRemaining - 1, callback);\n                });\n            });\n        };\n\n        countConflicts(0, 0, MAX_STACK_DEPTH, function (c) {\n            if (c <= conflicts) {\n                mutatedArray = [];\n                var j;\n                for (j = 0; j < Math.min(actual.length, expected.length); j += 1) {\n                    mutatedArray.push({\n                        type: 'similar',\n                        actualIndex: j,\n                        expectedIndex: j,\n                        value: actual[j],\n                        expected: expected[j]\n                    });\n                }\n\n                if (actual.length < expected.length) {\n                    for (; j < Math.max(actual.length, expected.length); j += 1) {\n                        mutatedArray.push({\n                            type: 'insert',\n                            value: expected[j]\n                        });\n                    }\n                } else {\n                    for (; j < Math.max(actual.length, expected.length); j += 1) {\n                        mutatedArray.push({\n                            type: 'remove',\n                            value: actual[j]\n                        });\n                    }\n                }\n            }\n\n            var setEqual = function (i, stackCallsRemaining, callback) {\n                if (i >= mutatedArray.length) {\n                    return callback();\n                }\n                var diffItem = mutatedArray[i];\n                if (diffItem.type === 'similar') {\n                    return equal(diffItem.value, diffItem.expected, diffItem.actualIndex, diffItem.expectedIndex, function (areEqual) {\n                        if (areEqual) {\n                            mutatedArray[i].type = 'equal';\n                        }\n                        if (stackCallsRemaining === 0) {\n                            return setTimeout(function () {\n                                setEqual(i + 1, MAX_STACK_DEPTH, callback);\n                            });\n                        }\n                        setEqual(i + 1, stackCallsRemaining - 1, callback);\n                    });\n                }\n                if (stackCallsRemaining === 0) {\n                    return setTimeout(function () {\n                        setEqual(i + 1, MAX_STACK_DEPTH, callback);\n                    });\n                }\n                return setEqual(i + 1, stackCallsRemaining - 1, callback);\n            };\n\n            if (includeNonNumericalProperties) {\n                var nonNumericalKeys;\n                if (Array.isArray(includeNonNumericalProperties)) {\n                    nonNumericalKeys = includeNonNumericalProperties;\n                } else {\n                    var isSeenByNonNumericalKey = {};\n                    nonNumericalKeys = [];\n                    [actual, expected].forEach(function (obj) {\n                        Object.keys(obj).forEach(function (key) {\n                            if (!/^(?:0|[1-9][0-9]*)$/.test(key) && !isSeenByNonNumericalKey[key]) {\n                                isSeenByNonNumericalKey[key] = true;\n                                nonNumericalKeys.push(key);\n                            }\n                        });\n                        if (Object.getOwnPropertySymbols) {\n                            Object.getOwnPropertySymbols(obj).forEach(function (symbol) {\n                                if (!isSeenByNonNumericalKey[symbol]) {\n                                    isSeenByNonNumericalKey[symbol] = true;\n                                    nonNumericalKeys.push(symbol);\n                                }\n                            });\n                        }\n                    });\n                }\n                nonNumericalKeys.forEach(function (key) {\n                    var valueExpected;\n\n                    if (key in actual) {\n                        var valueActual = actual[key];\n                        valueExpected = expected[key];\n\n                        if (key in expected && typeof valueExpected !== 'undefined') {\n                            valueExpected = expected[key];\n\n                            mutatedArray.push({\n                                type: 'similar',\n                                expectedIndex: key,\n                                actualIndex: key,\n                                value: valueActual,\n                                expected: valueExpected\n                            });\n                        } else if (typeof valueActual !== 'undefined') {\n                            mutatedArray.push({\n                                type: 'remove',\n                                actualIndex: key,\n                                value: valueActual\n                            });\n                        }\n                    } else {\n                        valueExpected = expected[key];\n\n                        if (typeof valueExpected !== 'undefined') {\n                            mutatedArray.push({\n                                type: 'insert',\n                                expectedIndex: key,\n                                value: valueExpected\n                            });\n                        }\n                    }\n                });\n            }\n\n            setEqual(0, MAX_STACK_DEPTH, function () {\n                if (mutatedArray.length > 0) {\n                    mutatedArray[mutatedArray.length - 1].last = true;\n                }\n\n                arrayChangesCallback(mutatedArray);\n            });\n        });\n    });\n};\n","var utils = require('./utils');\nvar arrayChanges = require('array-changes');\nvar arrayChangesAsync = require('array-changes-async');\nvar throwIfNonUnexpectedError = require('./throwIfNonUnexpectedError');\nvar objectIs = utils.objectIs;\nvar extend = utils.extend;\n\nmodule.exports = function (expect) {\n  expect.addAssertion('<any> [not] to be (ok|truthy)', function (expect, subject) {\n    var not = !!expect.flags.not;\n    var condition = !!subject;\n    if (condition === not) {\n      expect.fail();\n    }\n  });\n\n  expect.addAssertion(\n    '<any> [not] to be (ok|truthy) <string>',\n    function (expect, subject, message) {\n      var not = !!expect.flags.not;\n      var condition = !!subject;\n      if (condition === not) {\n        expect.fail({\n          errorMode: 'bubble',\n          message: message,\n        });\n      }\n    }\n  );\n\n  expect.addAssertion('<any> [not] to be <any>', function (expect, subject, value) {\n    if (objectIs(subject, value) === expect.flags.not) {\n      expect.fail({\n        label: 'should be',\n      });\n    }\n  });\n\n  expect.addAssertion(\n    '<string> [not] to be <string>',\n    function (expect, subject, value) {\n      expect(subject, '[not] to equal', value);\n    }\n  );\n\n  expect.addAssertion('<boolean> [not] to be true', function (expect, subject) {\n    expect(subject, '[not] to be', true);\n  });\n\n  expect.addAssertion('<boolean> [not] to be false', function (expect, subject) {\n    expect(subject, '[not] to be', false);\n  });\n\n  expect.addAssertion('<any> [not] to be falsy', function (expect, subject) {\n    expect(subject, '[!not] to be truthy');\n  });\n\n  expect.addAssertion(\n    '<any> [not] to be falsy <string>',\n    function (expect, subject, message) {\n      var not = !!expect.flags.not;\n      var condition = !!subject;\n      if (condition !== not) {\n        expect.fail({\n          errorMode: 'bubble',\n          message: message,\n        });\n      }\n    }\n  );\n\n  expect.addAssertion('<any> [not] to be null', function (expect, subject) {\n    expect(subject, '[not] to be', null);\n  });\n\n  expect.addAssertion('<any> [not] to be undefined', function (expect, subject) {\n    expect(typeof subject === 'undefined', '[not] to be truthy');\n  });\n\n  expect.addAssertion('<any> [not] to be defined', function (expect, subject) {\n    expect(subject, '[!not] to be undefined');\n  });\n\n  expect.addAssertion('<number|NaN> [not] to be NaN', function (expect, subject) {\n    expect(isNaN(subject), '[not] to be truthy');\n  });\n\n  expect.addAssertion(\n    '<number> [not] to be close to <number> <number?>',\n    function (expect, subject, value, epsilon) {\n      expect.errorMode = 'bubble';\n      if (typeof epsilon !== 'number') {\n        epsilon = 1e-9;\n      }\n\n      expect.withError(\n        function () {\n          expect(\n            Math.abs(subject - value),\n            '[not] to be less than or equal to',\n            epsilon\n          );\n        },\n        function (e) {\n          expect.fail(function (output) {\n            output\n              .error('expected ')\n              .appendInspected(subject)\n              .sp()\n              .error(expect.testDescription)\n              .sp()\n              .appendInspected(value)\n              .sp()\n              .text('(epsilon: ')\n              .jsNumber(epsilon.toExponential())\n              .text(')');\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<any> [not] to be (a|an) <type>',\n    function (expect, subject, type) {\n      expect.argsOutput[0] = function (output) {\n        output.text(type.name);\n      };\n      expect(type.identify(subject), '[not] to be true');\n    }\n  );\n\n  expect.addAssertion(\n    '<any> [not] to be (a|an) <string>',\n    function (expect, subject, typeName) {\n      typeName = /^reg(?:exp?|ular expression)$/.test(typeName)\n        ? 'regexp'\n        : typeName;\n      expect.argsOutput[0] = function (output) {\n        output.jsString(typeName);\n      };\n      if (!expect.getType(typeName)) {\n        expect.errorMode = 'nested';\n        expect.fail(function (output) {\n          output.error('Unknown type:').sp().jsString(typeName);\n        });\n      }\n      expect(expect.subjectType.is(typeName), '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    '<any> [not] to be (a|an) <function>',\n    function (expect, subject, Constructor) {\n      var className = utils.getFunctionName(Constructor);\n      if (className) {\n        expect.argsOutput[0] = function (output) {\n          output.text(className);\n        };\n      }\n      expect(subject instanceof Constructor, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    '<any> [not] to be one of <array>',\n    function (expect, subject, superset) {\n      var found = false;\n\n      for (var i = 0; i < superset.length; i += 1) {\n        found = found || objectIs(subject, superset[i]);\n      }\n\n      if (found === expect.flags.not) {\n        expect.fail();\n      }\n    }\n  );\n\n  // Alias for common '[not] to be (a|an)' assertions\n  expect.addAssertion(\n    '<any> [not] to be an (object|array)',\n    function (expect, subject) {\n      expect(subject, '[not] to be an', expect.alternations[0]);\n    }\n  );\n\n  expect.addAssertion(\n    '<any> [not] to be a (boolean|number|string|function|regexp|regex|regular expression|date)',\n    function (expect, subject) {\n      expect(subject, '[not] to be a', expect.alternations[0]);\n    }\n  );\n\n  expect.addAssertion(\n    '<string> to be (the empty|an empty|a non-empty) string',\n    function (expect, subject) {\n      expect(\n        subject,\n        expect.alternations[0] === 'a non-empty'\n          ? 'not to be empty'\n          : 'to be empty'\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<array-like> to be (the empty|an empty|a non-empty) array',\n    function (expect, subject) {\n      expect(\n        subject,\n        expect.alternations[0] === 'a non-empty'\n          ? 'not to be empty'\n          : 'to be empty'\n      );\n    }\n  );\n\n  expect.addAssertion('<string> to match <regexp>', function (expect, subject, regexp) { return expect.withError(\n      function () {\n        var captures = subject.match(regexp);\n        expect(captures, 'to be truthy');\n        return captures;\n      },\n      function (e) {\n        e.label = 'should match';\n        expect.fail(e);\n      }\n    ); }\n  );\n\n  expect.addAssertion(\n    '<string> not to match <regexp>',\n    function (expect, subject, regexp) { return expect.withError(\n        function () {\n          expect(regexp.test(subject), 'to be false');\n        },\n        function (e) {\n          expect.fail({\n            label: 'should not match',\n            diff: function diff(output) {\n              output.inline = false;\n              var lastIndex = 0;\n              function flushUntilIndex(i) {\n                if (i > lastIndex) {\n                  output.text(subject.substring(lastIndex, i));\n                  lastIndex = i;\n                }\n              }\n              subject.replace(new RegExp(regexp.source, 'g'), function ($0, index) {\n                flushUntilIndex(index);\n                lastIndex += $0.length;\n                output.removedHighlight($0);\n              });\n              flushUntilIndex(subject.length);\n              return output;\n            },\n          });\n        }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<object> [not] to have own property <string|Symbol>',\n    function (expect, subject, key) {\n      expect(\n        Object.prototype.hasOwnProperty.call(subject, key),\n        '[not] to be truthy'\n      );\n      return subject[key];\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to have (enumerable|unenumerable|configurable|unconfigurable|writable|unwritable|readonly) property <string|Symbol>',\n    function (expect, subject, key) {\n      var attribute = expect.alternations[0];\n      var negated = false;\n      if (attribute.indexOf('un') === 0) {\n        attribute = attribute.substr(2);\n        negated = true;\n      } else if (attribute === 'readonly') {\n        attribute = 'writable';\n        negated = true;\n      }\n      var descriptor = Object.getOwnPropertyDescriptor(subject, key);\n      expect(descriptor, 'to be defined');\n      expect(descriptor[attribute] !== negated, 'to be true');\n      return subject[key];\n    }\n  );\n\n  expect.addAssertion(\n    '<object> [not] to have property <string|Symbol>',\n    function (expect, subject, key) {\n      var subjectType = expect.findTypeOf(subject);\n      var subjectKey = subjectType.is('function')\n        ? subject[key]\n        : subjectType.valueForKey(subject, key);\n      expect(subjectKey, '[!not] to be undefined');\n      return subjectKey;\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to have [own] property <string|Symbol> <any>',\n    function (expect, subject, key, expectedPropertyValue) { return expect(subject, 'to have [own] property', key).then(\n        function (actualPropertyValue) {\n          expect.argsOutput = function () {\n            this.appendInspected(key)\n              .sp()\n              .error('with a value of')\n              .sp()\n              .appendInspected(expectedPropertyValue);\n          };\n          expect(actualPropertyValue, 'to equal', expectedPropertyValue);\n          return actualPropertyValue;\n        }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<object> [not] to [only] have [own] properties <array>',\n    function (expect, subject, propertyNames) {\n      var unsupportedPropertyNames = propertyNames.filter(function (propertyName) {\n        var type = typeof propertyName;\n        return type !== 'string' && type !== 'number' && type !== 'symbol';\n      });\n      if (unsupportedPropertyNames.length > 0) {\n        expect.errorMode = 'nested';\n        expect.fail(function () {\n          this.error(\n            'All expected properties must be passed as strings, symbols, or numbers, but these are not:'\n          ).indentLines();\n          unsupportedPropertyNames.forEach(function (propertyName) {\n            this.nl().i().appendInspected(propertyName);\n          }, this);\n          this.outdentLines();\n        });\n      }\n\n      if (expect.flags.only) {\n        if (expect.flags.not) {\n          expect.errorMode = 'bubble';\n          expect.fail(\n            'The \"not\" flag cannot be used together with \"to only have properties\".'\n          );\n        }\n        if (expect.flags.own) {\n          expect.errorMode = 'bubble';\n          expect.fail(\n            'The \"own\" flag cannot be used together with \"to only have properties\".'\n          );\n        }\n        var subjectType = expect.subjectType;\n        var subjectKeys = subjectType.getKeys(subject).filter(\n          function (key) { return typeof subjectType.valueForKey(subject, key) !== 'undefined'; }\n        );\n\n        expect.withError(\n          function () {\n            expect(subjectKeys.length === propertyNames.length, 'to be true');\n            // now catch differing property names\n            var keyInValue = {};\n            propertyNames.forEach(function (key) {\n              keyInValue[key] = true;\n            });\n            subjectKeys.forEach(function (key) { return expect(\n                Object.prototype.hasOwnProperty.call(keyInValue, key),\n                'to be true'\n              ); }\n            );\n          },\n          function () {\n            expect.fail({\n              diff: function (output, diff, inspect, equal) {\n                output.inline = true;\n\n                var keyInValue = {};\n                propertyNames.forEach(function (key) {\n                  keyInValue[key] = true;\n                });\n\n                subjectType.prefix(output, subject);\n                output.nl().indentLines();\n\n                subjectKeys.forEach(function (key, index) {\n                  var propertyOutput = subjectType.property(\n                    output.clone(),\n                    key,\n                    inspect(subjectType.valueForKey(subject, key))\n                  );\n                  var delimiterOutput = subjectType.delimiter(\n                    output.clone(),\n                    index,\n                    subjectKeys.length\n                  );\n\n                  output\n                    .i()\n                    .block(function () {\n                      this.append(propertyOutput).amend(delimiterOutput);\n                      if (\n                        !Object.prototype.hasOwnProperty.call(keyInValue, key)\n                      ) {\n                        this.sp().annotationBlock(function () {\n                          this.error('should be removed');\n                        });\n                      } else {\n                        delete keyInValue[key];\n                      }\n                    })\n                    .nl();\n                });\n\n                // list any remaining value properties as missing\n                Object.keys(keyInValue).forEach(function (valueKey) {\n                  output\n                    .i()\n                    .annotationBlock(function () {\n                      this.error('missing').sp().append(inspect(valueKey));\n                    })\n                    .nl();\n                });\n\n                output.outdentLines();\n                subjectType.suffix(output, subject);\n\n                return output;\n              },\n            });\n          }\n        );\n      } else {\n        propertyNames.forEach(function (propertyName) {\n          expect(\n            subject,\n            '[not] to have [own] property',\n            typeof propertyName === 'number'\n              ? String(propertyName)\n              : propertyName\n          );\n        });\n      }\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to have [own] properties <object>',\n    function (expect, subject, properties) {\n      expect.withError(\n        function () {\n          Object.keys(properties).forEach(function (property) {\n            var value = properties[property];\n            if (typeof value === 'undefined') {\n              expect(subject, 'not to have [own] property', property);\n            } else {\n              expect(subject, 'to have [own] property', property, value);\n            }\n          });\n        },\n        function (e) {\n          expect.fail({\n            diff: function diff(output, diff$1) {\n              output.inline = false;\n              var expected = extend({}, properties);\n              var actual = {};\n              var propertyNames = expect.findTypeOf(subject).getKeys(subject);\n              // Might put duplicates into propertyNames, but that does not matter:\n              for (var propertyName in subject) {\n                if (\n                  !Object.prototype.hasOwnProperty.call(subject, propertyName)\n                ) {\n                  propertyNames.push(propertyName);\n                }\n              }\n              propertyNames.forEach(function (propertyName) {\n                if (\n                  (!expect.flags.own ||\n                    Object.prototype.hasOwnProperty.call(\n                      subject,\n                      propertyName\n                    )) &&\n                  !(propertyName in properties)\n                ) {\n                  expected[propertyName] = subject[propertyName];\n                }\n                if (\n                  (!expect.flags.own ||\n                    Object.prototype.hasOwnProperty.call(\n                      subject,\n                      propertyName\n                    )) &&\n                  !(propertyName in actual)\n                ) {\n                  actual[propertyName] = subject[propertyName];\n                }\n              });\n              return utils.wrapConstructorNameAroundOutput(\n                diff$1(actual, expected),\n                subject\n              );\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<string|array-like> [not] to have length <number>',\n    function (expect, subject, length) {\n      if (!expect.flags.not) {\n        expect.errorMode = 'nested';\n      }\n      expect(subject.length, '[not] to be', length);\n    }\n  );\n\n  expect.addAssertion(\n    '<string|array-like> [not] to be empty',\n    function (expect, subject) {\n      expect(subject, '[not] to have length', 0);\n    }\n  );\n\n  expect.addAssertion(\n    '<string|array-like|object> to be non-empty',\n    function (expect, subject) {\n      expect(subject, 'not to be empty');\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to [not] [only] have keys <array>',\n    function (expect, subject, keys) {\n      var keysInSubject = {};\n      var subjectType = expect.findTypeOf(subject);\n      var subjectKeys = subjectType.getKeys(subject);\n      subjectKeys.forEach(function (key) {\n        keysInSubject[key] = true;\n      });\n\n      if (expect.flags.not && keys.length === 0) {\n        return;\n      }\n\n      var hasKeys = keys.every(function (key) { return keysInSubject[key]; });\n\n      if (expect.flags.only) {\n        expect(hasKeys, 'to be truthy');\n        expect.withError(\n          function () {\n            expect(subjectKeys.length === keys.length, '[not] to be truthy');\n          },\n          function () {\n            expect.fail({\n              diff:\n                !expect.flags.not &&\n                (function (output, diff, inspect, equal) {\n                  output.inline = true;\n                  var keyInValue = {};\n                  keys.forEach(function (key) {\n                    keyInValue[key] = true;\n                  });\n                  var subjectIsArrayLike = subjectType.is('array-like');\n\n                  subjectType.prefix(output, subject);\n                  output.nl().indentLines();\n\n                  subjectKeys.forEach(function (key, index) {\n                    var propertyOutput = subjectType.property(\n                      output.clone(),\n                      key,\n                      inspect(subjectType.valueForKey(subject, key)),\n                      subjectIsArrayLike\n                    );\n                    var delimiterOutput = subjectType.delimiter(\n                      output.clone(),\n                      index,\n                      subjectKeys.length\n                    );\n\n                    output\n                      .i()\n                      .block(function () {\n                        this.append(propertyOutput).amend(delimiterOutput);\n                        if (!keyInValue[key]) {\n                          this.sp().annotationBlock(function () {\n                            this.error('should be removed');\n                          });\n                        }\n                      })\n                      .nl();\n                  });\n\n                  output.outdentLines();\n                  subjectType.suffix(output, subject);\n\n                  return output;\n                }),\n            });\n          }\n        );\n      } else {\n        expect(hasKeys, '[not] to be truthy');\n      }\n    }\n  );\n\n  expect.addAssertion('<object> [not] to be empty', function (expect, subject) {\n    if (\n      expect.flags.not &&\n      !expect.findTypeOf(subject).getKeys(subject).length\n    ) {\n      return expect.fail();\n    }\n    expect(subject, 'to [not] only have keys', []);\n  });\n\n  expect.addAssertion(\n    '<object> not to have keys <array>',\n    function (expect, subject, keys) {\n      expect(subject, 'to not have keys', keys);\n    }\n  );\n\n  expect.addAssertion(\n    '<object> not to have key <string>',\n    function (expect, subject, value) {\n      expect(subject, 'to not have keys', [value]);\n    }\n  );\n\n  expect.addAssertion(\n    '<object> not to have keys <string+>',\n    function (expect, subject, value) {\n      expect(\n        subject,\n        'to not have keys',\n        Array.prototype.slice.call(arguments, 2)\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to [not] [only] have key <string>',\n    function (expect, subject, value) {\n      expect(subject, 'to [not] [only] have keys', [value]);\n    }\n  );\n\n  expect.addAssertion(\n    '<object> to [not] [only] have keys <string+>',\n    function (expect, subject) {\n      expect(\n        subject,\n        'to [not] [only] have keys',\n        Array.prototype.slice.call(arguments, 2)\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<string> [not] to contain <string+>',\n    function (expect, subject) {\n      var args = Array.prototype.slice.call(arguments, 2);\n      args.forEach(function (arg) {\n        if (arg === '') {\n          throw new Error(\n            (\"The '\" + (expect.testDescription) + \"' assertion does not support the empty string\")\n          );\n        }\n      });\n      expect.withError(\n        function () {\n          args.forEach(function (arg) {\n            expect(subject.indexOf(arg) !== -1, '[not] to be truthy');\n          });\n        },\n        function (e) {\n          expect.fail({\n            diff: function diff(output) {\n              output.inline = false;\n              var lastIndex = 0;\n              function flushUntilIndex(i) {\n                if (i > lastIndex) {\n                  output.text(subject.substring(lastIndex, i));\n                  lastIndex = i;\n                }\n              }\n              if (expect.flags.not) {\n                subject.replace(\n                  new RegExp(\n                    args\n                      .map(function (arg) { return utils.escapeRegExpMetaChars(arg); })\n                      .join('|'),\n                    'g'\n                  ),\n                  function ($0, index) {\n                    flushUntilIndex(index);\n                    lastIndex += $0.length;\n                    output.removedHighlight($0);\n                  }\n                );\n                flushUntilIndex(subject.length);\n              } else {\n                var ranges = [];\n                args.forEach(function (arg) {\n                  var needle = arg;\n                  var partial = false;\n                  while (needle.length > 1) {\n                    var found = false;\n                    lastIndex = -1;\n                    var index = (void 0);\n                    do {\n                      index = subject.indexOf(needle, lastIndex + 1);\n                      if (index !== -1) {\n                        found = true;\n                        ranges.push({\n                          startIndex: index,\n                          endIndex: index + needle.length,\n                          partial: partial,\n                        });\n                      }\n                      lastIndex = index;\n                    } while (lastIndex !== -1);\n                    if (found) {\n                      break;\n                    }\n                    needle = arg.substr(0, needle.length - 1);\n                    partial = true;\n                  }\n                });\n                lastIndex = 0;\n                ranges\n                  .sort(function (a, b) { return a.startIndex - b.startIndex; })\n                  .forEach(function (ref) {\n                    var startIndex = ref.startIndex;\n                    var endIndex = ref.endIndex;\n                    var partial = ref.partial;\n\n                    flushUntilIndex(startIndex);\n                    var firstUncoveredIndex = Math.max(startIndex, lastIndex);\n                    if (endIndex > firstUncoveredIndex) {\n                      if (partial) {\n                        output.partialMatch(\n                          subject.substring(firstUncoveredIndex, endIndex)\n                        );\n                      } else {\n                        output.match(\n                          subject.substring(firstUncoveredIndex, endIndex)\n                        );\n                      }\n                      lastIndex = endIndex;\n                    }\n                  });\n                flushUntilIndex(subject.length);\n              }\n              return output;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<array-like> to [only] contain <any+>',\n      '<array-like> [not] to contain <any+>' ],\n    function (expect, subject) {\n      var args = Array.prototype.slice.call(arguments, 2);\n\n      expect.withError(\n        function () {\n          args.forEach(function (arg) {\n            expect(\n              Array.prototype.some.call(subject, function (item) { return expect.equal(item, arg); }\n              ),\n              '[not] to be truthy'\n            );\n          });\n          if (expect.flags.only) {\n            expect(\n              Array.prototype.every.call(subject, function (item) { return Array.prototype.some.call(args, function (arg) { return expect.equal(item, arg); }\n                ); }\n              ),\n              'to be truthy'\n            );\n          }\n        },\n        function (e) {\n          expect.fail({\n            diff: function diff(output, diff$1, inspect, equal) {\n              if (expect.flags.not) {\n                return diff$1(\n                  subject,\n                  Array.prototype.filter.call(\n                    subject,\n                    function (item) { return !args.some(function (arg) { return equal(item, arg); }); }\n                  )\n                );\n              } else if (expect.flags.only) {\n                var excessItems = Array.prototype.filter.call(\n                  subject,\n                  function (item) { return args.some(function (arg) { return equal(item, arg); }); }\n                );\n                var missingItems = args.filter(\n                  function (arg) { return !Array.prototype.some.call(subject, function (item) { return equal(arg, item); }\n                    ); }\n                );\n\n                return diff$1(subject, excessItems.concat( missingItems));\n              }\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<string> [not] to begin with <string>',\n      '<string> [not] to start with <string>' ],\n    function (expect, subject, value) {\n      if (value === '') {\n        throw new Error(\n          (\"The '\" + (expect.testDescription) + \"' assertion does not support a prefix of the empty string\")\n        );\n      }\n      var isTruncated = false;\n      var outputSubject = utils.truncateSubjectStringForBegin(subject, value);\n      if (outputSubject === null) {\n        outputSubject = subject;\n      } else {\n        isTruncated = true;\n      }\n      expect.subjectOutput = function (output) {\n        output = output.jsString(\n          \"'\" + outputSubject.replace(/\\n/g, '\\\\n') + \"'\"\n        );\n        if (isTruncated) {\n          output.jsComment('...');\n        }\n      };\n      expect.withError(\n        function () {\n          expect(subject.substr(0, value.length), '[not] to equal', value);\n        },\n        function () {\n          expect.fail({\n            diff: function diff(output) {\n              output.inline = false;\n              if (expect.flags.not) {\n                output\n                  .removedHighlight(value)\n                  .text(subject.substr(value.length));\n              } else {\n                var i = 0;\n                while (subject[i] === value[i]) {\n                  i += 1;\n                }\n                if (i === 0) {\n                  // No common prefix, omit diff\n                  return null;\n                } else {\n                  output\n                    .partialMatch(subject.substr(0, i))\n                    .text(outputSubject.substr(i))\n                    .jsComment(isTruncated ? '...' : '');\n                }\n              }\n              return output;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<string> [not] to end with <string>',\n    function (expect, subject, value) {\n      if (value === '') {\n        throw new Error(\n          (\"The '\" + (expect.testDescription) + \"' assertion does not support a suffix of the empty string\")\n        );\n      }\n      var isTruncated = false;\n      var outputSubject = utils.truncateSubjectStringForEnd(subject, value);\n      if (outputSubject === null) {\n        outputSubject = subject;\n      } else {\n        isTruncated = true;\n      }\n      expect.subjectOutput = function (output) {\n        if (isTruncated) {\n          output = output.jsComment('...');\n        }\n        output.jsString(\"'\" + outputSubject.replace(/\\n/g, '\\\\n') + \"'\");\n      };\n      expect.withError(\n        function () {\n          expect(subject.substr(-value.length), '[not] to equal', value);\n        },\n        function () {\n          expect.fail({\n            diff: function diff(output) {\n              output.inline = false;\n              if (expect.flags.not) {\n                output\n                  .text(subject.substr(0, subject.length - value.length))\n                  .removedHighlight(value);\n              } else {\n                var i = 0;\n                while (\n                  outputSubject[outputSubject.length - 1 - i] ===\n                  value[value.length - 1 - i]\n                ) {\n                  i += 1;\n                }\n                if (i === 0) {\n                  // No common suffix, omit diff\n                  return null;\n                }\n                output\n                  .jsComment(isTruncated ? '...' : '')\n                  .text(outputSubject.substr(0, outputSubject.length - i))\n                  .partialMatch(\n                    outputSubject.substr(\n                      outputSubject.length - i,\n                      outputSubject.length\n                    )\n                  );\n              }\n              return output;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion('<number> [not] to be finite', function (expect, subject) {\n    expect(isFinite(subject), '[not] to be truthy');\n  });\n\n  expect.addAssertion('<number> [not] to be infinite', function (expect, subject) {\n    expect(!isNaN(subject) && !isFinite(subject), '[not] to be truthy');\n  });\n\n  expect.addAssertion(\n    [\n      '<number> [not] to be within <number> <number>',\n      '<BigInt> [not] to be within <BigInt> <BigInt>',\n      '<string> [not] to be within <string> <string>' ],\n    function (expect, subject, start, finish) {\n      expect.argsOutput = function (output) {\n        output.appendInspected(start).text('..').appendInspected(finish);\n      };\n      expect(subject >= start && subject <= finish, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<number> [not] to be (less than|below) <number>',\n      '<BigInt> [not] to be (less than|below) <BigInt>',\n      '<string> [not] to be (less than|below) <string>' ],\n    function (expect, subject, value) {\n      expect(subject < value, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    '<string> [not] to be (less than|below) <string>',\n    function (expect, subject, value) {\n      expect(subject < value, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<number> [not] to be less than or equal to <number>',\n      '<BigInt> [not] to be less than or equal to <BigInt>',\n      '<string> [not] to be less than or equal to <string>' ],\n    function (expect, subject, value) {\n      expect(subject <= value, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<number> [not] to be (greater than|above) <number>',\n      '<BigInt> [not] to be (greater than|above) <BigInt>',\n      '<string> [not] to be (greater than|above) <string>' ],\n    function (expect, subject, value) {\n      expect(subject > value, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<number> [not] to be greater than or equal to <number>',\n      '<BigInt> [not] to be greater than or equal to <BigInt>',\n      '<string> [not] to be greater than or equal to <string>' ],\n    function (expect, subject, value) {\n      expect(subject >= value, '[not] to be truthy');\n    }\n  );\n\n  expect.addAssertion('<number> [not] to be positive', function (expect, subject) {\n    expect(subject, '[not] to be greater than', 0);\n  });\n\n  expect.addAssertion('<BigInt> [not] to be positive', function (expect, subject) {\n    expect(subject > 0, '[not] to be true');\n  });\n\n  expect.addAssertion('<number> [not] to be negative', function (expect, subject) {\n    expect(subject, '[not] to be less than', 0);\n  });\n\n  expect.addAssertion('<BigInt> [not] to be negative', function (expect, subject) {\n    expect(subject < 0, '[not] to be true');\n  });\n\n  expect.addAssertion('<any> to equal <any>', function (expect, subject, value) {\n    expect.withError(\n      function () {\n        expect(expect.equal(value, subject), 'to be truthy');\n      },\n      function (e) {\n        expect.fail({\n          label: 'should equal',\n          diff: function diff(output, diff$1) {\n            return diff$1(subject, value);\n          },\n        });\n      }\n    );\n  });\n\n  expect.addAssertion('<any> not to equal <any>', function (expect, subject, value) {\n    expect(expect.equal(value, subject), 'to be falsy');\n  });\n\n  expect.addAssertion('<function> to error', function (expect, subject) { return expect\n      .promise(function () { return subject(); })\n      .then(\n        function () {\n          expect.fail();\n        },\n        function (error) { return error; }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<function> to error [with] <any>',\n    function (expect, subject, arg) { return expect(subject, 'to error').then(function (error) {\n        expect.errorMode = 'nested';\n        return expect.withError(\n          function () {\n            return expect(error, 'to satisfy', arg);\n          },\n          function (e) {\n            e.originalError = error;\n            throw e;\n          }\n        );\n      }); }\n  );\n\n  expect.addAssertion('<function> not to error', function (expect, subject) {\n    var threw = false;\n    return expect\n      .promise(function () {\n        try {\n          return subject();\n        } catch (e) {\n          threw = true;\n          throw e;\n        }\n      })\n      .caught(function (error) {\n        expect.errorMode = 'nested';\n        expect.fail({\n          output: function output(output$1) {\n            output$1\n              .error(threw ? 'threw' : 'returned promise rejected with')\n              .error(': ')\n              .appendErrorMessage(error);\n          },\n          originalError: error,\n        });\n      });\n  });\n\n  expect.addAssertion('<function> not to throw', function (expect, subject) {\n    var threw = false;\n    var error;\n\n    try {\n      subject();\n    } catch (e) {\n      error = e;\n      threw = true;\n    }\n\n    if (threw) {\n      expect.errorMode = 'nested';\n      expect.fail({\n        output: function output(output$1) {\n          output$1.error('threw: ').appendErrorMessage(error);\n        },\n        originalError: error,\n      });\n    }\n  });\n\n  expect.addAssertion(\n    '<function> to (throw|throw error|throw exception)',\n    function (expect, subject) {\n      try {\n        subject();\n      } catch (e) {\n        return e;\n      }\n      expect.errorMode = 'nested';\n      expect.fail('did not throw');\n    }\n  );\n\n  expect.addAssertion('<object> to satisfy <function>', function (expect) { return expect.fail(); }\n  );\n\n  expect.addAssertion(\n    '<function> to throw (a|an) <function>',\n    function (expect, subject, value) {\n      var constructorName = utils.getFunctionName(value);\n      if (constructorName) {\n        expect.argsOutput[0] = function (output) {\n          output.jsFunctionName(constructorName);\n        };\n      }\n      expect.errorMode = 'nested';\n      return expect(subject, 'to throw').tap(function (error) {\n        expect(error, 'to be a', value);\n      });\n    }\n  );\n\n  expect.addAssertion(\n    '<function> to (throw|throw error|throw exception) <any>',\n    function (expect, subject, arg) {\n      expect.errorMode = 'nested';\n      return expect(subject, 'to throw').then(function (error) {\n        // in the presence of a matcher an error must have been thrown.\n\n        expect.errorMode = 'nested';\n        return expect.withError(\n          function () {\n            return expect(error, 'to satisfy', arg);\n          },\n          function (err) {\n            err.originalError = error;\n            throw err;\n          }\n        );\n      });\n    }\n  );\n\n  expect.addAssertion(\n    '<function> to have arity <number>',\n    function (expect, ref, value) {\n      var length = ref.length;\n\n      expect(length, 'to equal', value);\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<object> to have values [exhaustively] satisfying <any>',\n      '<object> to have values [exhaustively] satisfying <assertion>',\n      '<object> to be (a map|a hash|an object) whose values [exhaustively] satisfy <any>',\n      '<object> to be (a map|a hash|an object) whose values [exhaustively] satisfy <assertion>' ],\n    function (expect, subject, nextArg) {\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'bubble';\n\n      var keys = expect.subjectType.getKeys(subject);\n      var expected = {};\n      keys.forEach(function (key) {\n        if (typeof nextArg === 'string') {\n          expected[key] = expect.it(function (s) { return expect.shift(s); });\n        } else {\n          expected[key] = nextArg;\n        }\n      });\n      return expect.withError(\n        function () { return expect(subject, 'to [exhaustively] satisfy', expected); },\n        function (err) {\n          expect.fail({\n            message: function message(output) {\n              output.append(\n                expect.standardErrorMessage(output.clone(), {\n                  compact: err && err._isUnexpected && err.hasDiff(),\n                })\n              );\n            },\n            diff: function diff(output) {\n              var diff = err.getDiff({ output: output });\n              diff.inline = true;\n              return diff;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<array-like> to have items [exhaustively] satisfying <any>',\n      '<array-like> to have items [exhaustively] satisfying <assertion>',\n      '<array-like> to be an array whose items [exhaustively] satisfy <any>',\n      '<array-like> to be an array whose items [exhaustively] satisfy <assertion>' ],\n    function (expect, subject) {\n      var rest = [], len = arguments.length - 2;\n      while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n      // ...\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'bubble';\n\n      return expect.withError(\n        function () { return expect.apply(void 0, [ subject, 'to have values [exhaustively] satisfying' ].concat( rest )); },\n        function (err) {\n          expect.fail({\n            message: function message(output) {\n              output.append(\n                expect.standardErrorMessage(output.clone(), {\n                  compact: err && err._isUnexpected && err.hasDiff(),\n                })\n              );\n            },\n            diff: function diff(output) {\n              var diff = err.getDiff({ output: output });\n              diff.inline = true;\n              return diff;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<object> to have keys satisfying <any>',\n      '<object> to have keys satisfying <assertion>',\n      '<object> to be (a map|a hash|an object) whose (keys|properties) satisfy <any>',\n      '<object> to be (a map|a hash|an object) whose (keys|properties) satisfy <assertion>' ],\n    function (expect, subject) {\n      var rest = [], len = arguments.length - 2;\n      while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'default';\n\n      var keys = expect.subjectType.getKeys(subject);\n      return expect.apply(void 0, [ keys, 'to have items satisfying' ].concat( rest ));\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<object> [not] to have a value [exhaustively] satisfying <any>',\n      '<object> [not] to have a value [exhaustively] satisfying <assertion>' ],\n    function (expect, subject, nextArg) {\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'bubble';\n\n      var subjectType = expect.findTypeOf(subject);\n      var keys = subjectType.getKeys(subject);\n      var not = !!expect.flags.not;\n\n      var keyResults = new Array(keys.length);\n\n      expect.withError(\n        function () { return expect.promise[not ? 'all' : 'any'](\n            keys.map(function (key) {\n              var expected;\n              if (typeof nextArg === 'string') {\n                expected = expect.it(function (s) { return expect.shift(s); });\n              } else {\n                expected = nextArg;\n              }\n\n              keyResults[key] = expect.promise(function () { return expect(\n                  subjectType.valueForKey(subject, key),\n                  '[not] to [exhaustively] satisfy',\n                  expected\n                ); }\n              );\n              return keyResults[key];\n            })\n          ); },\n        function (err) {\n          expect.fail({\n            message: function message(output) {\n              output.append(\n                expect.standardErrorMessage(output.clone(), {\n                  compact: err && err._isUnexpected && err.hasDiff(),\n                })\n              );\n            },\n            diff:\n              expect.flags.not &&\n              (function (output, diff, inspect, equal) {\n                var expectedObject = subjectType.is('array-like') ? [] : {};\n                keys.forEach(function (key) {\n                  if (keyResults[key].isFulfilled()) {\n                    expectedObject[key] = subjectType.valueForKey(subject, key);\n                  }\n                });\n\n                return diff(subject, expectedObject);\n              }),\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<array-like> [not] to have an item [exhaustively] satisfying <any>',\n      '<array-like> [not] to have an item [exhaustively] satisfying <assertion>' ],\n    function (expect, subject) {\n      var rest = [], len = arguments.length - 2;\n      while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'default';\n\n      return expect.apply(\n        void 0, [ subject,\n        '[not] to have a value [exhaustively] satisfying' ].concat( rest )\n      );\n    }\n  );\n\n  expect.addAssertion('<object> to be canonical', function (expect, subject) {\n    var stack = [];\n\n    (function traverse(obj) {\n      var i;\n      for (i = 0; i < stack.length; i += 1) {\n        if (stack[i] === obj) {\n          return;\n        }\n      }\n      if (obj && typeof obj === 'object') {\n        var keys = Object.keys(obj);\n        for (i = 0; i < keys.length - 1; i += 1) {\n          expect(keys[i], 'to be less than', keys[i + 1]);\n        }\n        stack.push(obj);\n        keys.forEach(function (key) {\n          traverse(obj[key]);\n        });\n        stack.pop();\n      }\n    })(subject);\n  });\n\n  expect.addAssertion(\n    '<Error> to have message <any>',\n    function (expect, subject, value) {\n      expect.errorMode = 'nested';\n      return expect(\n        subject.isUnexpected\n          ? subject.getErrorMessage('text').toString()\n          : subject.message,\n        'to satisfy',\n        value\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<Error> to [exhaustively] satisfy <Error>',\n    function (expect, subject, value) {\n      expect(subject.constructor, 'to be', value.constructor);\n\n      var unwrappedValue = expect.argTypes[0].unwrap(value);\n      return expect.withError(\n        function () { return expect(subject, 'to [exhaustively] satisfy', unwrappedValue); },\n        function (e) {\n          expect.fail({\n            diff: function diff(output, diff$1) {\n              output.inline = false;\n              var unwrappedSubject = expect.subjectType.unwrap(subject);\n              return utils.wrapConstructorNameAroundOutput(\n                diff$1(unwrappedSubject, unwrappedValue),\n                subject\n              );\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<Error> to [exhaustively] satisfy <object>',\n    function (expect, subject, value) {\n      var valueType = expect.argTypes[0];\n      var subjectKeys = expect.subjectType.getKeys(subject);\n      var valueKeys = valueType.getKeys(value);\n      var convertedSubject = {};\n      subjectKeys.concat(valueKeys).forEach(function (key) {\n        convertedSubject[key] = subject[key];\n      });\n      return expect(convertedSubject, 'to [exhaustively] satisfy', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<Error> to [exhaustively] satisfy <regexp|string|any>',\n    function (expect, ref, value) {\n        var message = ref.message;\n\n        return expect(message, 'to [exhaustively] satisfy', value);\n  }\n  );\n\n  expect.addAssertion(\n    '<UnexpectedError> to [exhaustively] satisfy <regexp|string>',\n    function (expect, error, value) {\n      expect.errorMode = 'bubble';\n      return expect(error, 'to have message', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<binaryArray> to [exhaustively] satisfy <expect.it>',\n    function (expect, subject, value) { return expect.withError(\n        function () { return value(subject, expect.context); },\n        function (e) {\n          expect.fail({\n            diff: function diff(output, diff$1, inspect, equal) {\n              output.inline = false;\n              return output.appendErrorMessage(e);\n            },\n          });\n        }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<any|Error> to [exhaustively] satisfy <expect.it>',\n    function (expect, subject, value) { return expect.promise(function () { return value(subject); }); }\n  );\n\n  if (typeof Buffer !== 'undefined') {\n    expect.addAssertion(\n      '<Buffer> [when] decoded as <string> <assertion?>',\n      function (expect, subject, value) { return expect.shift(subject.toString(value)); }\n    );\n  }\n\n  expect.addAssertion(\n    '<any> not to [exhaustively] satisfy [assertion] <any>',\n    function (expect, subject, value) { return expect.promise(function (resolve, reject) { return expect\n          .promise(function () { return expect(subject, 'to [exhaustively] satisfy [assertion]', value); }\n          )\n          .then(function () {\n            try {\n              expect.fail();\n            } catch (e) {\n              reject(e);\n            }\n          })\n          .caught(function (e) {\n            if (!e || !e._isUnexpected) {\n              reject(e);\n            } else {\n              resolve();\n            }\n          }); }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<any> to [exhaustively] satisfy assertion <any>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble'; // to satisfy assertion 'to be a number' => to be a number\n      return expect(subject, 'to [exhaustively] satisfy', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<any> to [exhaustively] satisfy assertion <assertion>',\n    function (expect, subject) {\n      expect.errorMode = 'bubble'; // to satisfy assertion 'to be a number' => to be a number\n      return expect.shift();\n    }\n  );\n\n  expect.addAssertion(\n    '<any|object> to [exhaustively] satisfy [assertion] <expect.it>',\n    function (expect, subject, value) { return expect.withError(\n        function () { return value(subject, expect.context); },\n        function (e) {\n          expect.fail({\n            diff: function diff(output) {\n              output.inline = false;\n              return output.appendErrorMessage(e);\n            },\n          });\n        }\n      ); }\n  );\n\n  expect.addAssertion(\n    '<regexp> to [exhaustively] satisfy <regexp>',\n    function (expect, subject, value) {\n      expect(subject, 'to equal', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<string> to [exhaustively] satisfy <regexp>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble';\n      return expect(subject, 'to match', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<function> to [exhaustively] satisfy <function>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble';\n      expect(subject, 'to be', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<binaryArray> to [exhaustively] satisfy <binaryArray>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble';\n      expect(subject, 'to equal', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<any> to [exhaustively] satisfy <any>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble';\n      expect(subject, 'to equal', value);\n    }\n  );\n\n  expect.addAssertion(\n    '<array-like> to [exhaustively] satisfy <array-like>',\n    function (expect, subject, value) {\n      expect.errorMode = 'bubble';\n      var subjectType = expect.subjectType;\n      var subjectKeys = subjectType.getKeys(subject);\n      var valueType = expect.argTypes[0];\n      var valueKeys = valueType.getKeys(value).filter(\n        function (key) { return utils.numericalRegExp.test(key) ||\n          typeof key === 'symbol' ||\n          // include keys whose value is not undefined on either LHS or RHS\n          typeof valueType.valueForKey(value, key) !== 'undefined' ||\n          typeof subjectType.valueForKey(subject, key) !== 'undefined'; }\n      );\n      var keyPromises = {};\n      valueKeys.forEach(function (keyInValue) {\n        keyPromises[keyInValue] = expect.promise(function () {\n          var subjectKey = subjectType.valueForKey(subject, keyInValue);\n          var valueKey = valueType.valueForKey(value, keyInValue);\n          var valueKeyType = expect.findTypeOf(valueKey);\n\n          if (valueKeyType.is('expect.it')) {\n            expect.context.thisObject = subject;\n            return valueKey(subjectKey, expect.context);\n          } else {\n            return expect(subjectKey, 'to [exhaustively] satisfy', valueKey);\n          }\n        });\n      });\n      return expect.promise\n        .all([\n          expect.promise(function () {\n            // create subject key presence object\n            var remainingKeysInSubject = {};\n            subjectKeys.forEach(function (key) {\n              remainingKeysInSubject[key] = 1; // present in subject\n            });\n            // discard or mark missing each previously seen value key\n            valueKeys.forEach(function (key) {\n              if (\n                !remainingKeysInSubject[key] &&\n                (utils.numericalRegExp.test(key) || expect.flags.exhaustively)\n              ) {\n                remainingKeysInSubject[key] = 2; // present in value\n              } else {\n                delete remainingKeysInSubject[key];\n              }\n            });\n            // check whether there are any outstanding keys we cannot account for\n            var outstandingKeys = Object.keys(remainingKeysInSubject).filter(\n              function (key) { return utils.numericalRegExp.test(key) ||\n                typeof key === 'symbol' ||\n                (typeof subjectType.valueForKey(subject, key) !== 'undefined' &&\n                  // key was only in the value\n                  remainingKeysInSubject[key] === 2); }\n            );\n            // key checking succeeds with no outstanding keys\n            expect(outstandingKeys.length === 0, 'to be truthy');\n          }),\n          expect.promise.all(keyPromises) ])\n        .caught(function () {\n          var i = 0;\n          return expect.promise.settle(keyPromises).then(function () {\n            var toSatisfyMatrix = new Array(subject.length);\n            for (i = 0; i < subject.length; i += 1) {\n              toSatisfyMatrix[i] = new Array(value.length);\n              if (i < value.length) {\n                toSatisfyMatrix[i][i] =\n                  keyPromises[i].isFulfilled() || keyPromises[i].reason();\n              }\n            }\n            if (subject.length > 10 || value.length > 10) {\n              var indexByIndexChanges = [];\n              for (i = 0; i < subject.length; i += 1) {\n                var promise = keyPromises[i];\n                if (i < value.length) {\n                  indexByIndexChanges.push({\n                    type: promise.isFulfilled() ? 'equal' : 'similar',\n                    value: subject[i],\n                    expected: value[i],\n                    actualIndex: i,\n                    expectedIndex: i,\n                    last: i === Math.max(subject.length, value.length) - 1,\n                  });\n                } else {\n                  indexByIndexChanges.push({\n                    type: 'remove',\n                    value: subject[i],\n                    actualIndex: i,\n                    last: i === subject.length - 1,\n                  });\n                }\n              }\n              for (i = subject.length; i < value.length; i += 1) {\n                indexByIndexChanges.push({\n                  type: 'insert',\n                  value: value[i],\n                  expectedIndex: i,\n                });\n              }\n              return failWithChanges(indexByIndexChanges);\n            }\n\n            var isAsync = false;\n            var subjectElements = utils.duplicateArrayLikeUsingType(\n              subject,\n              subjectType\n            );\n            var valueElements = utils.duplicateArrayLikeUsingType(\n              value,\n              valueType\n            );\n            var nonNumericalKeysAndSymbols =\n              !subjectType.numericalPropertiesOnly &&\n              utils.uniqueNonNumericalStringsAndSymbols(subjectKeys, valueKeys);\n\n            var changes = arrayChanges(\n              subjectElements,\n              valueElements,\n              function equal(a, b, aIndex, bIndex) {\n                toSatisfyMatrix[aIndex] = toSatisfyMatrix[aIndex] || [];\n                var existingResult = toSatisfyMatrix[aIndex][bIndex];\n                if (typeof existingResult !== 'undefined') {\n                  return existingResult === true;\n                }\n                var result;\n                try {\n                  result = expect(a, 'to [exhaustively] satisfy', b);\n                } catch (err) {\n                  throwIfNonUnexpectedError(err);\n                  toSatisfyMatrix[aIndex][bIndex] = err;\n                  return false;\n                }\n                result.then(\n                  function () {},\n                  function () {}\n                );\n                if (result.isPending()) {\n                  isAsync = true;\n                  return false;\n                }\n                toSatisfyMatrix[aIndex][bIndex] = true;\n                return true;\n              },\n              function (a, b) { return subjectType.similar(a, b); },\n              {\n                includeNonNumericalProperties: nonNumericalKeysAndSymbols,\n              }\n            );\n            if (isAsync) {\n              return expect\n                .promise(function (resolve, reject) {\n                  arrayChangesAsync(\n                    subject,\n                    value,\n                    function equal(a, b, aIndex, bIndex, fn) {\n                      toSatisfyMatrix[aIndex] = toSatisfyMatrix[aIndex] || [];\n                      var existingResult = toSatisfyMatrix[aIndex][bIndex];\n                      if (typeof existingResult !== 'undefined') {\n                        return fn(existingResult === true);\n                      }\n                      expect\n                        .promise(function () { return expect(a, 'to [exhaustively] satisfy', b); }\n                        )\n                        .then(\n                          function () {\n                            toSatisfyMatrix[aIndex][bIndex] = true;\n                            fn(true);\n                          },\n                          function (err) {\n                            toSatisfyMatrix[aIndex][bIndex] = err;\n                            fn(false);\n                          }\n                        );\n                    },\n                    function (a, b, aIndex, bIndex, fn) {\n                      fn(subjectType.similar(a, b));\n                    },\n                    nonNumericalKeysAndSymbols,\n                    resolve\n                  );\n                })\n                .then(failWithChanges);\n            } else {\n              return failWithChanges(changes);\n            }\n\n            function failWithChanges(changes) {\n              expect.errorMode = 'default';\n              expect.fail({\n                diff: function diff(output, diff$1, inspect, equal) {\n                  output.inline = true;\n                  var indexOfLastNonInsert = changes.reduce(\n                    function (previousValue, ref, index) {\n                        var type = ref.type;\n\n                        return type === 'insert' ? previousValue : index;\n                  },\n                    -1\n                  );\n                  var prefixOutput = subjectType.prefix(\n                    output.clone(),\n                    subject\n                  );\n                  output\n                    .append(prefixOutput)\n                    .nl(prefixOutput.isEmpty() ? 0 : 1);\n\n                  if (subjectType.indent) {\n                    output.indentLines();\n                  }\n                  var packing = utils.packArrows(changes); // NOTE: Will have side effects in changes if the packing results in too many arrow lanes\n                  output.arrowsAlongsideChangeOutputs(\n                    packing,\n                    changes.map(function (diffItem, index) {\n                      var delimiterOutput = subjectType.delimiter(\n                        output.clone(),\n                        index,\n                        indexOfLastNonInsert + 1\n                      );\n                      var type = diffItem.type;\n                      if (type === 'moveTarget') {\n                        return output.clone();\n                      } else {\n                        return output.clone().block(function () {\n                          if (type === 'moveSource') {\n                            var propertyOutput = subjectType.property(\n                              output.clone(),\n                              diffItem.actualIndex,\n                              inspect(diffItem.value),\n                              true\n                            );\n\n                            this.append(propertyOutput)\n                              .amend(delimiterOutput)\n                              .sp()\n                              .error('// should be moved');\n                          } else if (type === 'insert') {\n                            this.annotationBlock(function () {\n                              if (\n                                expect\n                                  .findTypeOf(diffItem.value)\n                                  .is('expect.it')\n                              ) {\n                                this.error('missing: ').block(function () {\n                                  this.omitSubject = undefined;\n                                  var promise =\n                                    keyPromises[diffItem.expectedIndex];\n                                  if (promise.isRejected()) {\n                                    this.appendErrorMessage(promise.reason());\n                                  } else {\n                                    this.appendInspected(diffItem.value);\n                                  }\n                                });\n                              } else {\n                                var index =\n                                  typeof diffItem.actualIndex !== 'undefined'\n                                    ? diffItem.actualIndex\n                                    : diffItem.expectedIndex;\n                                var propertyOutput = subjectType.property(\n                                  output.clone(),\n                                  index,\n                                  inspect(diffItem.value),\n                                  true\n                                );\n                                this.error('missing ').append(propertyOutput);\n                              }\n                            });\n                          } else {\n                            var propertyOutput$1 = subjectType.property(\n                              output.clone(),\n                              diffItem.actualIndex,\n                              inspect(diffItem.value),\n                              true\n                            );\n\n                            this.block(function () {\n                              if (type === 'remove') {\n                                this.append(propertyOutput$1)\n                                  .amend(delimiterOutput)\n                                  .sp()\n                                  .error('// should be removed');\n                              } else if (type === 'equal') {\n                                this.append(propertyOutput$1).amend(\n                                  delimiterOutput\n                                );\n                              } else {\n                                var toSatisfyResult =\n                                  toSatisfyMatrix[diffItem.actualIndex][\n                                    diffItem.expectedIndex\n                                  ];\n                                var valueDiff =\n                                  toSatisfyResult &&\n                                  toSatisfyResult !== true &&\n                                  toSatisfyResult.getDiff({\n                                    output: output.clone(),\n                                  });\n                                if (valueDiff && valueDiff.inline) {\n                                  this.append(valueDiff).amend(delimiterOutput);\n                                } else {\n                                  this.append(propertyOutput$1)\n                                    .amend(delimiterOutput)\n                                    .sp()\n                                    .annotationBlock(function () {\n                                      this.omitSubject = diffItem.value;\n                                      var label = toSatisfyResult.getLabel();\n                                      if (label) {\n                                        this.error(label)\n                                          .sp()\n                                          .block(inspect(diffItem.expected));\n                                        if (valueDiff) {\n                                          this.nl(2).append(valueDiff);\n                                        }\n                                      } else {\n                                        this.appendErrorMessage(\n                                          toSatisfyResult\n                                        );\n                                      }\n                                    });\n                                }\n                              }\n                            });\n                          }\n                        });\n                      }\n                    })\n                  );\n\n                  if (subjectType.indent) {\n                    output.outdentLines();\n                  }\n                  var suffixOutput = subjectType.suffix(\n                    output.clone(),\n                    subject\n                  );\n                  output\n                    .nl(suffixOutput.isEmpty() ? 0 : 1)\n                    .append(suffixOutput);\n\n                  return output;\n                },\n              });\n            }\n          });\n        });\n    }\n  );\n\n  var disallowedConstructors = [];\n  ['Set', 'WeakSet', 'Map', 'WeakMap'].forEach(function (constructorName) {\n    var Constructor = (typeof window !== 'undefined' ? window : global)[\n      constructorName\n    ];\n    if (typeof Constructor === 'function') {\n      disallowedConstructors.push(Constructor);\n    }\n  });\n\n  expect.addAssertion(\n    '<object> to [exhaustively] satisfy <object>',\n    function (expect, subject, value) {\n      var valueType = expect.argTypes[0];\n      var subjectType = expect.subjectType;\n      var subjectIsArrayLike = subjectType.is('array-like');\n      if (subject === value) {\n        return;\n      }\n      if (valueType.is('array-like') && !subjectIsArrayLike) {\n        expect.fail();\n      }\n      disallowedConstructors.forEach(function (Constructor) {\n        if (subject instanceof Constructor) {\n          expect.fail({\n            message: (\"A \" + (Constructor.name) + \" instance is not allowed as a subject of \\\"to satisfy\\\"\"),\n            errorMode: 'bubbleThrough',\n          });\n        }\n      });\n\n      if (Object.getPrototypeOf(value) !== Object.prototype) {\n        expect.fail({\n          message: 'Can only satisfy against a plain object',\n          errorMode: 'bubbleThrough',\n        });\n      }\n\n      var subjectKeys = subjectType.getKeys(subject);\n      var valueKeys = valueType.getKeys(value);\n      // calculate the unique keys early given enumerability no\n      // longer affects what is included in the list of keys\n      var uniqueKeys = subjectType.uniqueKeys(subjectKeys, valueKeys);\n\n      var promiseByKey = {};\n      var forceExhaustivelyComparison = false;\n      uniqueKeys.forEach(function (key, index) {\n        var subjectHasKey = subjectType.hasKey(subject, key);\n        var valueHasKey = valueType.hasKey(value, key, true);\n        var valueKey = valueHasKey\n          ? valueType.valueForKey(value, key)\n          : undefined;\n        var valueKeyType = expect.findTypeOf(valueKey);\n        if (expect.flags.exhaustively) {\n          if (valueKeyType.is('expect.it') && !subjectHasKey) {\n            // ensure value only expect.it key is marked missing\n            forceExhaustivelyComparison = true;\n          }\n        } else if (subjectHasKey && !valueHasKey) {\n          // ignore subject only keys unless we are being exhaustive\n          return;\n        }\n        var subjectKey = subjectHasKey\n          ? subjectType.valueForKey(subject, key)\n          : undefined;\n\n        promiseByKey[key] = expect.promise(function () {\n          if (valueKeyType.is('expect.it')) {\n            expect.context.thisObject = subject;\n            return valueKey(subjectKey, expect.context);\n          } else {\n            return expect(subjectKey, 'to [exhaustively] satisfy', valueKey);\n          }\n        });\n      });\n\n      return expect.promise\n        .all([\n          expect.promise(function () {\n            if (forceExhaustivelyComparison) {\n              throw new Error('exhaustive comparison failure');\n            }\n          }),\n          expect.promise.all(promiseByKey) ])\n        .caught(function () { return expect.promise.settle(promiseByKey).then(function () {\n            expect.fail({\n              diff: function diff(output, diff$1, inspect, equal) {\n                output.inline = true;\n                var subjectIsArrayLike = subjectType.is('array-like');\n                // Skip missing keys expected to be missing so they don't get rendered in the diff\n                var keys = uniqueKeys.filter(function (key) {\n                  return (\n                    subjectType.hasKey(subject, key) ||\n                    typeof valueType.valueForKey(value, key) !== 'undefined'\n                  );\n                });\n                var prefixOutput = subjectType.prefix(\n                  output.clone(),\n                  subject\n                );\n                output.append(prefixOutput).nl(prefixOutput.isEmpty() ? 0 : 1);\n\n                if (subjectType.indent) {\n                  output.indentLines();\n                }\n                keys.forEach(function (key, index) {\n                  var subjectKey = subjectType.valueForKey(subject, key);\n                  var valueKey = valueType.valueForKey(value, key);\n                  output\n                    .nl(index > 0 ? 1 : 0)\n                    .i()\n                    .block(function () {\n                      var valueOutput;\n                      var annotation = output.clone();\n                      var conflicting;\n\n                      if (\n                        Object.prototype.hasOwnProperty.call(\n                          promiseByKey,\n                          key\n                        ) &&\n                        promiseByKey[key].isRejected()\n                      ) {\n                        conflicting = promiseByKey[key].reason();\n                      }\n\n                      var missingArrayIndex =\n                        subjectType.is('array-like') &&\n                        !subjectType.hasKey(subject, key);\n\n                      var isInlineDiff = true;\n\n                      output.omitSubject = subjectKey;\n                      if (!valueType.hasKey(value, key)) {\n                        if (expect.flags.exhaustively) {\n                          annotation.error('should be removed');\n                        } else {\n                          conflicting = null;\n                        }\n                      } else if (!subjectType.hasKey(subject, key)) {\n                        if (expect.findTypeOf(valueKey).is('expect.it')) {\n                          if (promiseByKey[key].isRejected()) {\n                            output.error('// missing:').sp();\n                            valueOutput = output\n                              .clone()\n                              .appendErrorMessage(promiseByKey[key].reason());\n                          } else {\n                            output.error('// missing').sp();\n                            valueOutput = output\n                              .clone()\n                              .error('should satisfy')\n                              .sp()\n                              .block(inspect(value[key]));\n                          }\n                        } else {\n                          output.error('// missing').sp();\n                          valueOutput = inspect(valueKey);\n                        }\n                      } else if (conflicting || missingArrayIndex) {\n                        var keyDiff =\n                          conflicting && conflicting.getDiff({ output: output });\n                        isInlineDiff = !keyDiff || keyDiff.inline;\n                        if (missingArrayIndex) {\n                          output.error('// missing').sp();\n                        }\n                        if (keyDiff && keyDiff.inline) {\n                          valueOutput = keyDiff;\n                        } else if (\n                          expect.findTypeOf(valueKey).is('expect.it')\n                        ) {\n                          isInlineDiff = false;\n                          annotation.appendErrorMessage(conflicting);\n                        } else if (!keyDiff || (keyDiff && !keyDiff.inline)) {\n                          annotation\n                            .error(\n                              (conflicting && conflicting.getLabel()) ||\n                                'should satisfy'\n                            )\n                            .sp()\n                            .block(inspect(valueKey));\n\n                          if (keyDiff) {\n                            annotation.nl(2).append(keyDiff);\n                          }\n                        } else {\n                          valueOutput = keyDiff;\n                        }\n                      }\n\n                      if (!valueOutput) {\n                        if (\n                          missingArrayIndex ||\n                          !subjectType.hasKey(subject, key)\n                        ) {\n                          valueOutput = output.clone();\n                        } else {\n                          valueOutput = inspect(subjectKey);\n                        }\n                      }\n\n                      var omitDelimiter =\n                        missingArrayIndex || index >= subjectKeys.length - 1;\n\n                      if (!omitDelimiter) {\n                        var delimiterOutput = subjectType.delimiter(\n                          output.clone(),\n                          index,\n                          keys.length\n                        );\n                        valueOutput.amend(delimiterOutput);\n                      }\n\n                      var annotationOnNextLine =\n                        !isInlineDiff &&\n                        output.preferredWidth <\n                          this.size().width +\n                            valueOutput.size().width +\n                            annotation.size().width;\n\n                      if (!annotation.isEmpty()) {\n                        if (!valueOutput.isEmpty()) {\n                          if (annotationOnNextLine) {\n                            valueOutput.nl();\n                          } else {\n                            valueOutput.sp();\n                          }\n                        }\n\n                        valueOutput.annotationBlock(function () {\n                          this.append(annotation);\n                        });\n                      }\n\n                      if (!isInlineDiff) {\n                        valueOutput = output.clone().block(valueOutput);\n                      }\n\n                      var propertyOutput = subjectType.property(\n                        output.clone(),\n                        key,\n                        valueOutput,\n                        subjectIsArrayLike\n                      );\n\n                      this.append(propertyOutput);\n                    });\n                });\n\n                if (subjectType.indent) {\n                  output.outdentLines();\n                }\n                var suffixOutput = subjectType.suffix(\n                  output.clone(),\n                  subject\n                );\n                return output\n                  .nl(suffixOutput.isEmpty() ? 0 : 1)\n                  .append(suffixOutput);\n              },\n            });\n          }); }\n        );\n    }\n  );\n\n  function wrapDiffWithTypePrefixAndSuffix(e, type, subject) {\n    var createDiff = e.getDiffMethod();\n    if (createDiff) {\n      return function (output) {\n        var rest = [], len = arguments.length - 1;\n        while ( len-- > 0 ) rest[ len ] = arguments[ len + 1 ];\n\n        type.prefix(output, subject);\n        var result = createDiff.call.apply(createDiff, [ this, output ].concat( rest ));\n        type.suffix(output, subject);\n        return result;\n      };\n    }\n  }\n\n  expect.addAssertion(\n    '<wrapperObject> to [exhaustively] satisfy <wrapperObject>',\n    function (expect, subject, value) {\n      var type = expect.findCommonType(subject, value);\n      expect(type.is('wrapperObject'), 'to be truthy');\n      return expect.withError(\n        function () { return expect(\n            type.unwrap(subject),\n            'to [exhaustively] satisfy',\n            type.unwrap(value)\n          ); },\n        function (e) {\n          expect.fail({\n            label: e.getLabel(),\n            diff: wrapDiffWithTypePrefixAndSuffix(e, type, subject),\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<wrapperObject> to [exhaustively] satisfy <any>',\n    function (expect, subject, value) {\n      var subjectType = expect.subjectType;\n\n      return expect.withError(\n        function () { return expect(\n            subjectType.unwrap(subject),\n            'to [exhaustively] satisfy',\n            value\n          ); },\n        function (e) {\n          expect.fail({\n            label: e.getLabel(),\n            diff: wrapDiffWithTypePrefixAndSuffix(e, subjectType, subject),\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<function> [when] called with <array-like> <assertion?>',\n    function (expect, subject, args) {\n      // ...\n      expect.errorMode = 'nested';\n      expect.argsOutput[0] = function (output) {\n        output.appendItems(args, ', ');\n      };\n\n      var thisObject = expect.context.thisObject || null;\n\n      return expect.shift(subject.apply(thisObject, args));\n    }\n  );\n\n  expect.addAssertion(\n    '<function> [when] called <assertion?>',\n    function (expect, subject) {\n      expect.errorMode = 'nested';\n\n      var thisObject = expect.context.thisObject || null;\n\n      return expect.shift(subject.call(thisObject));\n    }\n  );\n\n  function instantiate(Constructor, args) {\n    function ProxyConstructor() {\n      return Constructor.apply(this, args);\n    }\n    ProxyConstructor.prototype = Constructor.prototype;\n    return new ProxyConstructor();\n  }\n\n  expect.addAssertion(\n    [\n      '<array-like> [when] passed as parameters to [async] <function> <assertion?>',\n      '<array-like> [when] passed as parameters to [constructor] <function> <assertion?>' ],\n    function (expect, subject, fn) {\n      // ...\n      expect.errorMode = 'nested';\n      var args = subject;\n      if (expect.flags.async) {\n        return expect.promise(function (run) {\n          args = args.concat( [run(function (err, result) {\n              expect(err, 'to be falsy');\n              return expect.shift(result);\n            })] );\n          fn.apply(void 0, args);\n        });\n      } else {\n        return expect.shift(\n          expect.flags.constructor ? instantiate(fn, args) : fn.apply(void 0, args)\n        );\n      }\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<any> [when] passed as parameter to [async] <function> <assertion?>',\n      '<any> [when] passed as parameter to [constructor] <function> <assertion?>' ],\n    function (expect, subject, fn) {\n      // ...\n      expect.errorMode = 'nested';\n      var args = [subject];\n      if (expect.flags.async) {\n        return expect.promise(function (run) {\n          args = args.concat( [run(function (err, result) {\n              expect(err, 'to be falsy');\n              return expect.shift(result);\n            })] );\n          fn.apply(void 0, args);\n        });\n      } else {\n        return expect.shift(\n          expect.flags.constructor ? instantiate(fn, args) : fn.apply(void 0, args)\n        );\n      }\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<array-like> [when] sorted [numerically] <assertion?>',\n      '<array-like> [when] sorted by <function> <assertion?>' ],\n    function (expect, subject, compareFunction) {\n      if (expect.flags.numerically) {\n        compareFunction = function (a, b) { return a - b; };\n      }\n      return expect.shift(\n        Array.prototype.slice\n          .call(subject)\n          .sort(\n            typeof compareFunction === 'function' ? compareFunction : undefined\n          )\n      );\n    }\n  );\n\n  expect.addAssertion('<Promise> to be rejected', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect\n      .promise(function () { return subject; })\n      .then(\n        function (obj) {\n          expect.fail(function (output) {\n            output.appendInspected(subject).sp().text('unexpectedly fulfilled');\n            if (typeof obj !== 'undefined') {\n              output.sp().text('with').sp().appendInspected(obj);\n            }\n          });\n        },\n        function (err) { return err; }\n      );\n  });\n\n  expect.addAssertion('<function> to be rejected', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect(\n      expect.promise(function () { return subject(); }),\n      'to be rejected'\n    );\n  });\n\n  expect.addAssertion(\n    [\n      '<Promise> to be rejected with <any>',\n      '<Promise> to be rejected with error [exhaustively] satisfying <any>' ],\n    function (expect, subject, value) {\n      expect.errorMode = 'nested';\n      return expect(subject, 'to be rejected').tap(function (err) { return expect.withError(\n          function () { return expect(err, 'to [exhaustively] satisfy', value); },\n          function (e) {\n            e.originalError = err;\n            throw e;\n          }\n        ); }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<function> to be rejected with <any>',\n      '<function> to be rejected with error [exhaustively] satisfying <any>' ],\n    function (expect, subject, value) {\n      expect.errorMode = 'nested';\n      return expect(\n        expect.promise(function () { return subject(); }),\n        'to be rejected with error [exhaustively] satisfying',\n        value\n      );\n    }\n  );\n\n  expect.addAssertion('<Promise> to be fulfilled', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect\n      .promise(function () { return subject; })\n      .caught(function (err) {\n        expect.fail({\n          output: function output(output$1) {\n            output$1.appendInspected(subject).sp().text('unexpectedly rejected');\n            if (typeof err !== 'undefined') {\n              output$1.sp().text('with').sp().appendInspected(err);\n            }\n          },\n          originalError: err,\n        });\n      });\n  });\n\n  expect.addAssertion('<function> to be fulfilled', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect(\n      expect.promise(function () { return subject(); }),\n      'to be fulfilled'\n    );\n  });\n\n  expect.addAssertion(\n    [\n      '<Promise> to be fulfilled with <any>',\n      '<Promise> to be fulfilled with value [exhaustively] satisfying <any>' ],\n    function (expect, subject, value) {\n      expect.errorMode = 'nested';\n      return expect(subject, 'to be fulfilled').tap(function (fulfillmentValue) { return expect(fulfillmentValue, 'to [exhaustively] satisfy', value); }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<function> to be fulfilled with <any>',\n      '<function> to be fulfilled with value [exhaustively] satisfying <any>' ],\n    function (expect, subject, value) {\n      expect.errorMode = 'nested';\n      return expect(\n        expect.promise(function () { return subject(); }),\n        'to be fulfilled with value [exhaustively] satisfying',\n        value\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<Promise> when rejected <assertion>',\n    function (expect, subject, nextAssertion) {\n      expect.errorMode = 'nested';\n      return expect\n        .promise(function () { return subject; })\n        .then(\n          function (fulfillmentValue) {\n            if (typeof nextAssertion === 'string') {\n              expect.argsOutput = function (output) {\n                output.error(nextAssertion);\n                var rest = expect.args.slice(1);\n                if (rest.length > 0) {\n                  output.sp().appendItems(rest, ', ');\n                }\n              };\n            }\n            expect.fail(function (output) {\n              output\n                .appendInspected(subject)\n                .sp()\n                .text('unexpectedly fulfilled');\n              if (typeof fulfillmentValue !== 'undefined') {\n                output.sp().text('with').sp().appendInspected(fulfillmentValue);\n              }\n            });\n          },\n          function (err) {\n            if (\n              err.isOperational &&\n              !Object.prototype.propertyIsEnumerable.call(err, 'isOperational')\n            ) {\n              delete err.isOperational;\n            }\n\n            expect.withError(\n              function () { return expect.shift(err); },\n              function (e) {\n                e.originalError = err;\n                throw e;\n              }\n            );\n          }\n        );\n    }\n  );\n\n  expect.addAssertion(\n    '<function> when rejected <assertion>',\n    function (expect, subject) {\n      var rest = [], len = arguments.length - 2;\n      while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n      expect.errorMode = 'nested';\n      return expect.apply(\n        void 0, [ expect.promise(function () { return subject(); }),\n        'when rejected' ].concat( rest )\n      );\n    }\n  );\n\n  expect.addAssertion(\n    '<Promise> when fulfilled <assertion>',\n    function (expect, subject, nextAssertion) {\n      expect.errorMode = 'nested';\n      return expect\n        .promise(function () { return subject; })\n        .then(\n          function (fulfillmentValue) { return expect.shift(fulfillmentValue); },\n          function (err) {\n            // typeof nextAssertion === 'string' because expect.it is handled by the above (and shift only supports those two):\n            expect.argsOutput = function (output) {\n              output.error(nextAssertion);\n              var rest = expect.args.slice(1);\n              if (rest.length > 0) {\n                output.sp().appendItems(rest, ', ');\n              }\n            };\n            expect.fail({\n              output: function output(output$1) {\n                output$1\n                  .appendInspected(subject)\n                  .sp()\n                  .text('unexpectedly rejected');\n                if (typeof err !== 'undefined') {\n                  output$1.sp().text('with').sp().appendInspected(err);\n                }\n              },\n              originalError: err,\n            });\n          }\n        );\n    }\n  );\n\n  expect.addAssertion(\n    '<function> when fulfilled <assertion>',\n    function (expect, subject) {\n      var rest = [], len = arguments.length - 2;\n      while ( len-- > 0 ) rest[ len ] = arguments[ len + 2 ];\n\n      expect.errorMode = 'nested';\n      return expect.apply(\n        void 0, [ expect.promise(function () { return subject(); }),\n        'when fulfilled' ].concat( rest )\n      );\n    }\n  );\n\n  expect.addAssertion('<function> to call the callback', function (expect, subject) {\n    expect.errorMode = 'nested';\n    return expect.promise(function (run) {\n      var async = false;\n      var calledTwice = false;\n      var callbackArgs;\n      function cb() {\n        var args = [], len = arguments.length;\n        while ( len-- ) args[ len ] = arguments[ len ];\n\n        if (callbackArgs) {\n          calledTwice = true;\n        } else {\n          callbackArgs = Array.prototype.slice.call(args);\n        }\n        if (async) {\n          setTimeout(assert, 0);\n        }\n      }\n\n      var assert = run(function () {\n        if (calledTwice) {\n          expect.fail(function () {\n            this.error('The callback was called twice');\n          });\n        }\n        return callbackArgs;\n      });\n\n      subject(cb);\n      async = true;\n      if (callbackArgs) {\n        return assert();\n      }\n    });\n  });\n\n  expect.addAssertion(\n    '<function> to call the callback without error',\n    function (expect, subject) { return expect(subject, 'to call the callback').then(function (callbackArgs) {\n        var err = callbackArgs[0];\n        if (err) {\n          expect.errorMode = 'nested';\n          expect.fail({\n            message: function message(output) {\n              output.error('called the callback with: ');\n              if (err.getErrorMessage) {\n                output.appendErrorMessage(err);\n              } else {\n                output.appendInspected(err);\n              }\n            },\n          });\n        } else {\n          return callbackArgs.slice(1);\n        }\n      }); }\n  );\n\n  expect.addAssertion(\n    '<function> to call the callback with error',\n    function (expect, subject) { return expect(subject, 'to call the callback').spread(function (err) {\n        expect(err, 'to be truthy');\n        return err;\n      }); }\n  );\n\n  expect.addAssertion(\n    '<function> to call the callback with error <any>',\n    function (expect, subject, value) { return expect(subject, 'to call the callback with error').tap(function (err) {\n        expect.errorMode = 'nested';\n        expect(err, 'to satisfy', value);\n      }); }\n  );\n\n  expect.addAssertion(\n    '<Set> [not] to contain <any+>',\n    function (expect, subject) {\n      var values = [], len = arguments.length - 2;\n      while ( len-- > 0 ) values[ len ] = arguments[ len + 2 ];\n\n      var subjectElements = [];\n      subject.forEach(function (element) {\n        subjectElements.push(element);\n      });\n\n      expect.withError(\n        function () {\n          values.forEach(function (value) {\n            expect(\n              subject.has(value) ||\n                subjectElements.some(function (element) { return expect.equal(element, value); }),\n              '[not] to be true'\n            );\n          });\n        },\n        function () {\n          expect.fail({\n            diff: function diff(output, diff$1, inspect, equal) {\n              output.inline = true;\n              expect.subjectType.prefix(output, subject);\n              output.nl().indentLines();\n\n              subjectElements.forEach(function (subjectElement, subjectIndex) {\n                output\n                  .i()\n                  .block(function () {\n                    this.appendInspected(subjectElement);\n                    expect.subjectType.delimiter(\n                      this,\n                      subjectIndex,\n                      subjectElements.length\n                    );\n                    if (\n                      expect.flags.not &&\n                      values.some(function (value) { return equal(subjectElement, value); })\n                    ) {\n                      this.sp().annotationBlock(function () {\n                        this.error('should be removed');\n                      });\n                    }\n                  })\n                  .nl();\n              });\n              if (!expect.flags.not) {\n                values.forEach(function (value) {\n                  if (\n                    !subject.has(value) &&\n                    !subjectElements.some(function (element) { return equal(element, value); })\n                  ) {\n                    output\n                      .i()\n                      .block(function () {\n                        this.annotationBlock(function () {\n                          this.error('missing').sp().appendInspected(value);\n                        });\n                      })\n                      .nl();\n                  }\n                });\n              }\n\n              output.outdentLines();\n              expect.subjectType.suffix(output, subject);\n\n              return output;\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion('<Set> [not] to be empty', function (expect, subject) {\n    expect(subject.size, '[not] to equal', 0);\n  });\n\n  expect.addAssertion(\n    [\n      '<Set> to have items [exhaustively] satisfying <any>',\n      '<Set> to have items [exhaustively] satisfying <assertion>' ],\n    function (expect, subject, nextArg) {\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'bubble';\n\n      var subjectElements = [];\n      subject.forEach(function (element) {\n        subjectElements.push(element);\n      });\n\n      var expected = [];\n      subjectElements.forEach(function (subjectElement) {\n        if (typeof nextArg === 'string') {\n          expected.push(expect.it(function (s) { return expect.shift(s, 0); }));\n        } else {\n          expected.push(nextArg);\n        }\n      });\n\n      return expect.withError(\n        function () { return expect(subjectElements, 'to [exhaustively] satisfy', expected); },\n        function (err) {\n          expect.fail({\n            message: function message(output) {\n              output.append(\n                expect.standardErrorMessage(output.clone(), { compact: true })\n              );\n            },\n            diff: function diff(output) {\n              output.inline = true;\n              return output\n                .jsKeyword('new')\n                .sp()\n                .jsKeyword('Set')\n                .text('(')\n                .append(err.getDiff({ output: output }))\n                .text(')');\n            },\n          });\n        }\n      );\n    }\n  );\n\n  expect.addAssertion(\n    [\n      '<Set> to have an item [exhaustively] satisfying <any>',\n      '<Set> to have an item [exhaustively] satisfying <assertion>' ],\n    function (expect, subject, nextArg) {\n      expect.errorMode = 'nested';\n      expect(subject, 'not to be empty');\n      expect.errorMode = 'bubble';\n\n      var subjectElements = [];\n      subject.forEach(function (element) {\n        subjectElements.push(element);\n      });\n\n      var expected =\n        typeof nextArg === 'string'\n          ? expect.it(function (s) { return expect.shift(s, 0); })\n          : nextArg;\n      var expectedType = expect.findTypeOf(expected);\n      var results = new Array(subjectElements.length);\n      subjectElements.forEach(function (subjectElement, subjectIndex) {\n        results[subjectIndex] = expect.promise(function () {\n          if (expectedType.is('expect.it')) {\n            expect.context.thisObject = subject;\n            return expected(subjectElement, expect.context);\n          } else {\n            return expect(subjectElement, 'to [exhaustively] satisfy', nextArg);\n          }\n        });\n      });\n\n      return expect.promise.settle(results).then(function () {\n        if (results.every(function (result) { return !result.isFulfilled(); })) {\n          expect.fail({\n            message: function message(output) {\n              output.append(\n                expect.standardErrorMessage(output.clone(), { compact: true })\n              );\n            },\n            diff: function diff(output, diff$1, inspect, equal) {\n              output.inline = true;\n              var prefixOutput = expect.subjectType.prefix(\n                output.clone(),\n                subject\n              );\n              var suffixOutput = expect.subjectType.suffix(\n                output.clone(),\n                subject\n              );\n\n              output.append(prefixOutput);\n              if (!prefixOutput.isEmpty()) {\n                output.nl();\n              }\n              if (expect.subjectType.indent) {\n                output.indentLines();\n              }\n\n              var index = 0;\n              subjectElements.forEach(function (subjectElement, subjectIndex) {\n                output.omitSubject = subject;\n                output\n                  .nl(index > 0 ? 1 : 0)\n                  .i()\n                  .block(function () {\n                    var delimiterOutput = expect.subjectType.delimiter(\n                      output.clone(),\n                      subjectIndex,\n                      subjectElements.length\n                    );\n\n                    var err = results[subjectIndex].reason();\n                    var diff = err.getDiff({ output: output.clone() });\n\n                    if (diff && diff.inline) {\n                      this.append(diff).amend(delimiterOutput);\n                    } else {\n                      this.appendInspected(subjectElement)\n                        .amend(delimiterOutput)\n                        .sp()\n                        .annotationBlock(function () {\n                          this.omitSubject = subjectElement;\n                          this.appendErrorMessage(err);\n                        });\n                    }\n                  });\n                index += 1;\n              });\n\n              if (expect.subjectType.indent) {\n                output.outdentLines();\n              }\n              if (!suffixOutput.isEmpty()) {\n                output.nl();\n              }\n              output.append(suffixOutput);\n\n              return output;\n            },\n          });\n        }\n      });\n    }\n  );\n\n  expect.addAssertion(\n    '<Set> to [exhaustively] satisfy <Set>',\n    function (expect, subject, value) {\n      var subjectElements = [];\n      subject.forEach(function (element) {\n        subjectElements.push(element);\n      });\n      var valueElements = [];\n      value.forEach(function (element) {\n        valueElements.push(element);\n      });\n\n      var promiseBySubjectIndexAndValueIndex = subjectElements.map(\n        function () { return new Array(valueElements.length); }\n      );\n\n      var promiseByValueIndexAndSubjectIndex = valueElements.map(\n        function (valueElement, valueIndex) { return subjectElements.map(function (subjectElement, subjectIndex) {\n            var promise = expect.promise(function () {\n              var valueElementType = expect.findTypeOf(valueElement);\n              if (valueElementType.is('function')) {\n                return valueElement(subjectElement);\n              } else {\n                return expect(\n                  subjectElement,\n                  'to [exhaustively] satisfy',\n                  valueElement\n                );\n              }\n            });\n            promiseBySubjectIndexAndValueIndex[subjectIndex][valueIndex] =\n              promise;\n            return promise;\n          }); }\n      );\n\n      return expect.promise\n        .settle(promiseByValueIndexAndSubjectIndex)\n        .then(function () {\n          if (\n            !promiseByValueIndexAndSubjectIndex.every(function (row) { return row.some(function (promise) { return promise.isFulfilled(); }); }\n            ) ||\n            !subjectElements.every(function (subjectElement, i) { return promiseByValueIndexAndSubjectIndex.some(function (row) { return row[i].isFulfilled(); }\n              ); }\n            )\n          ) {\n            expect.fail({\n              diff: function diff(output, diff$1, inspect, equal) {\n                output.inline = true;\n                var prefixOutput = expect.subjectType.prefix(\n                  output.clone(),\n                  subject\n                );\n                var suffixOutput = expect.subjectType.suffix(\n                  output.clone(),\n                  subject\n                );\n\n                output.append(prefixOutput);\n                if (!prefixOutput.isEmpty()) {\n                  output.nl();\n                }\n                if (expect.subjectType.indent) {\n                  output.indentLines();\n                }\n\n                var index = 0;\n                subjectElements.forEach(function (subjectElement, subjectIndex) {\n                  output\n                    .nl(index > 0 ? 1 : 0)\n                    .i()\n                    .block(function () {\n                      this.appendInspected(subjectElement);\n                      expect.subjectType.delimiter(\n                        this,\n                        subjectIndex,\n                        subjectElements.length\n                      );\n                      if (\n                        !promiseBySubjectIndexAndValueIndex[subjectIndex].some(\n                          function (promise, valueIndex) { return promiseBySubjectIndexAndValueIndex[subjectIndex][\n                              valueIndex\n                            ].isFulfilled(); }\n                        )\n                      ) {\n                        this.sp().annotationBlock(function () {\n                          this.error('should be removed');\n                        });\n                      }\n                    });\n                  index += 1;\n                });\n                valueElements.forEach(function (valueElement, valueIndex) {\n                  if (\n                    promiseByValueIndexAndSubjectIndex[valueIndex].every(\n                      function (promise) { return promise.isRejected(); }\n                    )\n                  ) {\n                    output\n                      .nl(index > 0 ? 1 : 0)\n                      .i()\n                      .annotationBlock(function () {\n                        if (expect.findTypeOf(valueElement).is('function')) {\n                          this.omitSubject = subjectElements[0];\n                          this.error('missing:')\n                            .sp()\n                            .appendErrorMessage(\n                              promiseByValueIndexAndSubjectIndex[\n                                valueIndex\n                              ][0].reason()\n                            );\n                        } else {\n                          this.error('missing')\n                            .sp()\n                            .appendInspected(valueElement);\n                        }\n                      });\n                    index += 1;\n                  }\n                });\n\n                if (expect.subjectType.indent) {\n                  output.outdentLines();\n                }\n                if (!suffixOutput.isEmpty()) {\n                  output.nl();\n                }\n                output.append(suffixOutput);\n\n                return output;\n              },\n            });\n          }\n        });\n    }\n  );\n\n  expect.addAssertion(\n    '<Set> [not] to have size <number>',\n    function (expect, subject, value) {\n      expect(subject.size, '[not] to equal', value);\n    }\n  );\n};\n","var expect = require('./createTopLevelExpect')()\n  .use(require('./styles'))\n  .use(require('./types'))\n  .use(require('./assertions'))\n  .freeze();\n\n// Add an inspect method to all the promises we return that will make the REPL, console.log, and util.inspect render it nicely in node.js:\nrequire('unexpected-bluebird').prototype[require('./nodeJsCustomInspect')] =\n  function () {\n    return expect\n      .createOutput(require('magicpen').defaultFormat)\n      .appendInspected(this)\n      .toString();\n  };\n\nmodule.exports = expect;\n","var utils = require('./utils');\nvar stringDiff = require('diff');\nvar specialCharRegExp = require('./specialCharRegExp');\n\nmodule.exports = function (expect) {\n  expect.installTheme({\n    styles: {\n      jsBoolean: 'jsPrimitive',\n      jsNumber: 'jsPrimitive',\n      error: ['red', 'bold'],\n      success: ['green', 'bold'],\n      diffAddedLine: 'green',\n      diffAddedHighlight: ['bgGreen', 'white'],\n      diffAddedSpecialChar: ['bgGreen', 'cyan', 'bold'],\n      diffRemovedLine: 'red',\n      diffRemovedHighlight: ['bgRed', 'white'],\n      diffRemovedSpecialChar: ['bgRed', 'cyan', 'bold'],\n      partialMatchHighlight: ['bgYellow'],\n    },\n  });\n\n  expect.installTheme('html', {\n    palette: [\n      '#993333',\n      '#669933',\n      '#314575',\n      '#337777',\n      '#710071',\n      '#319916',\n      '#BB1A53',\n      '#999933',\n      '#4311C2',\n      '#996633',\n      '#993399',\n      '#333399',\n      '#228842',\n      '#C24747',\n      '#336699',\n      '#663399' ],\n    styles: {\n      jsComment: '#969896',\n      jsFunctionName: '#795da3',\n      jsKeyword: '#a71d5d',\n      jsPrimitive: '#0086b3',\n      jsRegexp: '#183691',\n      jsString: '#df5000',\n      jsKey: '#555',\n    },\n  });\n\n  expect.installTheme('ansi', {\n    palette: [\n      '#FF1A53',\n      '#E494FF',\n      '#1A53FF',\n      '#FF1AC6',\n      '#1AFF53',\n      '#D557FF',\n      '#81FF57',\n      '#C6FF1A',\n      '#531AFF',\n      '#AFFF94',\n      '#C61AFF',\n      '#53FF1A',\n      '#FF531A',\n      '#1AFFC6',\n      '#FFC61A',\n      '#1AC6FF' ],\n    styles: {\n      jsComment: 'gray',\n      jsFunctionName: 'jsKeyword',\n      jsKeyword: 'magenta',\n      jsNumber: [],\n      jsPrimitive: 'cyan',\n      jsRegexp: 'green',\n      jsString: 'cyan',\n      jsKey: '#666',\n      diffAddedHighlight: ['bgGreen', 'black'],\n      diffRemovedHighlight: ['bgRed', 'black'],\n      partialMatchHighlight: ['bgYellow', 'black'],\n    },\n  });\n\n  expect.addStyle('colorByIndex', function (content, index) {\n    var palette = this.theme().palette;\n    if (palette) {\n      var color = palette[index % palette.length];\n      this.text(content, color);\n    } else {\n      this.text(content);\n    }\n  });\n\n  expect.addStyle('singleQuotedString', function (content) {\n    content = String(content);\n    this.jsString(\"'\")\n      .jsString(\n        // eslint-disable-next-line no-control-regex\n        content.replace(/[\\\\\\x00-\\x1f']/g, function ($0) {\n          if ($0 === '\\n') {\n            return '\\\\n';\n          } else if ($0 === '\\r') {\n            return '\\\\r';\n          } else if ($0 === \"'\") {\n            return \"\\\\'\";\n          } else if ($0 === '\\\\') {\n            return '\\\\\\\\';\n          } else if ($0 === '\\t') {\n            return '\\\\t';\n          } else if ($0 === '\\b') {\n            return '\\\\b';\n          } else if ($0 === '\\f') {\n            return '\\\\f';\n          } else {\n            var charCode = $0.charCodeAt(0);\n            return (\"\\\\x\" + (charCode < 16 ? '0' : '') + (charCode.toString(16)));\n          }\n        })\n      )\n      .jsString(\"'\");\n  });\n\n  expect.addStyle(\n    'propertyForObject',\n    function (key, inspectedValue, isArrayLike) {\n      var keyOmitted = false;\n      var isSymbol = typeof key === 'symbol';\n      if (isSymbol) {\n        this.text('[').appendInspected(key).text(']').text(':');\n      } else {\n        key = String(key);\n        if (/^[a-z$_][a-z0-9$_]*$/i.test(key)) {\n          this.text(key, 'jsKey').text(':');\n        } else if (/^(?:0|[1-9][0-9]*)$/.test(key)) {\n          if (isArrayLike) {\n            keyOmitted = true;\n          } else {\n            this.jsNumber(key).text(':');\n          }\n        } else {\n          this.singleQuotedString(key).text(':');\n        }\n      }\n\n      if (!inspectedValue.isEmpty()) {\n        if (!keyOmitted) {\n          if (\n            key.length > 5 &&\n            inspectedValue.isBlock() &&\n            inspectedValue.isMultiline()\n          ) {\n            this.indentLines();\n            this.nl().i();\n          } else {\n            this.sp();\n          }\n        }\n        this.append(inspectedValue);\n      }\n    }\n  );\n\n  // Intended to be redefined by a plugin that offers syntax highlighting:\n  expect.addStyle('code', function (content, language) {\n    this.text(content);\n  });\n\n  expect.addStyle('annotationBlock', function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var pen = this.getContentFromArguments(args);\n    var height = pen.size().height;\n\n    this.block(function () {\n      for (var i = 0; i < height; i += 1) {\n        if (i > 0) {\n          this.nl();\n        }\n        this.error('//');\n      }\n    });\n    this.sp().block(pen);\n  });\n\n  expect.addStyle('commentBlock', function () {\n    var args = [], len = arguments.length;\n    while ( len-- ) args[ len ] = arguments[ len ];\n\n    var pen = this.getContentFromArguments(args);\n    var height = pen.size().height;\n\n    this.block(function () {\n      for (var i = 0; i < height; i += 1) {\n        if (i > 0) {\n          this.nl();\n        }\n        this.jsComment('//');\n      }\n    });\n    this.sp().block(pen);\n  });\n\n  expect.addStyle('diffLinesOmitted', function (lineCount) {\n    this.jsComment((\"... \" + lineCount + \" lines omitted ...\"));\n  });\n\n  expect.addStyle('removedHighlight', function (content) {\n    this.alt({\n      text: function text() {\n        content.split(/(\\n)/).forEach(function (fragment) {\n          this.block(function () {\n            this.text(fragment.replace(/\\n/g, '\\\\n'))\n              .nl()\n              .text(fragment.replace(/[\\s\\S]/g, '^'));\n          });\n          if (fragment === '\\n') {\n            this.nl();\n          }\n        }, this);\n      },\n      fallback: function fallback() {\n        var this$1 = this;\n\n        content.split(/(\\n)/).forEach(function (fragment) {\n          if (fragment === '\\n') {\n            this$1.diffRemovedSpecialChar('\\\\n').nl();\n          } else {\n            this$1.diffRemovedHighlight(fragment);\n          }\n        });\n      },\n    });\n  });\n\n  expect.addStyle('match', function (content) {\n    this.alt({\n      text: function text() {\n        content.split(/(\\n)/).forEach(function (fragment) {\n          if (fragment === '\\n') {\n            this.nl();\n          } else {\n            this.block(function () {\n              this.text(fragment)\n                .nl()\n                .text(fragment.replace(/[\\s\\S]/g, '^'));\n            });\n          }\n        }, this);\n      },\n      fallback: function fallback() {\n        this.diffAddedHighlight(content);\n      },\n    });\n  });\n\n  expect.addStyle('partialMatch', function (content) {\n    this.alt({\n      text: function text() {\n        // We haven't yet come up with a good styling for partial matches in text mode\n        this.match(content);\n      },\n      fallback: function fallback() {\n        this.partialMatchHighlight(content);\n      },\n    });\n  });\n\n  expect.addStyle('shouldEqualError', function (expected) {\n    this.error(typeof expected === 'undefined' ? 'should be' : 'should equal')\n      .sp()\n      .block(function () {\n        this.appendInspected(expected);\n      });\n  });\n\n  expect.addStyle('errorName', function (ref) {\n    var name = ref.name;\n    var constructor = ref.constructor;\n\n    if (typeof name === 'string' && name !== 'Error') {\n      this.text(name);\n    } else if (constructor && typeof constructor.name === 'string') {\n      this.text(constructor.name);\n    } else {\n      this.text('Error');\n    }\n  });\n\n  expect.addStyle('appendErrorMessage', function (error, options) {\n    if (error && error.isUnexpected) {\n      this.append(\n        error.getErrorMessage(utils.extend({ output: this }, options))\n      );\n    } else {\n      this.appendInspected(error);\n    }\n  });\n\n  expect.addStyle('appendItems', function (items, separator) {\n    var that = this;\n    separator = separator || '';\n    items.forEach(function (item, index) {\n      if (index > 0) {\n        that.append(separator);\n      }\n      that.appendInspected(item);\n    });\n  });\n\n  expect.addStyle(\n    'stringDiffFragment',\n    function (ch, text, baseStyle, markUpSpecialCharacters, isAtEol) {\n      var lines = text.split(/\\n/);\n      lines.forEach(function (line, i) {\n        if (this.isAtStartOfLine()) {\n          this.alt({\n            text: ch,\n            fallback: function fallback() {\n              if (\n                line === '' &&\n                ch !== ' ' &&\n                (i === 0 || i !== lines.length - 1)\n              ) {\n                this[\n                  ch === '+' ? 'diffAddedSpecialChar' : 'diffRemovedSpecialChar'\n                ]('\\\\n');\n              }\n            },\n          });\n        }\n        var matchTrailingSpace =\n          (isAtEol || i < lines.length - 1) && line.match(/^(.*[^ ])?( +)$/);\n        if (matchTrailingSpace) {\n          line = matchTrailingSpace[1] || '';\n        }\n\n        if (markUpSpecialCharacters) {\n          line.split(specialCharRegExp).forEach(function (part) {\n            if (specialCharRegExp.test(part)) {\n              this[\n                { '+': 'diffAddedSpecialChar', '-': 'diffRemovedSpecialChar' }[\n                  ch\n                ] || baseStyle\n              ](utils.escapeChar(part));\n            } else {\n              this[baseStyle](part);\n            }\n          }, this);\n        } else {\n          this[baseStyle](line);\n        }\n        if (matchTrailingSpace) {\n          this[\n            { '+': 'diffAddedHighlight', '-': 'diffRemovedHighlight' }[ch] ||\n              baseStyle\n          ](matchTrailingSpace[2]);\n        }\n        if (i !== lines.length - 1) {\n          this.nl();\n        }\n      }, this);\n    }\n  );\n\n  expect.addStyle('stringDiff', function (actual, expected, options) {\n    if ( options === void 0 ) options = {};\n\n    var type = options.type || 'WordsWithSpace';\n    var diffLines = [];\n    var lastPart;\n    stringDiff.diffLines(actual, expected).forEach(function (part) {\n      if (lastPart && lastPart.removed && part.added) {\n        diffLines.push({\n          oldValue: lastPart.value,\n          newValue: part.value,\n          replaced: true,\n        });\n        lastPart = null;\n      } else {\n        if (lastPart) {\n          diffLines.push(lastPart);\n        }\n        lastPart = part;\n      }\n    });\n    if (lastPart) {\n      diffLines.push(lastPart);\n    }\n\n    diffLines.forEach(function (part, index) {\n      if (part.replaced) {\n        var oldValue = part.oldValue;\n        var newValue = part.newValue;\n        var newLine = this.clone();\n        var oldEndsWithNewline = oldValue.slice(-1) === '\\n';\n        var newEndsWithNewline = newValue.slice(-1) === '\\n';\n        if (oldEndsWithNewline) {\n          oldValue = oldValue.slice(0, -1);\n        }\n        if (newEndsWithNewline) {\n          newValue = newValue.slice(0, -1);\n        }\n        stringDiff[(\"diff\" + type)](oldValue, newValue).forEach(function (\n          ref,\n          i,\n          lines\n        ) {\n          var added = ref.added;\n          var value = ref.value;\n          var removed = ref.removed;\n\n          var isAtEol = i === lines.length - 1;\n          if (added) {\n            newLine.stringDiffFragment(\n              '+',\n              value,\n              'diffAddedHighlight',\n              options.markUpSpecialCharacters,\n              isAtEol\n            );\n          } else if (removed) {\n            this.stringDiffFragment(\n              '-',\n              value,\n              'diffRemovedHighlight',\n              options.markUpSpecialCharacters,\n              isAtEol\n            );\n          } else {\n            newLine.stringDiffFragment(\n              '+',\n              value,\n              'diffAddedLine',\n              options.markUpSpecialCharacters,\n              isAtEol\n            );\n            this.stringDiffFragment(\n              '-',\n              value,\n              'diffRemovedLine',\n              options.markUpSpecialCharacters,\n              isAtEol\n            );\n          }\n        },\n        this);\n        if (newEndsWithNewline && !oldEndsWithNewline) {\n          newLine.diffAddedSpecialChar('\\\\n');\n        }\n\n        if (oldEndsWithNewline && !newEndsWithNewline) {\n          this.diffRemovedSpecialChar('\\\\n');\n        }\n        this.nl()\n          .append(newLine)\n          .nl(oldEndsWithNewline && index < diffLines.length - 1 ? 1 : 0);\n      } else {\n        var endsWithNewline = /\\n$/.test(part.value);\n        var value = endsWithNewline ? part.value.slice(0, -1) : part.value;\n        if (part.added) {\n          this.stringDiffFragment(\n            '+',\n            value,\n            'diffAddedLine',\n            options.markUpSpecialCharacters,\n            endsWithNewline || index === diffLines.length - 1\n          );\n        } else if (part.removed) {\n          this.stringDiffFragment(\n            '-',\n            value,\n            'diffRemovedLine',\n            options.markUpSpecialCharacters,\n            endsWithNewline || index === diffLines.length - 1\n          );\n        } else {\n          var horizon = 3;\n          if (index === diffLines.length - 1 && part.count > horizon + 1) {\n            this.stringDiffFragment(\n              ' ',\n              value.split('\\n').slice(0, horizon).join('\\n'),\n              'text'\n            )\n              .nl()\n              .diffLinesOmitted(part.count - horizon);\n          } else if (index === 0 && part.count > horizon + 1) {\n            this.diffLinesOmitted(part.count - horizon)\n              .nl()\n              .stringDiffFragment(\n                ' ',\n                value.split('\\n').slice(-horizon).join('\\n'),\n                'text'\n              );\n          } else if (part.count > 2 * horizon + 1) {\n            this.stringDiffFragment(\n              ' ',\n              value.split('\\n').slice(0, horizon).join('\\n'),\n              'text'\n            )\n              .nl()\n              .diffLinesOmitted(part.count - 2 * horizon)\n              .nl()\n              .stringDiffFragment(\n                ' ',\n                value.split('\\n').slice(-horizon).join('\\n'),\n                'text'\n              );\n          } else {\n            this.stringDiffFragment(' ', value, 'text');\n          }\n        }\n        if (endsWithNewline) {\n          this.nl();\n        }\n      }\n    }, this);\n  });\n\n  expect.addStyle('arrow', function (options) {\n    if ( options === void 0 ) options = {};\n\n    var styles = options.styles || [];\n    var i;\n    this.nl(options.top || 0)\n      .sp(options.left || 0)\n      .text('┌', styles);\n    for (i = 1; i < options.width; i += 1) {\n      this.text(\n        i === options.width - 1 && options.direction === 'up' ? '▷' : '─',\n        styles\n      );\n    }\n    this.nl();\n    for (i = 1; i < options.height - 1; i += 1) {\n      this.sp(options.left || 0)\n        .text('│', styles)\n        .nl();\n    }\n    this.sp(options.left || 0).text('└', styles);\n    for (i = 1; i < options.width; i += 1) {\n      this.text(\n        i === options.width - 1 && options.direction === 'down' ? '▷' : '─',\n        styles\n      );\n    }\n  });\n\n  var flattenBlocksInLines = require('magicpen/lib/flattenBlocksInLines');\n  expect.addStyle('merge', function (pens) {\n    var flattenedPens = pens\n      .map(function (ref) {\n        var output = ref.output;\n\n        return flattenBlocksInLines(output);\n    })\n      .reverse();\n    var maxHeight = flattenedPens.reduce(\n      function (maxHeight, ref) {\n        var length = ref.length;\n\n        return Math.max(maxHeight, length);\n    },\n      0\n    );\n    var blockNumbers = new Array(flattenedPens.length);\n    var blockOffsets = new Array(flattenedPens.length);\n    // As long as there's at least one pen with a line left:\n    for (var lineNumber = 0; lineNumber < maxHeight; lineNumber += 1) {\n      if (lineNumber > 0) {\n        this.nl();\n      }\n      var i = (void 0);\n      for (i = 0; i < blockNumbers.length; i += 1) {\n        blockNumbers[i] = 0;\n        blockOffsets[i] = 0;\n      }\n      var contentLeft = (void 0);\n      do {\n        contentLeft = false;\n        var hasOutputChar = false;\n        for (i = 0; i < flattenedPens.length; i += 1) {\n          var currentLine = flattenedPens[i][lineNumber];\n          if (currentLine) {\n            while (\n              currentLine[blockNumbers[i]] &&\n              blockOffsets[i] >=\n                currentLine[blockNumbers[i]].args.content.length\n            ) {\n              blockNumbers[i] += 1;\n              blockOffsets[i] = 0;\n            }\n            var currentBlock = currentLine[blockNumbers[i]];\n            if (currentBlock) {\n              contentLeft = true;\n              if (!hasOutputChar) {\n                var ch = currentBlock.args.content.charAt(blockOffsets[i]);\n                if (ch !== ' ') {\n                  this.text(ch, currentBlock.args.styles);\n                  hasOutputChar = true;\n                }\n              }\n              blockOffsets[i] += 1;\n            }\n          }\n        }\n        if (!hasOutputChar && contentLeft) {\n          this.sp();\n        }\n      } while (contentLeft);\n    }\n  });\n\n  expect.addStyle(\n    'arrowsAlongsideChangeOutputs',\n    function (packing, changeOutputs) {\n      if (packing) {\n        var topByChangeNumber = {};\n        var top = 0;\n        changeOutputs.forEach(function (changeOutput, index) {\n          topByChangeNumber[index] = top;\n          top += changeOutput.size().height;\n        });\n        var that = this;\n\n        var arrows = [];\n        packing.forEach(function (columnSet, i, ref) {\n          var length = ref.length;\n\n          columnSet.forEach(function (ref) {\n            var start = ref.start;\n            var end = ref.end;\n            var direction = ref.direction;\n\n            arrows.push(\n              that.clone().arrow({\n                left: i * 2,\n                top: topByChangeNumber[start],\n                width: 1 + (length - i) * 2,\n                height: topByChangeNumber[end] - topByChangeNumber[start] + 1,\n                direction: direction,\n              })\n            );\n          });\n        });\n\n        if (arrows.length === 1) {\n          this.block(arrows[0]);\n        } else if (arrows.length > 1) {\n          this.block(function () {\n            this.merge(arrows);\n          });\n        }\n      } else {\n        this.i();\n      }\n\n      this.block(function () {\n        changeOutputs.forEach(function (changeOutput, index) {\n          this.nl(index > 0 ? 1 : 0);\n          if (!changeOutput.isEmpty()) {\n            this.sp(packing ? 1 : 0).append(changeOutput);\n          }\n        }, this);\n      });\n    }\n  );\n};\n"],"names":["AssertionString","text","this","createStandardErrorMessage","output","subject","testDescription","args","options","preamble","subjectOutput","clone","call","argsOutput","length","previousWasAssertion","forEach","arg","index","isAssertion","sp","error","subjectSize","size","argsSize","width","height","Math","max","omitSubject","matchTestDescription","exec","compact","compactSubject","compactWidth","nl","append","preferredWidth","global$1","global","self","window","defaultSetTimout","Error","defaultClearTimeout","cachedSetTimeout","cachedClearTimeout","runTimeout","fun","setTimeout","e","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","concat","drainQueue","timeout","len","run","marker","runClearTimeout","nextTick","Array","arguments","i","push","Item","array","prototype","apply","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","performance","performanceNow","now","mozNow","msNow","oNow","webkitNow","Date","getTime","startTime","process","title","browser","env","argv","version","versions","binding","name","cwd","chdir","dir","umask","hrtime","previousTimestamp","clocktime","seconds","floor","nanoseconds","platform","release","config","uptime","intersection","intersects","x","y","start","end","intersectsWithSome","intervals","interval","some","other","byDescStartAndLength","a","b","c","canSetPrototype","Object","setPrototypeOf","__proto__","obj","proto","utils","module","exports","objectIs","is","checkObjectEqualityUsingType","type","isEqual","constructor","actualKeys","getKeys","filter","key","valueForKey","expectedKeys","sort","keyComparator","j","duplicateArrayLikeUsingType","keys","numericalKeyLength","numericalPropertiesOnly","nonNumericalKeyLength","numericalRegExp","test","arr","hasKey","undefined","isArray","toString","isPromise","then","isRegExp","re","isError","err","extend","target","arguments$1","loop","source","findFirst","predicate","leftPad","str","ch","escapeRegExpMetaChars","replace","escapeChar","charCode","charCodeAt","hexChars","toUpperCase","getFunctionName","f","matchFunctionName","Function","match","wrapConstructorNameAroundOutput","constructorName","setPrototypeOfOrExtend","prop","hasOwnProperty","uniqueStringsAndSymbols","filterFn","visit","item","uniqueNonNumericalStringsAndSymbols","stringOrSymbol","slice","forwardFlags","testDescriptionString","flags","negate","flag","Boolean","trim","packArrows","changes","moveSourceAndTargetByActualIndex","diffItem","changeIndex","actualIndex","moveIndices","arrowSpecs","abs","moveSourceAndMoveTarget","firstChangeIndex","min","lastChangeIndex","direction","packing","currentPartition","partitions","currentPartitionEnd","pop","groupPartitions","reduce","result","partition","partitionGroup","greedyIntervalPacker","shift","ref","truncateSubjectStringForBegin","value","contextLength","truncationIndex","indexOf","substring","truncateSubjectStringForEnd","lastIndexOf","getEnv","varName","Deno","calculateOutputEntrySize","outputEntry","style","String","content","calculateSize","calculateLineSize","line","outputEntrySize","lines","lineSize","arrayEquals","escapeRegExp","thisObj","scope","utils_1","whitespaceCacheLength","whitespaceCache","duplicateText_1","times","segment","numberOfSegments","rgbRegexp","cssStyles","bold","dim","italic","underline","inverse","hidden","strikeThrough","black","red","green","yellow","blue","magenta","cyan","white","gray","bgBlack","bgRed","bgGreen","bgYellow","bgBlue","bgMagenta","bgCyan","bgWhite","styleName","toLowerCase","forceColor","cssStyles_1","isNode","node","color","noColor","runtime","os","require$$0","getNodeRelease","hasFlag","prefix","pos","terminatorPos","getSupportLevel","stream","level","isTTY","TERM","osRelease","split","Number","sign","CI_NAME","TEAMCITY_VERSION","COLORTERM","parseInt","TERM_PROGRAM_VERSION","TERM_PROGRAM","supportsColor","hasBasic","has256","has16m","translateLevel","FORCE_COLOR","supportsColor_1","stdout","stderr","flattenBlocksInLine","lineContainsBlocks","linesLengths","startIndex","blockIndex","blockLines","map","styles","themes","flattenBlocksInLines","flattenBlocksInOutputEntry","blockLinesLengths","longestLineLength","blockLine","resultLine","paddingLength","duplicateText","flattenBlocksInLines_1","TextSerializer","format","serialize","serializeLine","join","block","raw","TextSerializer_1","themeMapper","theme","count","stack","themeMapping","themeStyles","HtmlSerializer","serializeLines","html","styleProperties","HtmlSerializer_1","ciede2000_1","c1","c2","L1","L","a1","b1","L2","a2","b2","C1","sqrt","pow","C2","a_C1_C2","G","a1p","a2p","C1p","C2p","hp_f","tmphp","atan2","PI","h1p","h2p","dLp","dCp","dhp","dhp_f","dHp","sin","radians","a_L","a_Cp","a_hp","a_hp_f","T","cos","d_ro","exp","RC","SL","SC","SH","RT","n","rgb_to_lab_1","ref_Y","ref_Z","ref_X","Y","Z","X","xyz_to_lab","R","B","rgb_to_xyz","map_palette_1","idx1","color1","best_color","best_color_diff","idx2","color2","current_color_diff","diff","palette_map_key","color_convert","rgb_to_lab","color_diff","ciede2000","convert","map_palette","palette","closest","relative","furthest","modifiers","reset","strikethrough","colors","bgColors","grey","groupName","group","open","close","defineProperty","enumerable","cacheSize","ansiStyles","AnsiSerializer","colorPalettes","diffPalettes","convertColorToObject","hexMatch","toHexColor","colorObject","hexString","round","substr","nextAnsiColorNumber","registerNext256PaletteEntry","r","g","ansi","originalStyleName","isBackgroundColor","colorName","color16Hex","colorDiff","closestColor16","color256Hex","closest256ColorIndex","AnsiSerializer_1","ColoredConsoleSerializer","formatString","styleStrings","entry","coloredConsole","ColoredConsoleSerializer_1","builtInStyleNames","MagicPen","indentationWidth","indentationLevel","create","installedPlugins","_themes","serializers","serializerName","hasSameTextStyling","normalizeLine","lastEntry","isRawOutput","amend","pen","lastLine","newOutput","replaceText","outputArray","regexp","cb","replacedOutput","m","lastIndex","first","nodeName","defaultFormat","navigator","_phantom","mochaPhantomJS","__karma__","captureConsole","newline","require$$1","require$$2","require$$3","require$$4","serializer","write","indentLines","indent","space","outdentLines","addStyle","handler","allowRedefinition","_stylesHaveNotBeenClonedYet","lineContent","removeFormatting","getContentFromArguments","isMagicPen","ensureCompatibleFormat","isMultiline","isAtStartOfLine","isBlock","blockOutput","alt","outputProperty","fallback","isEmpty","prependLinesWith","textStyle","MagicPenClone","clonedPen","_themesHaveNotBeenClonedYet","parent","use","plugin","existingPlugin","installedPlugin","pluginName","installInto","dependencies","instance","thisAndParents","unfulfilledDependencies","dependency","installPlugin","RegExp","_","installTheme","formats","that","clonedThemes","themeKey","baseTheme","extendedTheme","ukkonen_1","threshold","Infinity","tmp","aLen","bLen","tStart","dLen","ZERO_K","arrayLength","currentRow","nextRow","aCharCodes","bCharCodes","t","conditionRow","endMax","previousCell","nextCell","currentCell","k","rowIndex","isES5","freeze","getDescriptor","getOwnPropertyDescriptor","names","getOwnPropertyNames","getPrototypeOf","propertyIsWritable","descriptor","writable","set","has","ObjectKeys","o","ret","desc","tryCatchTarget","canEvaluate","haveGetters","es5","get","errorObj","tryCatcher","isPrimitive","val","notEnumerableProp","configurable","inheritedDataKeys","excludedPrototypes","isExcludedProto","visitedKeys","hasProp","enumeration","thisAssignmentPattern","rident","safeToString","canAttachTrace","ensureErrorObject","classString","isClass","fn","hasMethods","hasMethodsOtherThanConstructor","hasThisAssignmentAndStaticMethods","isIdentifier","getDataPropertyOrDefault","defaultValue","thrower","isObject","tryCatch","inherits","Child","Parent","propertyName","constructor$","charAt","withAppended","appendee","maybeWrapAsError","maybeError","toFastProperties","filledRange","suffix","originatesFromRejection","OperationalError","markAsOriginatingFromRejection","ignore","copyDescriptors","from","to","hasDevTools","chrome","loadTimes","isRecentNode","lastLineError","schedule","util","MutationObserver","GlobalSetImmediate","setImmediate","ProcessNextTick","process.nextTick","standalone","div","document","createElement","observe","attributes","classList","toggle","isStatic","schedule_1","Queue","capacity","_capacity","_length","_front","_willBeOverCapacity","_pushOne","_checkCapacity","_unshiftOne","unshift","receiver","wrapMask","front","_resizeTo","oldCapacity","src","srcIndex","dst","dstIndex","arrayMove","firstLineError","Async","_isTickUsed","_lateQueue","_normalQueue","_trampolineEnabled","drainQueues","_drainQueues","_schedule","AsyncInvokeLater","_queueTick","AsyncInvoke","AsyncSettlePromises","promise","disableTrampolineIfNecessary","enableTrampoline","haveItemsQueued","throwLater","invokeLater","invoke","settlePromises","_settlePromises","invokeFirst","_drainQueue","_reset","async","firstLineError_1","_TypeError","_RangeError","Objectfreeze","subError","nameProperty","defaultMessage","SubError","message","captureStackTrace","Warning","CancellationError","TimeoutError","AggregateError","TypeError","RangeError","methods","cause","errorTypes","RejectionError","errors","thenables","Promise","INTERNAL","getThen","context","isAnyBluebirdPromise","_then","_fulfillUnchecked","_rejectUncheckedCheckError","_progressUnchecked","_pushContext","reject","_popContext","_captureStackTrace","synchronous","resolveFromThenable","rejectFromThenable","progressFromThenable","_rejectCallback","_resolveCallback","reason","_progress","doThenable","captured_trace","warn","bluebirdFramePattern","stackFramePattern","formatStack","indentStackFrames","CapturedTrace","_parent","uncycle","cleanStack","isTraceLine","isInternalFrame","shouldIgnore","formatNonError","JSON","stringify","maxChars","snip","nodes","stackToIndex","cycleEdgeNode","currentChildLength","hasParent","attachExtraTrace","__stackCleaned__","parsed","parseStackAndMessage","stacks","trace","current","prev","currentLastIndex","currentLastLine","commonRootMeetPoint","removeCommonRoots","splice","removeDuplicateOrEmptyJumps","reconstructStack","stackFramesAsArray","formatAndLogError","console","log","unhandledRejection","isSupported","fireRejectionEvent","localHandler","localEventFired","globalEventFired","fireGlobalEvent","domEventFired","fireDomEvent","parseLineInfoRegex","parseLineInfo","matches","fileName","setBounds","firstFileName","lastFileName","firstStackLines","lastStackLines","firstIndex","info","v8stackFramePattern","v8stackFormatter","stackTraceLimit","ignoreUntil","hasStackAfterThrow","customEventWorks","anyEventWorks","ev","CustomEvent","event","createEvent","initCustomEvent","dispatchEvent","detail","bubbles","cancelable","toWindowMethodNameMap","methodName","method","PromiseResolver","rErrorKey","wrapAsOperationalError","isUntypedError","nodebackForPromise","wrapped","_attachExtraTrace","_reject","$_len","$_i","_fulfill","asCallback","callback","_nodebackForPromise","resolve","fulfill","progress","cancel","isResolved","toJSON","promise_resolver","synchronous_inspection","PromiseInspection","_target","_bitField","_settledValue","isFulfilled","isRejected","_isFulfilled","_isRejected","isPending","_isPending","_isResolved","_value","_reason","_unsetRejectionIsUnhandled","using","apiRejection","tryConvertToPromise","createContext","inspectionMapper","inspections","inspection","dispose","resources","defer","iterator","maybePromise","thenable","_isDisposable","_getDisposer","_setDisposable","castPreservingDisposable","tryDispose","disposerSuccess","thenReturn","disposerFail","thenThrow","Disposer","data","_data","_promise","_context","FunctionDisposer","maybeUnwrapDisposer","isDisposer","resource","doDispose","_unsetDisposable","d","disposer","settle","vals","_disposer","generators","yieldHandlers","PromiseSpawn","generatorFunction","yieldHandler","_stack","_generatorFunction","_receiver","_generator","_yieldHandlers","_run","_next","_continue","done","traceParent","promiseFromYieldHandler","_throw","next","coroutine","PromiseSpawn$","generator","spawn","addYieldHandler","cr","callerCache","getterCache","old","race","promises","raceLater","_propagateFrom","cast","promisify","THIS","defaultPromisified","__isPromisified__","noCopyPropsPattern","defaultFilter","propsFilter","isPromisified","hasPromisified","promisifiableMethods","suffixRegexp","passesDefaultFilter","keyWithoutAsyncSuffix","checkValid","makeNodePromisifiedEval","originalName","newParameterCount","parameterCount","argumentOrder","likelyArgumentCount","switchCaseArgumentOrder","shouldProxyThis","generateCallForArgumentCount","argumentCount","comma","getFunctionCode","parameterDeclaration","generateArgumentSwitchCase","makeNodePromisified","defaultThis","promisified","promisifyAll","promisifier","timers","afterValue","delay","ms","successClear","handle","failureClear","cancellable","_cancellationParent","_cancel","afterTimeout","bluebird","getDomain","makeSelfResolutionError","reflect","msg","domain","util$1","APPLY","NEXT_FILTER","PromiseArray","values","_values","_totalResolved","_init","init","resolveValueIfEmpty","__hardReject__","getActualLength","shouldCopyValues","_ignoreRejections","_proxyPromiseArray","_promiseFulfilled","_promiseRejected","_resolveEmptyArray","_resolve","toResolutionValue","_promiseProgressed","progressValue","require$$5","isDebugging","unhandledRejectionHandled","possiblyUnhandledRejection","_getDomain","debugging","_ensurePossibleRejectionHandled","_setRejectionIsUnhandled","_notifyUnhandledRejection","_notifyUnhandledRejectionIsHandled","_isRejectionUnhandled","_getCarriedStackTrace","_setUnhandledRejectionIsNotified","_unsetUnhandledRejectionIsNotified","_isUnhandledRejectionNotified","_setCarriedStackTrace","capturedTrace","_fulfillmentHandler0","_isCarryingStackTrace","force","_traceForced","_trace","_peekContext","ignoreSelf","_warn","warning","ctx","onPossiblyUnhandledRejection","bind","onUnhandledRejectionHandled","longStackTraces","hasLongStackTraces","require$$6","contextStack","Context","peekContext","require$$7","CatchFilter","instances","_instances","_callback","safePredicate","safeObject","retfilter","doFilter","boundTo","_boundValue","itemIsErrorType","shouldHandle","require$$8","require$$9","resolver","_rejectionHandler0","_progressHandler0","_promise0","_receiver0","_resolveFromResolver","fillTypes","p","caught","catchInstances","catchFilter","didFulfill","didReject","didProgress","_setIsFinal","spread","all","isCancellable","_cancellable","fulfillmentValue","rejectionReason","fromNode","pending","fulfilled","rejected","setScheduler","internalData","haveInternalData","_boundTo","_setIsMigrated","callbackIndex","_addCallbacks","_isSettlePromisesQueued","_settlePromiseAtPostResolution","_settlePromiseAt","_isFollowingOrFulfilledOrRejected","_isFollowing","_setLength","_setFulfilled","_setRejected","_setFollowing","_isFinal","_setCancellable","_unsetCancellable","_unsetIsMigrated","_isMigrated","_receiverAt","_isBound","_promiseAt","_fulfillmentHandlerAt","_rejectionHandlerAt","_migrateCallbacks","follower","_progressHandlerAt","base","_setProxyHandlers","promiseSlotValue","promiseArray","shouldBind","propagationFlags","_setFollowee","_rejectUnchecked","shouldNotMarkOriginatingFromRejection","hasStack","_settlePromiseFromHandler","_followee","_cleanValues","_setBoundTo","carriedStackTrace","_clearCallbackDataAtIndex","_setSettlePromisesQueued","_unsetSettlePromisesQueued","_queueSettlePromises","progressed","_doProgressWith","progression","require$$10","_resolveFromSyncValue","attempt","rejectThis","targetRejected","promiseRejectionQueued","bindingPromise","bindingResolved","thisArg","bindingRejected","require$$12","returnThis","throwThis","promisedFinally","reasonOrValue","return$","throw$","finallyHandler","tapHandler","_passThroughHandler","isFinally","promiseAndHandler","lastly","tap","require$$13","returner","returnUndefined","throwUndefined","wrapper","action","direct_resolve","thenCallback","caller","thenCallbacks","callers","Holder","total","p1","p2","p3","p4","p5","checkFulfillment","last","holder","callbacks","PENDING","EMPTY_ARRAY","MappingPromiseArray","limit","_filter","_preservedValues","_limit","_inFlight","_queue","_init$","concurrency","isFinite","preservedValues","booleans","promiseToReject","uncancellable","fork","spreadAdapter","nodeback","successAdapter","errorAdapter","newReason","nodeify","adapter","getMethodCaller","getGetter","makeMethodCaller","ensureMethod","makeGetter","getCompiled","compiler","cache","namedGetter","indexedGetter","maybeCaller","getter","maybeGetter","call_get","PropertiesPromiseArray","props","castValue","keyOffset","ReductionPromiseArray","accum","_each","_zerothIsAccum","_gotAccum","_reducingIndex","_valuesPhase","_accum","initialValue","valuesPhaseIndex","isEach","gotAccum","valuesPhase","SettledPromiseArray","_promiseResolved","require$$26","SomePromiseArray","_howMany","_unwrap","_initialized","howMany","setHowMany","isArrayResolved","_canPossiblyFulfill","_getRangeError","setUnwrap","_addFulfilled","_fulfilled","_addRejected","_rejected","_SomePromiseArray","require$$27","require$$28","any","PromiseReduce","each","require$$30","require$$31","PromiseMap","require$$32","noConflict","bluebird_1","workQueue","drain","scheduler","onUnhandledRejection","workQueue_1","useFullStackTrace","location","search","useFullStackTrace_1","oathbreaker","onResolve","onReject","evaluated","_isUnexpected","throwIfNonUnexpectedError_1","throwIfNonUnexpectedError","makePromise","body","resolvedValue","runningTasks","outerFunctionHasReturned","fulfillIfDone","noteResolvedValue","extractPromisesFromObject","getOwnPropertySymbols","staticMethodName","makePromise_1","addAdditionalPromiseMethods_1","addAdditionalPromiseMethods","expect","and","executeAnd","findTypeOf","wrapPromiseIfNecessary","defaultDepth","matchDepthParameter","defaultDepthFromEnv","defaultDepth_1","errorMethodBlacklist","UnexpectedError","errorMode","defineProperties","missingOutputMessage","outputFromOptions","createOutput","isUnexpected","buildDiff","createDiff","actual","expected","v","depth","appendInspected","equal","getDefaultErrorMessage","standardErrorMessage","errorWithDiff","comparison","getNestedErrorMessage","getErrorMode","getErrorMessage","getDefaultOrNestedMessage","hasDiff","getDiffMethod","getDiff","getDiffMessage","errorWithBubbleThrough","serializeMessage","outputFormat","_hasSerializedErrorMessage","htmlFormat","htmlMessage","originalError","matchErrorName","stackStart","findStackStart","newStack","indentation","newError","getLabel","currentError","label","getParents","getAllErrors","__defineGetter__","UnexpectedError_1","pendingPromisesForTheCurrentTest","afterEachRegistered","currentSpec","isPendingOrHasUnhandledRejection","uncaught","registerAfterEachHook","afterEach","displayName","testPassed","currentTest","state","failedExpectations","fullName","jasmine","addReporter","specStarted","spec","specDone","child","Context_1","ensureValidUseOfParenthesesOrBrackets_1","pattern","counts","createPermutations","tokens","alternations","token","tail","isFlag","isAlternation","alternation","expandAssertion_1","splitRegex","permutations","permutation","require","inspect","custom","isAssertionArg","anyType","_unexpectedType","identify","diff$1","typeEqualityCache","typeOrTypeName","typeName","cachedValue","baseType","nodeJsCustomInspect","OR","createExpectIt","expectations","forwardedFlags","orGroups","expectation","getOrGroups","expectIt","groupEvaluations","orGroup","evaluations","_expect","evaluateGroup","groupEvaluation","every","fail","hasOrClauses","hasAndClauses","jsComment","groupFailed","evaluation","success","writeGroupEvaluationsToOutput","_expectIt","_expectations","_OR","copiedExpectations","or","expectPrototype","notifyPendingPromise","utils_1$1","it","_topLevelExpect","seen","this$1","findCommonType","outputOrFormat","printOutput","currentDepth","objType","childDepth","expandTypeAlternations","assertion","tails","minimum","maximum","getType","subjectRequirement","parseAssertion","assertionString","nextIndex","hasVarargs","types","$1","$2","SyntaxError","typeDeclaration","matchNameAndOperator","operator","argRequirements","lastArgRequirements","assertionRequirements","placeholderSplitRegexp","placeholderRegexp","compareSpecificities","getPluginName","lookupAssertionsInParentChain","assertions","findSuffixAssertions","straightforwardAssertions","suffixAssertions","createTopLevelExpect","parentExpect","typeByName","magicpen","inline","_outputFormat","_frozen","installedHooks","_fail","childOutput","placeholderArgs","placeholderArg","addAssertion","patternOrPatterns","childExpect","errorMessage","patterns","defaultValueByFlag","assertionHandlers","maxNumberOfArgs","ensureValidUseOfParenthesesOrBrackets","expandAssertion","previous","limits","declaration","specificity","addType","extendedBaseType","extendedType","originalInspect","originalDiff","findTypeOfWithParentType","requiredParentType","aAncestorIndex","_assertTopLevelExpect","withError","throwAssertionNotFoundError","candidateHandlers","appendItems","assertionsWithScore","assertionStrings","score","ukkonen","bestMatch","aAssertion","lookupAssertionRule","bAssertion","compareAssertions","jsString","requireAssertionSuffix","handlers","instanceHandlers","cachedTypes","assertionType","relaxed","matchesHandler","lastRequirement","_assertWrappedExpect","setErrorMessage","_createWrappedExpect","assertionRule","wrappedExpect","_callInNestedContext","_executeExpect","execute","argRule","_getAssertionIndices","OUTER","remainingTokens","argsWithAssertionPrepended","recursions","declarations","clonedAssertions","hook","exportAssertion","exportType","exportStyle","jsFunctionName","subjectType","wrappedError","assertionIndex","rest","nextArgumentType","_getSubjectType","_getArgTypes","_assertionIndices","assertionIndices","currentAssertionRule","offset","createTopLevelExpect_1","Diff","buildValues","components","newString","oldString","useLongestToken","componentPos","componentLen","newPos","oldPos","component","removed","added","oldValue","lastComponent","equals","castInput","removeEmpty","tokenize","newLen","oldLen","editLength","maxEditLength","bestPath","extractCommon","execEditLength","diagonalPath","basePath","addPath","removePath","_oldPos","canAdd","canRemove","path","pushComponent","commonCount","left","right","comparator","ignoreCase","chars","characterDiff","generateOptions","defaults","extendedWordChars","reWhitespace","wordDiff","ignoreWhitespace","lineDiff","diffLines","oldStr","newStr","retLines","linesAndNewlines","newlineIsToken","sentenceDiff","cssDiff","_typeof","Symbol","_toConsumableArray","_arrayLikeToArray","_arrayWithoutHoles","iter","_iterableToArray","minLen","_unsupportedIterableToArray","_nonIterableSpread","arr2","objectPrototypeToString","jsonDiff","canonicalize","replacementStack","replacer","canonicalizedObj","_key","sortedKeys","_this$options","undefinedReplacement","_this$options$stringi","stringifyReplacer","arrayDiff","parsePatch","uniDiff","diffstr","delimiters","list","parseIndex","header","parseFileHeader","hunks","_line","parseHunk","strict","fileHeader","keyPrefix","chunkHeaderIndex","chunkHeader","hunk","oldStart","oldLines","newStart","newLines","linedelimiters","addCount","removeCount","operation","distanceIterator","minLine","maxLine","wantForward","backwardExhausted","forwardExhausted","localOffset","applyPatch","removeEOFNL","addEOFNL","compareLine","lineNumber","patchContent","errorCount","fuzzFactor","hunkFits","toPos","diffOffset","_i","_hunk","_toPos","delimiter","previousOperation","_k","structuredPatch","oldFileName","newFileName","oldHeader","newHeader","oldRangeStart","newRangeStart","curRange","oldLine","newLine","_loop","_curRange","contextLines","_curRange2","_curRange3","contextSize","oldEOFNewline","newEOFNewline","noNlBeforeAdds","createTwoFilesPatch","formatPatch","arrayStartsWith","calcLineCount","_calcOldNewLineCount","calcOldNewLineCount","loadPatch","param","fileNameChanged","patch","selectField","mine","theirs","conflict","hunkBefore","check","cloneHunk","mergeLines","mineOffset","mineLines","theirOffset","theirLines","their","insertLeading","mineCurrent","theirCurrent","_hunk$lines","collectChange","_hunk$lines2","removal","mutualChange","insertTrailing","myChanges","theirChanges","allRemoves","_hunk$lines3","_hunk$lines4","skipRemoveSuperset","arrayEqual","_hunk$lines5","swap","_hunk$lines6","matchChanges","merged","matchIndex","contextChanges","conflicted","change","collectContext","insert","removeChanges","delta","changeContent","myCount","theirCount","escapeHTML","s","arrayDiff$2","currentIndex","processIndex","complete","loadFile","updatedContent","patched","oldArr","newArr","oldObj","newObj","mineIndex","theirsIndex","theirsOffset","theirsCurrent","mergedHunk","specialCharRegExp","lookup","revLookup","Arr","Uint8Array","inited","code","encodeChunk","uint8","num","fromByteArray","extraBytes","parts","maxChunkLength","len2","read","buffer","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","rt","isNaN","LN2","kMaxLength","Buffer","TYPED_ARRAY_SUPPORT","createBuffer","encodingOrOffset","allocUnsafe","ArrayBuffer","byteOffset","byteLength","fromArrayLike","fromArrayBuffer","string","encoding","isEncoding","fromString","internalIsBuffer","checked","copy","fromObject","assertSize","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","buf","readUInt16BE","foundIndex","found","hexWrite","remaining","strLen","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","units","hi","lo","utf16leToBytes","base64.fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","fromCharCode","decodeCodePointsArray","poolSize","_augment","species","alloc","fill","allocUnsafeSlow","isBuffer","compare","swap16","swap32","swap64","thisStart","thisEnd","thisCopy","targetCopy","includes","_arr","out","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","b64","l","placeHolders","base64.toByteArray","stringtrim","base64clean","isFastBuffer","isSlowBuffer","arraydiffPapandreou","InsertDiff","RemoveDiff","MoveDiff","strictEqual","before","after","equalFn","beforeLength","afterLength","moves","beforeMarked","afterMarked","beforeIndex","beforeItem","afterIndex","removes","inserts","insertsLength","removesLength","movesLength","remove","move","earlier","outputMoves","later","arrayChanges","similar","includeNonNumericalProperties","fallbackToItemByItemDiff","mutatedArray","itemsDiff","aIndex","bIndex","offsetIndex","removedItems","removeIndex","moveFromIndex","insertIndex","expectedIndex","conflicts","nonNumericalKeys","isSeenByNonNumericalKey","symbol","valueExpected","valueActual","_isFinite","repeating","INDENT_RE","arraydiffAsync","MAX_STACK_DEPTH","indexA","indexB","findMatching","areEqual","stackDepthRemaining","newBeforeIndex","newAfterIndex","arrayChangesCallback","isSimilar","currentOffsetIndex","countConflicts","stackCallsRemaining","areSimilar","setEqual","jsBoolean","jsNumber","diffAddedLine","diffAddedHighlight","diffAddedSpecialChar","diffRemovedLine","diffRemovedHighlight","diffRemovedSpecialChar","partialMatchHighlight","jsKeyword","jsPrimitive","jsRegexp","jsKey","$0","inspectedValue","isArrayLike","keyOmitted","singleQuotedString","language","lineCount","fragment","items","separator","baseStyle","markUpSpecialCharacters","isAtEol","matchTrailingSpace","part","lastPart","stringDiff","newValue","replaced","oldEndsWithNewline","newEndsWithNewline","stringDiffFragment","endsWithNewline","horizon","diffLinesOmitted","top","pens","flattenedPens","reverse","maxHeight","blockNumbers","blockOffsets","contentLeft","hasOutputChar","currentLine","currentBlock","changeOutputs","topByChangeNumber","changeOutput","arrows","columnSet","arrow","merge","equal$1","unwrap","inspect$1","prefixOutput","suffixOutput","annotationBlock","shouldEqualError","forceMultipleLines","property","propertyForObject","symbols","aString","bString","bIsSymbol","own","inspectedItems","propertyDescriptor","hasGetter","hasSetter","propertyOutput","maxLineLength","inspectedItem","itemsOutput","currentLineLength","uniqueKeys","valueOutput","annotation","conflicting","isInlineDiff","keyDiff","typeA","aKeys","bKeys","numberOfSimilarKeys","requiredSimilarKeys","getKeysNonNumerical","multipleLines","diffLimit","actualElements","expectedElements","nonNumericalKeysAndSymbols","indexOfLastNonInsert","previousValue","arrowsAlongsideChangeOutputs","delimiterOutput","valueDiff","errorName","unexpectedErrorMethodBlacklist","date","toISOString","bodyIndent","matchSource","openingBrace","matchBodyAndIndent","isWrappedInBraces","closingBrace","reindentBodyLevel","matchInitialNewline","isIndent","tabs","spaces","indents","amount","maxUsed","maxWeight","u","w","getMostUsed","detectIndent","Set","unequal","bElements","element","bElement","actualElement","expectedElement","orBranch","multiline","regExp","digitWidth","hexDumpWidth","hexDump","maxLength","asciiChars","octet","codeStr","numBits","intOrUint","Constructor","Buffer.isBuffer","not","epsilon","toExponential","className","superset","captures","flushUntilIndex","removedHighlight","attribute","negated","subjectKey","expectedPropertyValue","actualPropertyValue","propertyNames","unsupportedPropertyNames","only","subjectKeys","keyInValue","valueKey","properties","keysInSubject","hasKeys","subjectIsArrayLike","ranges","needle","partial","endIndex","firstUncoveredIndex","partialMatch","excessItems","missingItems","isTruncated","outputSubject","finish","threw","output$1","appendErrorMessage","nextArg","keyResults","expectedObject","traverse","unwrappedValue","argTypes","unwrappedSubject","valueType","valueKeys","convertedSubject","keyPromises","thisObject","remainingKeysInSubject","exhaustively","outstandingKeys","toSatisfyMatrix","indexByIndexChanges","failWithChanges","isAsync","subjectElements","valueElements","existingResult","arrayChangesAsync","propertyOutput$1","toSatisfyResult","disallowedConstructors","wrapDiffWithTypePrefixAndSuffix","instantiate","ProxyConstructor","promiseByKey","forceExhaustivelyComparison","subjectHasKey","valueHasKey","valueKeyType","missingArrayIndex","annotationOnNextLine","compareFunction","numerically","nextAssertion","isOperational","propertyIsEnumerable","callbackArgs","calledTwice","assert","subjectElement","subjectIndex","expectedType","results","promiseBySubjectIndexAndValueIndex","promiseByValueIndexAndSubjectIndex","valueElement","valueIndex","row"],"mappings":"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"}