@using ODK.Core.Platforms
@using ODK.Web.Common.Components
@using ODK.Web.Common.Services
@using ODK.Web.Razor.Models.Header
@using ODK.Web.Razor.Pages.Chapters
@using ODK.Web.Razor.Services
@inject IRequestStore RequestStore
@{
    Layout = "_Layout";

    var platform = RequestStore.Platform;
    var member = RequestStore.CurrentMemberOrDefault;
}

@RenderBody()

@section meta
{
    @await RenderSectionAsync("meta", required: false)
}

@section styles
{
    @await RenderSectionAsync("styles", required: false)
}

@section scripts
{
    @await RenderSectionAsync("scripts", required: false)
}

@section header
{
    @if (platform == PlatformType.DrunkenKnitwits)
    {
        @await Html.PartialAsync("Header/_OdkHomeHeader")
    }
    
    @await RenderSectionAsync("header", required: false)
}

@section footer
{
    @await Html.PartialAsync("Footer/_HomeFooter")
}