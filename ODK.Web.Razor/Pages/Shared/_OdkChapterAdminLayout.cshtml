@using ODK.Web.Common.Extensions
@using ODK.Web.Razor.Models.Admin
@using ODK.Web.Razor.Models.Components
@using ODK.Web.Razor.Models.Header
@using ODK.Core.Chapters
@using ODK.Core.Members
@using ODK.Web.Razor.Pages.Chapters
@using ODK.Web.Razor.Services
@inject IRequestStore RequestStore
@{
    Layout = "_OdkChapterLayout";

    var chapter = await RequestStore.GetChapter();
    var member = await RequestStore.GetCurrentMemberOrDefault();
    if (chapter == null || member == null)
    {
        return;
    }
}

@await Html.PartialAsync("Components/_Body", new BodyViewModel
{
    Title = "Admin",
    Content = RenderBody()
})

@section styles
{
    @await RenderSectionAsync("styles", required: false)
}

@section scripts
{
    <script src="/js/odk.admin.js" asp-append-version="true"></script>
    <script src="~/js/odk.lists.js" asp-append-version="true"></script>

    @await RenderSectionAsync("scripts", required: false)
}

