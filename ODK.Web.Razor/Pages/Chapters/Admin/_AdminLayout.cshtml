@using ODK.Web.Razor.Models.Header
@using ODK.Core.Chapters
@using ODK.Core.Members
@using ODK.Services.Caching
@inject IRequestCache RequestCache
@{
    Layout = "Shared/_Layout";

    var chapterContext = new ChapterPageContext(RequestCache, Context);
    var chapter = await chapterContext.GetChapterAsync();
    var member = await chapterContext.GetMemberAsync();
    if (chapter == null || member == null)
    {
        return;
    }
}

@section header
{
    @await Html.PartialAsync("Header/_AdminHeader", new AdminHeaderViewModel(chapter, member))
}

@RenderBody()

@section styles
{
    @await RenderSectionAsync("styles", required: false)
}

@section scripts
{
    <script src="/js/odk.admin.js" asp-append-version="true"></script>

    @await RenderSectionAsync("scripts", required: false)
}

