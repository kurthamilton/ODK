@using ODK.Services.Chapters.ViewModels
@using ODK.Web.Common.Components
@using ODK.Web.Common.Routes
@using ODK.Web.Razor.Models.Components
@model SiteAdminChapterViewModel
@inject IOdkRoutes OdkRoutes
@{
    var chapterName = Model.Chapter.GetDisplayName(Model.Platform);
}

@await Html.PartialAsync("Components/_Breadcrumbs", new BreadcrumbsViewModel
{
    Breadcrumbs = new[]
    {
        new MenuItem 
        { 
            Icon = IconType.ArrowLeft,
            Link = OdkRoutes.SiteAdmin.Groups, 
            Text = "Back to groups" },
    }
})

<h2>@chapterName</h2>

<form method="post">
    @*@Html.AntiForgeryToken()*@

    @await Html.PartialAsync("SiteAdmin/_SiteAdminGroupContentForm", new SiteAdminChapterFormViewModel
    {
        SitePaymentSettings = Model.SitePaymentSettings,
        SiteSubscriptionId = Model.Subscription?.SiteSubscriptionId,
        SiteSubscriptions = Model.SiteSubscriptions,
        SubscriptionExpiresUtc = Model.Subscription?.ExpiresUtc
    })
    <button class="btn btn-primary">Update</button>    
</form>