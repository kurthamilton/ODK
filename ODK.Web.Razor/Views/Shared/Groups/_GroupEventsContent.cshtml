@using ODK.Core.Chapters
@using ODK.Core.Events
@using ODK.Services.Chapters.ViewModels
@using ODK.Services.Events
@using ODK.Services.Events.ViewModels
@using ODK.Web.Common.Routes
@using ODK.Web.Razor.Models.Events
@model GroupEventsPageViewModel

@await Html.PartialAsync("Events/_EventList2", new EventListViewModel
{
    Chapter = Model.Chapter,
    Events = Model.Events
        .Select(x => new EventResponseViewModel(x.Event, x.Venue, x.Response?.Type ?? EventResponseType.None, false))
        .ToArray(),
    Platform = Model.Platform,
    TimeZone = Model.Chapter.TimeZone ?? TimeZoneInfo.FindSystemTimeZoneById(Chapter.DefaultTimeZoneId)
})