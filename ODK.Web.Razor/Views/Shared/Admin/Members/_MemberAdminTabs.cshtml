@using ODK.Core.Platforms
@using ODK.Services.Members.ViewModels
@using ODK.Web.Common.Components
@using ODK.Web.Common.Routes
@using ODK.Web.Razor.Models.Components
@model MemberAdminPageViewModelBase
@inject IOdkRoutes OdkRoutes
@{
    var menuItems = new List<MenuItem>
    {
        new MenuItem { Link = OdkRoutes.GroupAdmin.Member(Model.Chapter, Model.Member.Id), Text = "Subscription" },
        new MenuItem { Link = OdkRoutes.GroupAdmin.MemberEvents(Model.Chapter, Model.Member.Id), Text = "Events" },
        new MenuItem { Link = OdkRoutes.GroupAdmin.MemberPayments(Model.Chapter, Model.Member.Id), Text = "Payments" },
        new MenuItem { Link = OdkRoutes.GroupAdmin.MemberConversations(Model.Chapter, Model.Member.Id), Text = "Conversations" },
        new MenuItem { Link = OdkRoutes.GroupAdmin.MemberDelete(Model.Chapter, Model.Member.Id), Text = "Delete" }
    };

    if (Model.Platform == PlatformType.DrunkenKnitwits)
    {
        menuItems.Add(new MenuItem { Link = OdkRoutes.GroupAdmin.MemberImage(Model.Chapter, Model.Member.Id), Text = "Image" });
    }
}

@await Html.PartialAsync("Components/_Tabs", new TabsViewModel
{
    MenuItems = menuItems
})