@using ODK.Core.Platforms
@using ODK.Services.Members.ViewModels
@using ODK.Web.Common.Routes
@using ODK.Web.Common.Services
@using ODK.Web.Razor.Models.Components
@model MemberAdminPageViewModelBase
@inject IOdkRoutes OdkRoutes
@inject IRequestStore RequestStore
@{
    var currentMember = RequestStore.CurrentMember;
    var adminMember = await RequestStore.GetCurrentChapterAdminMember();
    var routes = OdkRoutes.GroupAdmin;

    var menuItems = new ChapterAdminMenuItemGroup(currentMember, adminMember, Model.Platform)
        .Add(routes.Member(Model.Chapter, Model.Member.Id), "Subscription")
        .Add(routes.MemberEvents(Model.Chapter, Model.Member.Id), "Events")
        .Add(routes.MemberPayments(Model.Chapter, Model.Member.Id), "Payments")
        .Add(routes.MemberConversations(Model.Chapter, Model.Member.Id), "Conversations")
        .Add(routes.MemberDelete(Model.Chapter, Model.Member.Id), "Delete")
        .Add(routes.MemberImage(Model.Chapter, Model.Member.Id), "Image");

}

@await Html.PartialAsync("Components/_Tabs", new TabsViewModel
{
    MenuItems = menuItems
})