@using ODK.Core.Utils
@using ODK.Web.Razor.Models.Chapters
@using ODK.Web.Razor.Models.Components
@model ChapterConversationViewModel

@await Html.PartialAsync("Components/_Messages", new MessagesViewModel
{
    CurrentMember = Model.CurrentMember,
    TimeZone = Model.TimeZone,
    Messages = Model.Messages
        .Select(x => new MessageViewModel
        {
            CreatedUtc = x.Message.CreatedUtc,
            MemberId = x.Message.MemberId,
            MemberFullName = x.MemberFullName,
            Text = x.Message.Text
        })
        .ToArray()
})
